{
  "modules": {
    "src/gameBootstrap.js": {
      "imports": ["./game.js"],
      "functions": {}
    },
    "src/game.js": {
      "imports": [
        "./helpers/dataUtils.js",
        "./helpers/carouselBuilder.js",
        "./helpers/randomCard.js",
        "./helpers/constants.js",
        "./helpers/motionUtils.js",
        "./helpers/tooltip.js",
        "./helpers/cardUtils.js",
        "./helpers/featureFlags.js",
        "./helpers/debug.js"
      ],
      "functions": {
        "setupCarouselToggle": {
          "calls": [
            "warn",
            "remove",
            "error",
            "fetchJson",
            "isArray",
            "validateData",
            "push",
            "buildCardCarousel",
            "appendChild",
            "querySelector",
            "initScrollMarkers",
            "debugLog",
            "addEventListener"
          ],
          "patterns": []
        },
        "handleClick": {
          "calls": [
            "remove",
            "error",
            "fetchJson",
            "isArray",
            "validateData",
            "push",
            "buildCardCarousel",
            "appendChild",
            "querySelector",
            "initScrollMarkers",
            "debugLog"
          ],
          "patterns": []
        },
        "setupHideCardButton": {
          "calls": [
            "addEventListener",
            "querySelector",
            "error",
            "querySelectorAll",
            "forEach",
            "click"
          ],
          "patterns": []
        },
        "setupRandomCardButton": {
          "calls": [
            "addEventListener",
            "add",
            "shouldReduceMotionSync",
            "generateRandomCard",
            "remove"
          ],
          "patterns": []
        },
        "initGame": {
          "calls": [
            "getElementById",
            "initFeatureFlags",
            "isEnabled",
            "toggleInspectorPanels",
            "addEventListener",
            "setupCarouselToggle",
            "setupHideCardButton",
            "setupRandomCardButton",
            "initTooltips"
          ],
          "patterns": []
        }
      }
    },
    "scripts/waitForRoundResolve.js": {
      "imports": ["playwright", "./lib/debugUtils.js", "../tests/utils/battleStoreAccess.js"],
      "functions": {}
    },
    "scripts/validateTestArchitecture.js": {
      "imports": ["fs", "path"],
      "functions": {
        "findTestFiles": {
          "calls": [
            "readdirSync",
            "join",
            "statSync",
            "isDirectory",
            "includes",
            "findTestFiles",
            "endsWith",
            "push"
          ],
          "patterns": []
        },
        "analyzeTestFile": {
          "calls": ["readFileSync", "entries", "test", "push", "filter"],
          "patterns": []
        },
        "generateReport": {
          "calls": ["log", "filter", "round", "forEach", "replace", "cwd", "slice"],
          "patterns": []
        }
      }
    },
    "scripts/validateData.js": {
      "imports": [
        "glob",
        "node:path",
        "node:url",
        "node:fs",
        "node:fs/promises",
        "ajv",
        "ajv-formats"
      ],
      "functions": {}
    },
    "scripts/runRoundToCompletion.js": {
      "imports": ["playwright", "./lib/debugUtils.js"],
      "functions": {}
    },
    "scripts/runPlaywright.js": {
      "imports": ["child_process", "path", "url"],
      "functions": {
        "runPlaywrightCommand": {
          "calls": ["spawn", "on", "resolve"],
          "patterns": []
        }
      }
    },
    "scripts/runPa11y.js": {
      "imports": ["child_process", "path", "url"],
      "functions": {
        "waitForOutput": {
          "calls": [
            "test",
            "toString",
            "cleanup",
            "resolve",
            "setTimeout",
            "reject",
            "clearTimeout",
            "off",
            "on"
          ],
          "patterns": []
        },
        "onData": {
          "calls": ["test", "toString", "cleanup", "resolve"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["clearTimeout", "off"],
          "patterns": []
        },
        "runCommand": {
          "calls": ["spawn", "on", "resolve"],
          "patterns": []
        }
      }
    },
    "scripts/runMermaid.js": {
      "imports": ["child_process", "path", "url", "fs"],
      "functions": {
        "runMermaidCommand": {
          "calls": ["spawn", "on", "reject", "resolve"],
          "patterns": []
        },
        "getConfigArgs": {
          "calls": ["existsSync", "parse", "readFileSync", "push", "warn"],
          "patterns": []
        }
      }
    },
    "scripts/pw-value-evaluator.js": {
      "imports": ["fs", "path"],
      "functions": {
        "scanDir": {
          "calls": [
            "existsSync",
            "readdirSync",
            "join",
            "statSync",
            "isDirectory",
            "scanDir",
            "endsWith",
            "push"
          ],
          "patterns": []
        }
      }
    },
    "scripts/playwrightServer.js": {
      "imports": ["http", "fs", "path", "url"],
      "functions": {
        "getContentType": {
          "calls": ["toLowerCase", "extname"],
          "patterns": []
        }
      }
    },
    "scripts/networkProbe.js": {
      "imports": ["playwright"],
      "functions": {}
    },
    "scripts/generatePrdIndex.js": {
      "imports": ["node:fs/promises"],
      "functions": {
        "collectPrdMarkdownFiles": {
          "calls": [
            "readdir",
            "isDirectory",
            "collectPrdMarkdownFiles",
            "push",
            "startsWith",
            "endsWith"
          ],
          "patterns": []
        }
      }
    },
    "scripts/generateCodeGraphs.js": {
      "imports": ["node:fs/promises", "node:path", "node:url", "glob", "acorn", "estree-walker"],
      "functions": {
        "getCallName": {
          "calls": ["getCallName"],
          "patterns": []
        },
        "gatherCalls": {
          "calls": ["walk", "getCallName", "add", "from"],
          "patterns": []
        },
        "detectPatterns": {
          "calls": ["test", "push", "includes"],
          "patterns": []
        },
        "analyzeFile": {
          "calls": [
            "readFile",
            "join",
            "parse",
            "push",
            "walk",
            "gatherCalls",
            "detectPatterns",
            "from"
          ],
          "patterns": []
        },
        "generate": {
          "calls": ["glob", "analyzeFile", "writeFile", "join", "stringify"],
          "patterns": []
        }
      }
    },
    "scripts/diagnosePlaywrightNode.js": {
      "imports": ["playwright"],
      "functions": {}
    },
    "scripts/diagnosePlaywrightInteractive.js": {
      "imports": ["playwright", "./lib/debugUtils.js"],
      "functions": {
        "run": {
          "calls": [
            "buildBaseUrl",
            "launch",
            "newContext",
            "newPage",
            "installSelectorGuard",
            "attachLoggers",
            "log",
            "goto",
            "waitButtonsReady",
            "getStatButtons",
            "find",
            "tryClickStat",
            "waitForTimeout",
            "getBattleSnapshot",
            "push",
            "trim",
            "$",
            "getAttribute",
            "click",
            "stringify",
            "takeScreenshot",
            "close"
          ],
          "patterns": []
        }
      }
    },
    "scripts/diagnosePlaywright.spec.js": {
      "imports": ["@playwright/test"],
      "functions": {}
    },
    "scripts/diagnosePlaywright.js": {
      "imports": ["@playwright/test"],
      "functions": {}
    },
    "scripts/debugSnackbar.js": {
      "imports": ["playwright"],
      "functions": {}
    },
    "scripts/debugBattleProgression.js": {
      "imports": ["playwright", "./lib/debugUtils.js", "../tests/utils/battleStoreAccess.js"],
      "functions": {}
    },
    "scripts/checkHotPaths.js": {
      "imports": ["node:child_process"],
      "functions": {}
    },
    "scripts/check-playwright-patterns.js": {
      "imports": ["fs", "child_process"],
      "functions": {
        "checkFile": {
          "calls": [
            "readFileSync",
            "split",
            "some",
            "includes",
            "forEach",
            "join",
            "slice",
            "max",
            "test",
            "push",
            "trim"
          ],
          "patterns": []
        },
        "findPlaywrightFiles": {
          "calls": ["execSync", "filter", "split", "trim", "error"],
          "patterns": []
        },
        "main": {
          "calls": [
            "slice",
            "includes",
            "log",
            "findPlaywrightFiles",
            "exit",
            "checkFile",
            "push",
            "join",
            "forEach",
            "stringify"
          ],
          "patterns": []
        }
      }
    },
    "scripts/check-canonical-timers.js": {
      "imports": ["child_process", "url", "path"],
      "functions": {}
    },
    "playwright/win-target-sync.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/appConfig.js",
        "./helpers/battleStateHelper.js",
        "./helpers/scoreUtils.js"
      ],
      "functions": {
        "openSettingsPanel": {
          "calls": ["locator", "toBeVisible", "expect", "evaluate", "click", "toHaveJSProperty"],
          "patterns": []
        },
        "roundCounterPattern": {
          "calls": [],
          "patterns": []
        },
        "readPlayerScore": {
          "calls": [
            "getPlayerScore",
            "isFinite",
            "locator",
            "count",
            "getAttribute",
            "Number",
            "parseScores",
            "textContent"
          ],
          "patterns": []
        },
        "selectWinTargetAndVerify": {
          "calls": [
            "locator",
            "toBeVisible",
            "expect",
            "press",
            "toBeHidden",
            "openSettingsPanel",
            "toHaveValue",
            "toHaveText",
            "roundCounterPattern"
          ],
          "patterns": []
        },
        "finishMatchAtTarget": {
          "calls": [
            "evaluate",
            "resetBattle",
            "waitForBattleReady",
            "getBattleStore",
            "dispatchBattleEvent",
            "getScores",
            "Number",
            "String",
            "toBe",
            "expect",
            "isFinite",
            "readPlayerScore",
            "max",
            "toBeGreaterThanOrEqual"
          ],
          "patterns": []
        }
      }
    },
    "playwright/tooltip.spec.js": {
      "imports": ["node:fs", "./fixtures/commonSetup.js", "../src/helpers/tooltip.js"],
      "functions": {
        "tooltipLines": {
          "calls": ["filter", "map", "split", "replace", "trim"],
          "patterns": []
        },
        "loadBrowsePage": {
          "calls": ["goto", "waitForLoadState", "locator", "waitFor"],
          "patterns": []
        }
      }
    },
    "playwright/static-pages.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "./fixtures/navigationChecks.js"],
      "functions": {}
    },
    "playwright/stat-hotkeys.smoke.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/appConfig.js",
        "./helpers/featureFlagHelper.js"
      ],
      "functions": {
        "launchClassicBattle": {
          "calls": [
            "configureApp",
            "keys",
            "addInitScript",
            "goto",
            "applyRuntime",
            "all",
            "waitForURL",
            "$",
            "first",
            "getByText",
            "click",
            "getByTestId",
            "count",
            "toBeGreaterThan",
            "expect",
            "toBeVisible",
            "toHaveAttribute",
            "locator"
          ],
          "patterns": []
        }
      }
    },
    "playwright/settings.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/waits.js",
        "fs",
        "wcag-contrast",
        "../src/config/settingsDefaults.js",
        "./fixtures/navigationChecks.js",
        "./fixtures/appConfig.js",
        "../tests/fixtures/navigationItems.js"
      ],
      "functions": {
        "parseNavigationModeId": {
          "calls": ["isSafeInteger", "parseInt"],
          "patterns": []
        },
        "resolveNavigationModeId": {
          "calls": ["parseNavigationModeId", "has"],
          "patterns": []
        },
        "getLabelData": {
          "calls": [
            "filter",
            "map",
            "resolveNavigationModeId",
            "reduce",
            "set",
            "sort",
            "slice",
            "get",
            "keys"
          ],
          "patterns": []
        },
        "openSections": {
          "calls": ["has", "locator", "evaluate", "click", "toHaveJSProperty", "expect"],
          "patterns": []
        },
        "queryState": {
          "calls": ["evaluate", "matches"],
          "patterns": []
        },
        "rgbToHex": {
          "calls": [
            "map",
            "split",
            "replace",
            "parseInt",
            "trim",
            "isFinite",
            "join",
            "padStart",
            "toString",
            "max",
            "min"
          ],
          "patterns": []
        },
        "measure": {
          "calls": ["evaluate", "first", "locator", "getBoundingClientRect", "round"],
          "patterns": []
        },
        "snapshot": {
          "calls": ["evaluate", "getComputedStyle", "querySelector", "trim", "getPropertyValue"],
          "patterns": []
        },
        "stateFor": {
          "calls": ["find"],
          "patterns": []
        }
      }
    },
    "playwright/round-select-keyboard.spec.js": {
      "imports": ["./fixtures/battleCliFixture.js", "./fixtures/appConfig.js"],
      "functions": {}
    },
    "playwright/random-judoka.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "./fixtures/navigationChecks.js"],
      "functions": {}
    },
    "playwright/pseudo-japanese-toggle.spec.js": {
      "imports": [
        "path",
        "url",
        "./fixtures/commonSetup.js",
        "./fixtures/navigationChecks.js",
        "./fixtures/appConfig.js"
      ],
      "functions": {}
    },
    "playwright/prd-reader.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "./fixtures/navigationChecks.js"],
      "functions": {
        "getDocId": {
          "calls": ["getAttribute"],
          "patterns": []
        },
        "expectDocA": {
          "calls": ["toHaveAttribute", "expect", "toContainText"],
          "patterns": []
        },
        "expectDocB": {
          "calls": ["toHaveAttribute", "expect", "toContainText"],
          "patterns": []
        },
        "expectActiveTab": {
          "calls": ["toBeChecked", "expect", "nth", "toHaveAttribute"],
          "patterns": []
        },
        "expectNoOverflow": {
          "calls": ["evaluate", "toBe", "expect"],
          "patterns": []
        }
      }
    },
    "playwright/opponent-choosing.smoke.spec.js": {
      "imports": [
        "@playwright/test",
        "./fixtures/appConfig.js",
        "./fixtures/commonRoutes.js",
        "./helpers/featureFlagHelper.js"
      ],
      "functions": {
        "launchClassicBattle": {
          "calls": [
            "registerCommonRoutes",
            "configureApp",
            "addInitScript",
            "goto",
            "waitForFunction",
            "Boolean",
            "locator",
            "first",
            "getByRole",
            "toBeVisible",
            "expect",
            "toHaveAttribute",
            "waitForFeatureFlagOverrides",
            "getByTestId"
          ],
          "patterns": []
        },
        "waitForBattleEvent": {
          "calls": [
            "evaluate",
            "reject",
            "removeEventListener",
            "resolve",
            "addEventListener",
            "isFinite",
            "setTimeout"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["removeEventListener", "resolve"],
          "patterns": []
        },
        "confirmOpponentPrompt": {
          "calls": [
            "waitForBattleEvent",
            "click",
            "toHaveAttribute",
            "expect",
            "toBeDisabled",
            "toBeHidden",
            "toContainText",
            "toBeVisible"
          ],
          "patterns": []
        }
      }
    },
    "playwright/meditation-screen.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/navigationChecks.js",
        "./fixtures/appConfig.js"
      ],
      "functions": {
        "stubQuoteResponses": {
          "calls": ["route", "min", "fulfill", "stringify"],
          "patterns": []
        },
        "loadMeditation": {
          "calls": [
            "configureApp",
            "goto",
            "applyRuntime",
            "waitForFunction",
            "Boolean",
            "evaluate"
          ],
          "patterns": []
        }
      }
    },
    "playwright/manual-verification-interrupt.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./helpers/battleStateHelper.js",
        "./helpers/battleApiHelper.js",
        "./helpers/cooldownFixtures.js"
      ],
      "functions": {
        "navigateToBattle": {
          "calls": [
            "applyDeterministicCooldown",
            "keys",
            "addInitScript",
            "goto",
            "waitForTestApi"
          ],
          "patterns": []
        },
        "launchClassicBattle": {
          "calls": [
            "navigateToBattle",
            "getByRole",
            "toBeVisible",
            "expect",
            "click",
            "toHaveAttribute",
            "getByTestId"
          ],
          "patterns": []
        }
      }
    },
    "playwright/local.config.js": {
      "imports": ["@playwright/test"],
      "functions": {}
    },
    "playwright/hover-zoom.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "./fixtures/waits.js", "./helpers/browseTestApi.js"],
      "functions": {
        "readScale": {
          "calls": [
            "evaluate",
            "getComputedStyle",
            "startsWith",
            "map",
            "split",
            "slice",
            "parseFloat",
            "trim",
            "isFinite"
          ],
          "patterns": []
        },
        "expectScale": {
          "calls": ["toBeCloseTo", "poll", "readScale"],
          "patterns": []
        },
        "expectToBeEnlarged": {
          "calls": ["expectScale"],
          "patterns": []
        },
        "expectToBeCollapsed": {
          "calls": ["expectScale"],
          "patterns": []
        },
        "expectHoverState": {
          "calls": ["toBe", "poll", "evaluate", "matches"],
          "patterns": []
        },
        "movePointerAwayFromCards": {
          "calls": ["move"],
          "patterns": []
        },
        "gotoBrowsePage": {
          "calls": [
            "goto",
            "waitForBrowseReady",
            "toBe",
            "expect",
            "ensureBrowseCarouselReady",
            "disableBrowseHoverAnimations"
          ],
          "patterns": []
        }
      }
    },
    "playwright/homepage.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "wcag-contrast"],
      "functions": {
        "toHex": {
          "calls": [
            "startsWith",
            "test",
            "match",
            "map",
            "round",
            "max",
            "min",
            "parseFloat",
            "join",
            "padStart",
            "toString"
          ],
          "patterns": []
        }
      }
    },
    "playwright/homepage-layout.spec.js": {
      "imports": ["./fixtures/commonSetup.js"],
      "functions": {
        "captureHomeLayout": {
          "calls": [
            "locator",
            "toBeVisible",
            "expect",
            "viewportSize",
            "evaluate",
            "getComputedStyle",
            "filter",
            "split",
            "count",
            "boundingBox",
            "nth",
            "push",
            "max",
            "map",
            "toBeLessThanOrEqual",
            "toBeLessThan"
          ],
          "patterns": []
        },
        "gotoHome": {
          "calls": ["goto", "waitForLoadState", "toBeVisible", "expect", "locator"],
          "patterns": []
        },
        "ensureMeaningfulFocus": {
          "calls": ["toBeVisible", "expect", "focus", "toBeFocused"],
          "patterns": []
        }
      }
    },
    "playwright/countdown.spec.js": {
      "imports": ["./fixtures/battleCliFixture.js", "../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/cli.spec.js": {
      "imports": ["./fixtures/battleCliFixture.js", "./helpers/battleStateHelper.js"],
      "functions": {
        "buildCliUrl": {
          "calls": ["toString"],
          "patterns": []
        }
      }
    },
    "playwright/cli-verbose-toggle.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/appConfig.js",
        "./helpers/battleStateHelper.js"
      ],
      "functions": {
        "loadBattleCli": {
          "calls": [
            "configureApp",
            "goto",
            "applyRuntime",
            "getByText",
            "getByRole",
            "locator",
            "getByLabel"
          ],
          "patterns": []
        },
        "isVerboseEnabled": {
          "calls": ["evaluate", "parse", "getItem", "warn"],
          "patterns": []
        },
        "startMatch": {
          "calls": ["press", "waitForBattleState"],
          "patterns": []
        }
      }
    },
    "playwright/cli-scroll.spec.js": {
      "imports": ["./fixtures/commonSetup.js", "./helpers/battleStateHelper.js"],
      "functions": {
        "enableVerboseLogging": {
          "calls": ["locator", "toBeVisible", "expect", "isChecked", "check"],
          "patterns": []
        },
        "appendVerboseEntries": {
          "calls": ["evaluate", "dispatch"],
          "patterns": []
        },
        "getScrollTop": {
          "calls": ["evaluate"],
          "patterns": []
        }
      }
    },
    "playwright/cli-layout.spec.js": {
      "imports": ["./fixtures/battleCliFixture.js", "./helpers/battleStateHelper.js"],
      "functions": {
        "gotoBattleCli": {
          "calls": ["goto", "waitForBattleReady"],
          "patterns": []
        }
      }
    },
    "playwright/cli-command-history.spec.js": {
      "imports": [
        "./fixtures/battleCliFixture.js",
        "./helpers/battleStateHelper.js",
        "./helpers/battleApiHelper.js"
      ],
      "functions": {}
    },
    "playwright/card-aspect-ratio.spec.js": {
      "imports": ["./fixtures/commonSetup.js"],
      "functions": {}
    },
    "playwright/browse-judoka.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "./fixtures/navigationChecks.js",
        "./fixtures/waits.js",
        "../tests/fixtures/judoka.json",
        "../src/data/countryCodeMapping.json"
      ],
      "functions": {
        "expectBrowseReadiness": {
          "calls": ["waitForBrowseReady", "toBe", "expect"],
          "patterns": []
        }
      }
    },
    "playwright/battle-cli-start.spec.js": {
      "imports": ["./fixtures/battleCliFixture.js", "../tests/utils/console.js"],
      "functions": {
        "enableRoundSelectModal": {
          "calls": ["addInitScript"],
          "patterns": []
        }
      }
    },
    "playwright/battle-cli-restart.spec.js": {
      "imports": [
        "./fixtures/commonSetup.js",
        "../tests/utils/console.js",
        "./fixtures/appConfig.js",
        "./helpers/battleStateHelper.js",
        "./helpers/battleApiHelper.js"
      ],
      "functions": {}
    },
    "playwright/battle-cli-play.spec.js": {
      "imports": [
        "./fixtures/battleCliFixture.js",
        "../tests/utils/console.js",
        "./helpers/battleStateHelper.js"
      ],
      "functions": {}
    },
    "tests/waitForState.js": {
      "imports": [
        "../src/helpers/testLogGate.js",
        "../src/helpers/classicBattle/battleEvents.js",
        "../src/helpers/classicBattle/battleDebug.js"
      ],
      "functions": {
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        },
        "waitForState": {
          "calls": [
            "getStateSnapshot",
            "resolve",
            "debugLog",
            "offBattleEvent",
            "onBattleEvent",
            "setTimeout",
            "reject"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["debugLog", "offBattleEvent", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/waitFor.js": {
      "imports": ["vitest"],
      "functions": {
        "waitFor": {
          "calls": ["toBe", "poll", "predicate"],
          "patterns": []
        }
      }
    },
    "tests/setup.js": {
      "imports": [
        "vitest",
        "./utils/testUtils.js",
        "./utils/console.js",
        "../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "applyConsoleMuting": {
          "calls": ["muteConsole"],
          "patterns": []
        },
        "ensureFreshBattleEngine": {
          "calls": ["createBattleEngine"],
          "patterns": []
        },
        "ensurePointsToWinDataset": {
          "calls": [],
          "patterns": []
        },
        "parseUrlSafely": {
          "calls": ["String"],
          "patterns": []
        },
        "sameOrigin": {
          "calls": ["parseUrlSafely"],
          "patterns": []
        },
        "setupMockLocation": {
          "calls": ["defineProperty"],
          "patterns": []
        }
      }
    },
    "tests/roundManager.cooldown-ready.spec.js": {
      "imports": [
        "vitest",
        "./setup/fakeTimers.js",
        "../src/helpers/classicBattle/roundManager.js",
        "../src/helpers/classicBattle/cooldownOrchestrator.js",
        "../src/helpers/classicBattle/debugHooks.js"
      ],
      "functions": {
        "testClampingBehavior": {
          "calls": [
            "createMockCooldownDependencies",
            "startCooldown",
            "createBattleStore",
            "toHaveBeenCalledWith",
            "expect"
          ],
          "patterns": []
        },
        "createMockCooldownDependencies": {
          "calls": ["fn", "set", "Symbol"],
          "patterns": ["factory"]
        },
        "createSchedulerHarness": {
          "calls": ["fn", "cb", "push"],
          "patterns": ["factory"]
        },
        "createOrchestratorOverrides": {
          "calls": ["createSchedulerHarness", "fn"],
          "patterns": ["factory"]
        },
        "createNextButtonStub": {
          "calls": ["fn", "set", "String", "delete", "get"],
          "patterns": ["factory"]
        },
        "stubNextButtonLookup": {
          "calls": ["call"],
          "patterns": []
        },
        "exposeMachineForTest": {
          "calls": ["Boolean", "has", "get", "exposeDebugState", "set", "delete"],
          "patterns": []
        },
        "readTraceEntries": {
          "calls": ["readDebugState", "isArray"],
          "patterns": []
        },
        "readTraceEvents": {
          "calls": ["map", "readTraceEntries"],
          "patterns": []
        },
        "fakeTimerFactory": {
          "calls": ["expired"],
          "patterns": ["factory"]
        },
        "delayedTimerFactory": {
          "calls": ["setTimeout", "expired"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/randomJudoka.test.js": {
      "imports": ["vitest", "../src/helpers/randomJudoka.js"],
      "functions": {
        "createSeededRng": {
          "calls": [],
          "patterns": ["factory"]
        }
      }
    },
    "tests/queryExpander.test.js": {
      "imports": ["vitest", "../src/helpers/queryExpander.js"],
      "functions": {
        "getMockSynonymMap": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/judokaComparison.test.js": {
      "imports": ["vitest", "../src/helpers/judokaComparison.js"],
      "functions": {}
    },
    "tests/fixtures.reference.js": {
      "imports": [],
      "functions": {
        "createMockLocalStorage": {
          "calls": ["String", "forEach", "keys"],
          "patterns": ["factory"]
        },
        "createMockFetch": {
          "calls": ["fn", "mockImplementation", "String", "entries", "includes"],
          "patterns": ["factory"]
        },
        "createMockMatchMedia": {
          "calls": ["push", "indexOf", "splice"],
          "patterns": ["factory"]
        },
        "createMockSentry": {
          "calls": ["fn", "reduce"],
          "patterns": ["factory"]
        },
        "createMockGeolocation": {
          "calls": ["fn", "success", "now"],
          "patterns": ["factory"]
        },
        "createCompleteTestEnvironment": {
          "calls": [
            "createMockLocalStorage",
            "forEach",
            "entries",
            "setItem",
            "stringify",
            "createMockFetch",
            "createMockMatchMedia",
            "createMockSentry"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "tests/advancedFilters.test.js": {
      "imports": ["vitest", "../src/helpers/advancedFilters.js"],
      "functions": {}
    },
    "src/vendor/marked.esm.js": {
      "imports": [],
      "functions": {
        "renderInline": {
          "calls": ["replace"],
          "patterns": []
        },
        "renderList": {
          "calls": ["forEach", "match", "floor", "test", "pop", "renderInline", "push"],
          "patterns": []
        },
        "renderTable": {
          "calls": [
            "filter",
            "test",
            "trim",
            "startsWith",
            "slice",
            "endsWith",
            "map",
            "split",
            "splitRow",
            "join",
            "renderInline"
          ],
          "patterns": []
        },
        "splitRow": {
          "calls": ["trim", "startsWith", "slice", "endsWith", "map", "split"],
          "patterns": []
        }
      }
    },
    "src/vendor/ajv6.min.js": {
      "imports": [],
      "functions": {
        "ue": {
          "calls": ["O"],
          "patterns": []
        },
        "h": {
          "calls": ["message", "url", "normalizeId", "fullPath"],
          "patterns": []
        },
        "f": {
          "calls": ["replace"],
          "patterns": []
        },
        "d": {
          "calls": ["normalizeId"],
          "patterns": []
        },
        "m": {
          "calls": ["test", "del"],
          "patterns": []
        },
        "S": {
          "calls": ["w"],
          "patterns": []
        },
        "e": {
          "calls": ["Array", "slice", "join"],
          "patterns": []
        },
        "p": {
          "calls": ["replace"],
          "patterns": []
        },
        "s": {
          "calls": [],
          "patterns": []
        },
        "a": {
          "calls": [
            "copy",
            "v",
            "w",
            "addFormat",
            "addKeyword",
            "O",
            "addMetaSchema",
            "S",
            "isArray",
            "addSchema"
          ],
          "patterns": []
        },
        "_": {
          "calls": ["warn"],
          "patterns": []
        },
        "n": {
          "calls": ["slice", "split", "unescapeFragment", "_getId", "d", "call"],
          "patterns": []
        },
        "B": {
          "calls": [
            "match",
            "parseInt",
            "isNaN",
            "indexOf",
            "Z",
            "H",
            "toLowerCase",
            "N",
            "toASCII",
            "replace",
            "parse"
          ],
          "patterns": []
        },
        "dr": {
          "calls": ["call", "c", "a", "processCode", "error"],
          "patterns": []
        },
        "lr": {
          "calls": ["url", "Pr", "Y", "call", "inlineRef"],
          "patterns": []
        },
        "Y": {
          "calls": [],
          "patterns": []
        },
        "Pr": {
          "calls": [],
          "patterns": []
        },
        "ur": {
          "calls": ["match", "replace", "pop", "slice", "push", "join"],
          "patterns": []
        },
        "mr": {
          "calls": [
            "toLowerCase",
            "serialize",
            "test",
            "toUnicode",
            "toASCII",
            "replace",
            "N",
            "push",
            "Z",
            "H",
            "String",
            "join",
            "charAt",
            "ur"
          ],
          "patterns": []
        },
        "br": {
          "calls": ["B", "mr", "ur", "charAt", "slice", "lastIndexOf"],
          "patterns": []
        },
        "l": {
          "calls": ["isArray", "Object", "iterator", "next", "push", "return"],
          "patterns": []
        },
        "g": {
          "calls": ["push"],
          "patterns": []
        },
        "v": {
          "calls": ["toUpperCase"],
          "patterns": []
        },
        "w": {
          "calls": ["e", "t", "join"],
          "patterns": []
        },
        "r": {
          "calls": [],
          "patterns": []
        },
        "J": {
          "calls": ["er"],
          "patterns": []
        },
        "er": {
          "calls": [],
          "patterns": []
        },
        "t": {
          "calls": [],
          "patterns": []
        },
        "c": {
          "calls": ["toLowerCase", "shift", "split", "pop", "call"],
          "patterns": []
        },
        "P": {
          "calls": ["warn"],
          "patterns": []
        },
        "F": {
          "calls": [],
          "patterns": []
        },
        "x": {
          "calls": [],
          "patterns": []
        },
        "y": {
          "calls": [],
          "patterns": []
        },
        "i": {
          "calls": ["lastIndexOf", "charCodeAt", "P", "push", "d", "y", "splice", "apply"],
          "patterns": []
        },
        "E": {
          "calls": ["F", "iterator", "next", "push", "m", "return", "d", "P", "x", "y", "join"],
          "patterns": []
        },
        "I": {
          "calls": ["apply"],
          "patterns": []
        },
        "k": {
          "calls": ["parseInt", "substr", "fromCharCode"],
          "patterns": []
        },
        "N": {
          "calls": ["k", "match", "replace", "toLowerCase", "String"],
          "patterns": []
        },
        "b": {
          "calls": ["k", "match"],
          "patterns": []
        },
        "V": {
          "calls": ["replace"],
          "patterns": []
        },
        "H": {
          "calls": ["match", "l", "join", "map", "split"],
          "patterns": []
        },
        "Z": {
          "calls": [
            "match",
            "l",
            "reverse",
            "split",
            "toLowerCase",
            "map",
            "test",
            "Array",
            "H",
            "sort",
            "reduce",
            "push",
            "slice",
            "join"
          ],
          "patterns": []
        },
        "q": {
          "calls": ["replace", "toString"],
          "patterns": []
        },
        "ar": {
          "calls": ["toLowerCase", "String"],
          "patterns": []
        },
        "qr": {
          "calls": ["k", "match"],
          "patterns": []
        }
      }
    },
    "src/utils/scheduler.js": {
      "imports": [],
      "functions": {
        "start": {
          "calls": ["forEach", "cb", "floor", "requestAnimationFrame"],
          "patterns": []
        },
        "loop": {
          "calls": ["forEach", "cb", "floor", "requestAnimationFrame"],
          "patterns": []
        },
        "onFrame": {
          "calls": ["set", "start"],
          "patterns": []
        },
        "onSecondTick": {
          "calls": ["set", "start"],
          "patterns": []
        },
        "cancel": {
          "calls": ["delete"],
          "patterns": []
        },
        "stop": {
          "calls": ["cancelAnimationFrame", "clear"],
          "patterns": []
        },
        "pause": {
          "calls": [],
          "patterns": []
        },
        "resume": {
          "calls": [],
          "patterns": []
        },
        "createTestController": {
          "calls": ["floor", "forEach", "cb"],
          "patterns": ["factory"]
        }
      }
    },
    "src/utils/rafUtils.js": {
      "imports": [],
      "functions": {
        "rafDebounce": {
          "calls": ["cancelAnimationFrame", "apply", "requestAnimationFrame"],
          "patterns": []
        },
        "runAfterFrames": {
          "calls": ["fn", "requestAnimationFrame", "runAfterFrames"],
          "patterns": []
        }
      }
    },
    "src/utils/deepMerge.js": {
      "imports": [],
      "functions": {
        "deepMerge": {
          "calls": ["entries", "isPlainObject", "deepMerge", "isArray"],
          "patterns": []
        },
        "isPlainObject": {
          "calls": ["isArray"],
          "patterns": []
        }
      }
    },
    "src/utils/debounce.js": {
      "imports": [],
      "functions": {
        "debounce": {
          "calls": ["resolve", "fn", "reject", "onCancel", "clear", "cancelPending", "set", "run"],
          "patterns": []
        },
        "run": {
          "calls": ["resolve", "fn", "reject"],
          "patterns": []
        },
        "cancelPending": {
          "calls": ["resolve", "reject", "onCancel"],
          "patterns": []
        },
        "debounced": {
          "calls": ["clear", "cancelPending", "set", "run"],
          "patterns": []
        }
      }
    },
    "src/utils/countryCodes.js": {
      "imports": ["../helpers/dataUtils.js", "../helpers/constants.js"],
      "functions": {
        "loadMapping": {
          "calls": ["catch", "fetchJson", "warn", "importJsonModule"],
          "patterns": []
        },
        "normalizeCode": {
          "calls": ["toLowerCase", "trim", "test"],
          "patterns": []
        },
        "getCountryByCode": {
          "calls": ["normalizeCode", "loadMapping"],
          "patterns": []
        },
        "getCodeByCountry": {
          "calls": ["trim", "loadMapping", "toLowerCase", "values"],
          "patterns": []
        },
        "toArray": {
          "calls": ["loadMapping", "sort", "filter", "values", "localeCompare"],
          "patterns": []
        },
        "listCountries": {
          "calls": ["toArray", "map"],
          "patterns": []
        }
      }
    },
    "src/pages/index.js": {
      "imports": [],
      "functions": {}
    },
    "src/pages/battleClassic.init.js": {
      "imports": [
        "../helpers/timerUtils.js",
        "../helpers/classicBattle/roundManager.js",
        "../helpers/classicBattle/roundResolver.js",
        "../helpers/classicBattle/statButtons.js",
        "../helpers/classicBattle/quitModal.js",
        "../helpers/classicBattle/uiEventHandlers.js",
        "../helpers/classicBattle/debugPanel.js",
        "../helpers/classicBattle/diagnosticPanel.js",
        "../helpers/classicBattle/endModal.js",
        "../helpers/setupScoreboard.js",
        "../helpers/classicBattle/scoreDisplay.js",
        "../helpers/BattleEngine.js",
        "../helpers/classicBattle/battleDebug.js",
        "../helpers/classicBattle/roundSelectModal.js",
        "../helpers/classicBattle/timerService.js",
        "../helpers/classicBattle/battleEvents.js",
        "../helpers/classicBattle/uiService.js",
        "../helpers/featureFlags.js",
        "../helpers/testApi.js",
        "../helpers/testModeUtils.js",
        "../helpers/showSnackbar.js",
        "../helpers/debugFlagHud.js",
        "../helpers/classicBattle/safeExecute.js",
        "../helpers/classicBattle/globalState.js",
        "../helpers/classicBattle/roundTracker.js",
        "../helpers/classicBattle/judokaTelemetry.js",
        "../helpers/classicBattle/UIElements.js",
        "../helpers/classicBattle/timerSchedule.js",
        "../helpers/classicBattle/orchestrator.js",
        "../helpers/classicBattle/eventBus.js",
        "../helpers/documentHelper.js",
        "../helpers/classicBattle/snackbar.js",
        "../helpers/classicBattle/badgeManager.js",
        "../helpers/classicBattle/uiHelpers.js",
        "../helpers/classicBattle/selectionHandler.js",
        "../helpers/classicBattle/setupScheduler.js",
        "../helpers/classicBattle/opponentPromptTracker.js",
        "../helpers/classicBattle/cardSelection.js",
        "../helpers/classicBattle/selectionDelayCalculator.js",
        "../helpers/environment.js",
        "../helpers/classicBattleHomeLink.constants.js"
      ],
      "functions": {
        "updateTimerFallback": {
          "calls": [
            "getDocumentRef",
            "getNextRoundTimer",
            "getTimerParts",
            "insertBefore",
            "createTextNode",
            "test",
            "removeChild",
            "safeExecute",
            "debug"
          ],
          "patterns": []
        },
        "broadcastBattleState": {
          "calls": [
            "getDocumentRef",
            "setBattleStateSnapshot",
            "emitBattleEvent",
            "safeExecute",
            "debug"
          ],
          "patterns": []
        },
        "setHeaderNavigationLocked": {
          "calls": ["getHeaderLinks", "forEach"],
          "patterns": []
        },
        "bindHomeButton": {
          "calls": [
            "getHomeButton",
            "addEventListener",
            "stopActiveSelectionTimer",
            "quitMatch",
            "resolveControlStore"
          ],
          "patterns": []
        },
        "calculateRemainingOpponentMessageTime": {
          "calls": [
            "getCurrentTimestamp",
            "getOpponentPromptTimestamp",
            "max",
            "getOpponentPromptMinDuration"
          ],
          "patterns": []
        },
        "computeSelectionReadyDelay": {
          "calls": [
            "getBaseSelectionReadyDelay",
            "isEnabled",
            "getOpponentDelay",
            "isFinite",
            "computeDelayWithOpponentBuffer",
            "max",
            "getOpponentPromptMinDuration"
          ],
          "patterns": []
        },
        "recordRoundCycleTrigger": {
          "calls": ["getCurrentTimestamp", "setLastRoundCycleTrigger", "safeExecute", "debug"],
          "patterns": []
        },
        "resetCooldownFlag": {
          "calls": [],
          "patterns": []
        },
        "markCooldownStarted": {
          "calls": [],
          "patterns": []
        },
        "handleCooldownError": {
          "calls": ["safeExecute", "debug"],
          "patterns": []
        },
        "invokeStartCooldown": {
          "calls": ["startCooldown", "handleCooldownError"],
          "patterns": []
        },
        "scheduleDelayedCooldown": {
          "calls": ["invokeStartCooldown", "setTimeout"],
          "patterns": []
        },
        "runner": {
          "calls": ["invokeStartCooldown"],
          "patterns": []
        },
        "triggerCooldownOnce": {
          "calls": [
            "markCooldownStarted",
            "calculateRemainingOpponentMessageTime",
            "scheduleDelayedCooldown",
            "invokeStartCooldown",
            "broadcastBattleState"
          ],
          "patterns": []
        },
        "getNextRoundButtonElement": {
          "calls": ["getNextButton"],
          "patterns": []
        },
        "setNextButtonReadyAttributes": {
          "calls": ["removeAttribute", "setAttribute"],
          "patterns": []
        },
        "safeEnableNextRoundButton": {
          "calls": ["enableNextRoundButton", "safeExecute", "debug"],
          "patterns": []
        },
        "prepareNextButtonForUse": {
          "calls": [
            "getNextRoundButtonElement",
            "safeEnableNextRoundButton",
            "setNextButtonReadyAttributes"
          ],
          "patterns": []
        },
        "logNextButtonRecovery": {
          "calls": ["debug", "getAttribute"],
          "patterns": []
        },
        "resolveStatValues": {
          "calls": ["getPlayerAndOpponentValues", "isFinite"],
          "patterns": []
        },
        "stopActiveSelectionTimer": {
          "calls": [
            "stop",
            "getNextRoundTimer",
            "clearTimeout",
            "invalidateSelectionReadyCallbacks"
          ],
          "patterns": []
        },
        "clearSelectionReadyTimer": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "invalidateSelectionReadyCallbacks": {
          "calls": ["clearSelectionReadyTimer"],
          "patterns": []
        },
        "clearOpponentPromptFallbackTimer": {
          "calls": [
            "getOpponentPromptFallbackTimerId",
            "clearScheduled",
            "setOpponentPromptFallbackTimerId"
          ],
          "patterns": []
        },
        "waitForStatButtonsReady": {
          "calls": ["resolve"],
          "patterns": []
        },
        "prepareUiBeforeSelection": {
          "calls": [
            "stopActiveSelectionTimer",
            "clearOpponentPromptFallbackTimer",
            "__battleClassicStopSelectionTimer",
            "debug"
          ],
          "patterns": []
        },
        "ensureScoreboardReflectsResult": {
          "calls": ["Number", "isFinite", "syncScoreboardDisplay", "emitBattleEvent", "debug"],
          "patterns": []
        },
        "confirmMatchOutcome": {
          "calls": [
            "Boolean",
            "isMatchEnded",
            "getScores",
            "Number",
            "getPointsToWin",
            "isFinite",
            "debug",
            "showEndModal"
          ],
          "patterns": []
        },
        "handleStatSelectionError": {
          "calls": [
            "debug",
            "triggerCooldownOnce",
            "resetCooldownFlag",
            "prepareNextButtonForUse",
            "logNextButtonRecovery"
          ],
          "patterns": []
        },
        "applyRoundDecisionResult": {
          "calls": [
            "applySelectionResult",
            "broadcastBattleState",
            "Boolean",
            "handleStatSelectionError"
          ],
          "patterns": []
        },
        "applySelectionResult": {
          "calls": [
            "debug",
            "Boolean",
            "ensureScoreboardReflectsResult",
            "confirmMatchOutcome",
            "getRoundsPlayed",
            "Number",
            "isFinite",
            "isDevelopmentEnvironment",
            "log",
            "isOrchestratorActive",
            "error",
            "scheduleNextReadyAfterSelection",
            "showSnackbar"
          ],
          "patterns": []
        },
        "scheduleNextReadyAfterSelection": {
          "calls": [
            "clearSelectionReadyTimer",
            "triggerCooldownOnce",
            "prepareNextButtonForUse",
            "logNextButtonRecovery",
            "setTimeout",
            "computeSelectionReadyDelay",
            "debug",
            "scheduleNextReady"
          ],
          "patterns": []
        },
        "scheduleNextReady": {
          "calls": ["triggerCooldownOnce", "prepareNextButtonForUse", "logNextButtonRecovery"],
          "patterns": []
        },
        "finalizeSelectionReady": {
          "calls": [
            "clearSelectionReadyTimer",
            "triggerCooldownOnce",
            "debug",
            "resetCooldownFlag",
            "enableNextRoundButton",
            "Boolean",
            "updateRoundCounterDisplay",
            "isDevelopmentEnvironment",
            "safeExecute",
            "getNextRoundButtonElement",
            "setNextButtonReadyAttributes",
            "setNextButtonFinalizedState",
            "setTimeout",
            "finalizeRoundReady",
            "requestAnimationFrame",
            "scheduleFinalization",
            "computeSelectionReadyDelay"
          ],
          "patterns": []
        },
        "finalizeRoundReady": {
          "calls": [
            "triggerCooldownOnce",
            "debug",
            "resetCooldownFlag",
            "enableNextRoundButton",
            "Boolean",
            "updateRoundCounterDisplay",
            "isDevelopmentEnvironment",
            "safeExecute",
            "getNextRoundButtonElement",
            "setNextButtonReadyAttributes",
            "setNextButtonFinalizedState"
          ],
          "patterns": []
        },
        "scheduleFinalization": {
          "calls": ["setTimeout", "finalizeRoundReady", "debug", "requestAnimationFrame"],
          "patterns": []
        },
        "handleStatButtonClick": {
          "calls": [
            "debug",
            "getStatButtonsContainer",
            "getStatButtons",
            "disableStatButtons",
            "resolveStatValues",
            "handleStatSelection",
            "String",
            "handleStatSelectionError",
            "finalizeSelectionReady",
            "broadcastBattleState",
            "applyRoundDecisionResult"
          ],
          "patterns": []
        },
        "renderStatButtons": {
          "calls": [
            "getDocumentRef",
            "getElementById",
            "isArray",
            "error",
            "now",
            "push",
            "String",
            "trim",
            "resetCooldownFlag",
            "disableNextRoundButton",
            "debug",
            "detachStatHotkeys",
            "removeChild",
            "createElement",
            "add",
            "setAttribute",
            "addEventListener",
            "handleStatButtonClick",
            "recordStatButtonListenerAttachment",
            "appendChild",
            "requestAnimationFrame",
            "querySelectorAll",
            "setStatButtonsEnabled",
            "resolveStatButtonsReady",
            "wireStatHotkeys",
            "from"
          ],
          "patterns": []
        },
        "recordStatButtonListenerAttachment": {
          "calls": ["push", "String", "trim", "now"],
          "patterns": []
        },
        "wireExistingStatButtons": {
          "calls": [
            "getDocumentRef",
            "getElementById",
            "from",
            "querySelectorAll",
            "some",
            "forEach",
            "warn",
            "addEventListener",
            "handleStatButtonClick"
          ],
          "patterns": []
        },
        "beginSelectionTimer": {
          "calls": [
            "Boolean",
            "Number",
            "getDefaultTimer",
            "createCountdownTimer",
            "updateTimerFallback",
            "debug",
            "resolveStatValues",
            "computeRoundResult",
            "syncScoreboardDisplay",
            "broadcastBattleState",
            "applyRoundDecisionResult",
            "triggerCooldownOnce",
            "showSnackbar",
            "start",
            "startTimer",
            "clearTimeout",
            "String",
            "enableNextRoundButton",
            "resolve",
            "setTimeout",
            "getNextButton",
            "getScoreDisplay",
            "getPlayerScoreValue",
            "getOpponentScoreValue",
            "test",
            "getAttribute"
          ],
          "patterns": []
        },
        "startRoundCycle": {
          "calls": [
            "stopActiveSelectionTimer",
            "startRound",
            "error",
            "clearRoundSelectFallback",
            "broadcastBattleState",
            "updateRoundCounterDisplay",
            "renderStatButtons",
            "showSelectionPrompt",
            "debug",
            "beginSelectionTimer"
          ],
          "patterns": []
        },
        "clearRoundSelectFallback": {
          "calls": ["getRoundSelectFallback", "remove", "getRoundSelectError"],
          "patterns": []
        },
        "showRoundSelectFallback": {
          "calls": [
            "hasRoundSelectFallback",
            "Boolean",
            "createElement",
            "addEventListener",
            "startRoundCycle",
            "warn",
            "Number",
            "showRoundSelectFallback",
            "error",
            "clearRoundSelectFallback",
            "showFatalInitError",
            "append"
          ],
          "patterns": []
        },
        "updateRoundCounterDisplay": {
          "calls": ["updateRoundCounterFromEngine", "safeExecute", "debug"],
          "patterns": []
        },
        "setupInitialUI": {
          "calls": [
            "setupScoreboard",
            "getOpponentCard",
            "remove",
            "add",
            "bindScoreboardEventHandlersOnce",
            "updateScore",
            "getScoreDisplay",
            "test",
            "updateRoundCounter",
            "getRoundCounter"
          ],
          "patterns": []
        },
        "wireCooldownEvents": {
          "calls": ["markCooldownStarted", "onBattleEvent"],
          "patterns": []
        },
        "markFromEvent": {
          "calls": ["markCooldownStarted"],
          "patterns": []
        },
        "wireGlobalBattleEvents": {
          "calls": ["onBattleEvent", "String", "Number", "showEndModal", "onEngine"],
          "patterns": []
        },
        "resolveControlStore": {
          "calls": ["createBattleStore"],
          "patterns": []
        },
        "wireControlButtons": {
          "calls": [
            "getNextButton",
            "addEventListener",
            "getReplayButton",
            "resolveControlStore",
            "stopActiveSelectionTimer",
            "resetOpponentPromptTimestamp",
            "resetRoundCounterTracking",
            "clearTimeout",
            "handleReplay",
            "waitForStatButtonsReady",
            "updateScore",
            "updateRoundCounter",
            "getQuitButton",
            "quitMatch",
            "bindHomeButton"
          ],
          "patterns": []
        },
        "handleRoundStartEvent": {
          "calls": [
            "getCurrentTimestamp",
            "queueMicrotask",
            "startRoundCycle",
            "recordRoundCycleTrigger",
            "error",
            "recordJudokaLoadFailureTelemetry",
            "showFatalInitError",
            "isMatchEnded"
          ],
          "patterns": []
        },
        "wireRoundCycleEvents": {
          "calls": [
            "onBattleEvent",
            "handleRoundStartEvent",
            "startRoundCycle",
            "error",
            "recordJudokaLoadFailureTelemetry",
            "showFatalInitError"
          ],
          "patterns": []
        },
        "wireCardEventHandlers": {
          "calls": [
            "removeEventListener",
            "startRoundCycle",
            "error",
            "showFatalInitError",
            "addEventListener",
            "stopActiveSelectionTimer",
            "setHeaderNavigationLocked",
            "removeAttribute",
            "setBadgeText",
            "showSnackbar",
            "getRoundSelectError",
            "showRoundSelectFallback"
          ],
          "patterns": []
        },
        "retryListener": {
          "calls": ["startRoundCycle", "error", "showFatalInitError"],
          "patterns": []
        },
        "exitListener": {
          "calls": [
            "stopActiveSelectionTimer",
            "setHeaderNavigationLocked",
            "removeAttribute",
            "setBadgeText",
            "showSnackbar",
            "getRoundSelectError",
            "showRoundSelectFallback"
          ],
          "patterns": []
        },
        "initializeMatchStart": {
          "calls": [
            "log",
            "resolveRoundStartPolicy",
            "debug",
            "setBadgeText",
            "setAttribute",
            "setHeaderNavigationLocked",
            "broadcastBattleState",
            "startRoundCycle",
            "error",
            "removeAttribute",
            "recordJudokaLoadFailureTelemetry",
            "showFatalInitError",
            "showRoundSelectFallback"
          ],
          "patterns": []
        },
        "initializePhase1_Utilities": {
          "calls": [
            "log",
            "removeBackdrops",
            "setupScheduler",
            "exposeTestAPI",
            "resetCache",
            "debug"
          ],
          "patterns": []
        },
        "initializePhase2_UI": {
          "calls": [
            "log",
            "initBattleStateBadge",
            "initFeatureFlags",
            "isEnabled",
            "setTestMode",
            "initDebugFlagHud",
            "setupInitialUI"
          ],
          "patterns": []
        },
        "initializePhase3_Engine": {
          "calls": [
            "log",
            "createBattleEngine",
            "registerBridgeOnEngineCreated",
            "Boolean",
            "catch",
            "then",
            "initClassicBattleOrchestrator",
            "safeExecute",
            "debug"
          ],
          "patterns": []
        },
        "initializePhase4_EventHandlers": {
          "calls": [
            "log",
            "wireCardEventHandlers",
            "wireCooldownEvents",
            "bindUIHelperEventHandlersDynamic",
            "wireGlobalBattleEvents",
            "initDebugPanel",
            "initBattleStateBadge",
            "wireRoundCycleEvents"
          ],
          "patterns": []
        },
        "init": {
          "calls": [
            "log",
            "createBattleStore",
            "dispatchEvent",
            "initializePhase1_Utilities",
            "initializePhase2_UI",
            "initializePhase3_Engine",
            "initializePhase4_EventHandlers",
            "wireExistingStatButtons",
            "initializeMatchStart",
            "wireControlButtons",
            "initDiagnosticPanel",
            "error",
            "showFatalInitError"
          ],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI.init.js": {
      "imports": ["../helpers/testApi.js", "../helpers/detailsToggle.js"],
      "functions": {
        "byId": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "renderSkeletonStats": {
          "calls": ["byId", "createElement", "setAttribute", "appendChild"],
          "patterns": []
        },
        "clearSkeletonStats": {
          "calls": ["byId"],
          "patterns": []
        },
        "setCountdown": {
          "calls": ["byId", "now", "String", "padStart"],
          "patterns": []
        },
        "focusStats": {
          "calls": ["byId", "focus"],
          "patterns": []
        },
        "focusNextHint": {
          "calls": ["byId", "setAttribute", "focus", "setTimeout", "removeAttribute"],
          "patterns": []
        },
        "applyRetroTheme": {
          "calls": ["Boolean", "getElementById", "toggle", "setItem"],
          "patterns": []
        },
        "initSettingsCollapse": {
          "calls": ["byId", "getItem", "setDetailsOpen", "addEventListener", "setItem"],
          "patterns": []
        },
        "initSeedValidation": {
          "calls": ["byId", "addEventListener", "trim", "isNaN", "Number", "removeItem"],
          "patterns": []
        },
        "loadBattleCLIModule": {
          "calls": ["byId", "catch", "error", "assign"],
          "patterns": []
        },
        "init": {
          "calls": [
            "renderSkeletonStats",
            "initSettingsCollapse",
            "initSeedValidation",
            "assign",
            "byId",
            "setItem",
            "setDetailsOpen",
            "loadBattleCLIModule"
          ],
          "patterns": []
        }
      }
    },
    "src/data/statNames.js": {
      "imports": [],
      "functions": {}
    },
    "src/data/navigationItems.js": {
      "imports": [],
      "functions": {}
    },
    "src/data/japaneseConverter.js": {
      "imports": [],
      "functions": {}
    },
    "src/data/gameTimers.js": {
      "imports": [],
      "functions": {}
    },
    "src/data/battleRounds.js": {
      "imports": [],
      "functions": {}
    },
    "src/config/storageKeys.js": {
      "imports": [],
      "functions": {}
    },
    "src/config/settingsDefaults.js": {
      "imports": ["../data/settings.json"],
      "functions": {
        "deepFreeze": {
          "calls": ["forEach", "values", "deepFreeze", "freeze"],
          "patterns": []
        }
      }
    },
    "src/config/roundSelectConstants.js": {
      "imports": [],
      "functions": {}
    },
    "src/config/loadSettings.js": {
      "imports": ["../helpers/displayMode.js"],
      "functions": {
        "mergeObject": {
          "calls": ["isArray", "entries", "warn", "join", "mergeObject"],
          "patterns": []
        },
        "mergeKnown": {
          "calls": ["isArray", "entries", "warn", "join", "mergeObject"],
          "patterns": []
        },
        "loadSettings": {
          "calls": [
            "structuredClone",
            "fetch",
            "json",
            "mergeKnown",
            "getItem",
            "parse",
            "normalizeDisplayMode",
            "warn"
          ],
          "patterns": []
        }
      }
    },
    "src/config/battleDefaults.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/scoreboardDomAdapter.js": {
      "imports": [],
      "functions": {
        "createScoreboardDomAdapter": {
          "calls": [
            "removeEventListener",
            "entries",
            "handler",
            "push",
            "addEventListener",
            "removeAllListeners",
            "updateScore",
            "showMessage",
            "updateTimer",
            "updateRoundCounter",
            "destroy"
          ],
          "patterns": ["factory"]
        },
        "removeAllListeners": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "listener": {
          "calls": ["handler"],
          "patterns": []
        }
      }
    },
    "src/components/scoreboardCore.js": {
      "imports": [],
      "functions": {
        "noop": {
          "calls": [],
          "patterns": []
        },
        "createScoreboardCore": {
          "calls": [
            "Number",
            "isFinite",
            "safeNumber",
            "render",
            "applyScore",
            "subscribe",
            "keys",
            "unsubscribe",
            "dispose"
          ],
          "patterns": ["factory"]
        },
        "safeNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "applyScore": {
          "calls": ["safeNumber", "render"],
          "patterns": []
        }
      }
    },
    "src/components/ToggleSwitch.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/StatsPanel.js": {
      "imports": ["../helpers/utils.js", "../helpers/stats.js", "../helpers/BattleEngine.js"],
      "functions": {
        "createStatsPanel": {
          "calls": ["update"],
          "patterns": ["factory"]
        }
      }
    },
    "src/components/Spinner.js": {
      "imports": ["../helpers/constants.js"],
      "functions": {
        "createSpinner": {
          "calls": [
            "createElement",
            "setAttribute",
            "appendChild",
            "clearTimeout",
            "setTimeout",
            "remove"
          ],
          "patterns": ["factory"]
        },
        "show": {
          "calls": ["clearTimeout", "setTimeout"],
          "patterns": []
        },
        "hide": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "remove": {
          "calls": ["clearTimeout", "remove"],
          "patterns": []
        }
      }
    },
    "src/components/SidebarList.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/ScoreboardView.js": {
      "imports": ["../helpers/motionUtils.js", "../utils/scheduler.js"],
      "functions": {
        "createScoreMarkup": {
          "calls": ["isFinite", "Number"],
          "patterns": ["factory"]
        },
        "ensureLabelValueSpacing": {
          "calls": ["trim", "String", "removeChild", "insertBefore", "createTextNode", "test"],
          "patterns": []
        },
        "updateTimerElement": {
          "calls": ["querySelector", "createElement", "insertBefore", "ensureLabelValueSpacing"],
          "patterns": []
        },
        "parse": {
          "calls": ["match", "Number"],
          "patterns": []
        },
        "step": {
          "calls": ["now", "min", "createScoreMarkup", "cancel"],
          "patterns": []
        }
      }
    },
    "src/components/ScoreboardModel.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/Scoreboard.js": {
      "imports": [
        "./ScoreboardModel.js",
        "./ScoreboardView.js",
        "./scoreboardCore.js",
        "./scoreboardDomAdapter.js",
        "../helpers/battleScoreboard.js",
        "../helpers/roundStatusDisplay.js"
      ],
      "functions": {
        "createScoreboard": {
          "calls": ["createElement", "setAttribute", "append", "createTextNode"],
          "patterns": ["factory"]
        },
        "initScoreboard": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "showMessage": {
          "calls": ["showRoundMessage"],
          "patterns": []
        },
        "clearMessage": {
          "calls": ["clearRoundMessage"],
          "patterns": []
        },
        "showTemporaryMessage": {
          "calls": ["showTemporaryRoundMessage"],
          "patterns": []
        },
        "updateTimer": {
          "calls": ["updateRoundTimer"],
          "patterns": []
        },
        "clearTimer": {
          "calls": ["clearRoundTimer"],
          "patterns": []
        },
        "updateRoundCounter": {
          "calls": ["updateRoundCounterDisplay"],
          "patterns": []
        },
        "clearRoundCounter": {
          "calls": ["clearRoundCounterDisplay"],
          "patterns": []
        },
        "updateScore": {
          "calls": ["updateScore"],
          "patterns": []
        },
        "showAutoSelect": {
          "calls": ["showAutoSelectMessage"],
          "patterns": []
        },
        "render": {
          "calls": ["render"],
          "patterns": []
        },
        "getState": {
          "calls": ["getState"],
          "patterns": []
        },
        "resetScoreboard": {
          "calls": [],
          "patterns": []
        },
        "destroy": {
          "calls": ["destroy", "resetScoreboard"],
          "patterns": []
        }
      }
    },
    "src/components/Modal.js": {
      "imports": [],
      "functions": {
        "attemptFocus": {
          "calls": ["focus"],
          "patterns": []
        },
        "focusDialogFallback": {
          "calls": ["attemptFocus", "focus"],
          "patterns": []
        },
        "createModal": {
          "calls": [],
          "patterns": ["factory"]
        }
      }
    },
    "src/components/JudokaCard.js": {
      "imports": [
        "../helpers/country/codes.js",
        "../helpers/cardTopBar.js",
        "../helpers/errorUtils.js",
        "../helpers/judokaValidation.js",
        "../helpers/cardSections.js",
        "../helpers/inspector/createInspectorPanel.js",
        "./Card.js"
      ],
      "functions": {
        "togglePressed": {
          "calls": ["getAttribute", "setAttribute", "String"],
          "patterns": []
        }
      }
    },
    "src/components/EpicCard.js": {
      "imports": ["./JudokaCard.js"],
      "functions": {}
    },
    "src/components/Card.js": {
      "imports": ["../helpers/sanitizeHtml.js", "../helpers/documentHelper.js"],
      "functions": {
        "applyClasses": {
          "calls": ["split", "add"],
          "patterns": []
        },
        "insertContent": {
          "calls": ["sanitize", "then", "fn", "append"],
          "patterns": []
        },
        "createCard": {
          "calls": [],
          "patterns": ["factory"]
        }
      }
    },
    "src/components/Button.js": {
      "imports": [],
      "functions": {
        "createButton": {
          "calls": [
            "createElement",
            "parseFromString",
            "querySelector",
            "setAttribute",
            "appendChild",
            "warn"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/viewTransition.js": {
      "imports": [],
      "functions": {
        "withViewTransition": {
          "calls": ["startViewTransition", "fn"],
          "patterns": []
        }
      }
    },
    "src/helpers/utils.js": {
      "imports": ["./debug.js"],
      "functions": {
        "escapeHTML": {
          "calls": ["replace", "String"],
          "patterns": []
        },
        "decodeHTML": {
          "calls": ["replace", "String"],
          "patterns": []
        },
        "getValue": {
          "calls": ["trim"],
          "patterns": []
        },
        "formatDate": {
          "calls": [
            "isNaN",
            "getTime",
            "split",
            "toISOString",
            "trim",
            "match",
            "map",
            "getUTCFullYear",
            "getUTCMonth",
            "getUTCDate"
          ],
          "patterns": []
        },
        "createGokyoLookup": {
          "calls": ["isArray", "error", "reduce", "isNaN", "warn", "debugLog"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/typewriter.js": {
      "imports": ["./settingsCache.js", "../utils/scheduler.js"],
      "functions": {
        "shouldEnableTypewriter": {
          "calls": ["Boolean", "getSetting"],
          "patterns": []
        },
        "runTypewriterEffect": {
          "calls": ["cancel", "charAt", "onFrame"],
          "patterns": []
        },
        "step": {
          "calls": ["cancel", "charAt"],
          "patterns": []
        }
      }
    },
    "src/helpers/types.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/tooltipViewerPage.js": {
      "imports": [
        "./tooltip.js",
        "./constants.js",
        "./domReady.js",
        "./tooltipViewer/extractLineAndColumn.js",
        "./tooltipViewer/renderList.js",
        "./sanitizeHtml.js",
        "./detailsToggle.js"
      ],
      "functions": {
        "setTooltipSnackbar": {
          "calls": [],
          "patterns": []
        },
        "setTooltipDataLoader": {
          "calls": [],
          "patterns": []
        },
        "loadTooltipData": {
          "calls": [
            "tooltipDataLoader",
            "fetchJson",
            "flattenTooltips",
            "error",
            "extractLineAndColumn"
          ],
          "patterns": []
        },
        "initSearchFilter": {
          "calls": [
            "clearTimeout",
            "setTimeout",
            "updateList",
            "addEventListener",
            "removeEventListener"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["clearTimeout", "setTimeout", "updateList"],
          "patterns": []
        },
        "bindCopyButtons": {
          "calls": [
            "queryCommandSupported",
            "snackbarFnOverride",
            "catch",
            "then",
            "getSnackbar",
            "showSnackbar",
            "createElement",
            "setAttribute",
            "appendChild",
            "select",
            "execCommand",
            "remove",
            "showMessage",
            "writeText",
            "fallbackCopy",
            "add",
            "setTimeout",
            "addEventListener",
            "copy"
          ],
          "patterns": []
        },
        "getSnackbar": {
          "calls": [],
          "patterns": []
        },
        "showMessage": {
          "calls": ["snackbarFnOverride", "catch", "then", "getSnackbar", "showSnackbar"],
          "patterns": []
        },
        "fallbackCopy": {
          "calls": [
            "createElement",
            "setAttribute",
            "appendChild",
            "select",
            "execCommand",
            "remove"
          ],
          "patterns": []
        },
        "copy": {
          "calls": ["writeText", "fallbackCopy", "showMessage", "add", "setTimeout", "remove"],
          "patterns": []
        },
        "applyHashSelection": {
          "calls": [
            "decodeURIComponent",
            "slice",
            "querySelector",
            "String",
            "select",
            "scrollIntoView"
          ],
          "patterns": []
        },
        "createPreviewSummary": {
          "calls": ["createElement", "append"],
          "patterns": ["factory"]
        },
        "setupTooltipViewerPage": {
          "calls": [
            "getSanitizer",
            "catch",
            "then",
            "bind",
            "getElementById",
            "createElement",
            "createPreviewSummary",
            "append",
            "insertBefore",
            "querySelector",
            "contains",
            "clearTimeout",
            "clearPreviewMeasurement",
            "setTimeout",
            "setDetailsOpen",
            "schedulePreviewMeasurement",
            "addEventListener",
            "loadTooltipData",
            "removeEventListener",
            "renderList",
            "from",
            "querySelectorAll",
            "findIndex",
            "listSelect",
            "parseTooltipText",
            "sanitize",
            "remove",
            "add",
            "bindCopyButtons",
            "requestIdleCallback",
            "initSearchFilter",
            "cleanupSearch",
            "updateList",
            "applyHashSelection",
            "initTooltips"
          ],
          "patterns": []
        },
        "sanitize": {
          "calls": [],
          "patterns": []
        },
        "clearPreviewMeasurement": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "schedulePreviewMeasurement": {
          "calls": ["clearPreviewMeasurement", "setTimeout", "setDetailsOpen"],
          "patterns": []
        },
        "handleResize": {
          "calls": ["schedulePreviewMeasurement"],
          "patterns": []
        },
        "updateList": {
          "calls": ["renderList"],
          "patterns": []
        },
        "select": {
          "calls": [
            "from",
            "querySelectorAll",
            "findIndex",
            "listSelect",
            "parseTooltipText",
            "sanitize",
            "remove",
            "add",
            "setDetailsOpen",
            "schedulePreviewMeasurement"
          ],
          "patterns": []
        },
        "handlePageHide": {
          "calls": ["cleanupSearch", "clearPreviewMeasurement", "removeEventListener"],
          "patterns": []
        },
        "initTooltipViewerPage": {
          "calls": ["setupTooltipViewerPage"],
          "patterns": []
        }
      }
    },
    "src/helpers/tooltipOverlayDebug.js": {
      "imports": ["./debugState.js", "./testLogGate.js", "./debugFlagPerformance.js"],
      "functions": {
        "scheduleIdle": {
          "calls": [
            "requestIdleCallback",
            "cancelIdleCallback",
            "requestAnimationFrame",
            "cancelAnimationFrame",
            "setTimeout",
            "clearTimeout"
          ],
          "patterns": []
        },
        "resetPendingPromise": {
          "calls": ["resolve"],
          "patterns": []
        },
        "cancelPendingWork": {
          "calls": ["pendingTaskCancel", "pendingResolve", "resetPendingPromise"],
          "patterns": []
        },
        "applyOverlayState": {
          "calls": ["measureDebugFlagToggle", "toggle", "setAttribute", "now"],
          "patterns": []
        },
        "runToggleTask": {
          "calls": ["applyOverlayState", "resolve", "resetPendingPromise"],
          "patterns": []
        },
        "scheduleToggleTask": {
          "calls": ["now", "max", "runToggleTask", "setTimeout", "scheduleIdle", "clearTimeout"],
          "patterns": []
        },
        "execute": {
          "calls": ["runToggleTask"],
          "patterns": []
        },
        "applyFallbackState": {
          "calls": ["cancelPendingWork", "now"],
          "patterns": []
        },
        "toggleTooltipOverlayDebug": {
          "calls": [
            "Boolean",
            "recordDebugState",
            "shouldShowTestLogs",
            "isConsoleMocked",
            "info",
            "applyFallbackState",
            "contains",
            "getAttribute",
            "cancelPendingWork",
            "applyOverlayState",
            "resetPendingPromise",
            "scheduleToggleTask"
          ],
          "patterns": []
        },
        "flushTooltipOverlayDebugWork": {
          "calls": ["pendingTaskCancel", "runNow"],
          "patterns": []
        }
      }
    },
    "src/helpers/tooltip.js": {
      "imports": [
        "./dataUtils.js",
        "./constants.js",
        "./utils.js",
        "../vendor/marked.esm.js",
        "./settingsStorage.js",
        "./tooltipOverlayDebug.js",
        "./sanitizeHtml.js",
        "./debug.js"
      ],
      "functions": {
        "flattenTooltips": {
          "calls": ["reduce", "entries", "isArray", "assign", "flattenTooltips"],
          "patterns": []
        },
        "loadTooltips": {
          "calls": ["fetchJson", "debugLog", "importJsonModule", "flattenTooltips"],
          "patterns": []
        },
        "getTooltips": {
          "calls": ["loadTooltips"],
          "patterns": []
        },
        "parseTooltipText": {
          "calls": ["String", "replace", "escapeHTML", "match", "parseInline", "parse"],
          "patterns": []
        },
        "resolveTooltipText": {
          "calls": ["has", "warn", "add"],
          "patterns": []
        },
        "sanitizeTooltip": {
          "calls": ["parseTooltipText", "has", "warn", "add", "sanitize"],
          "patterns": []
        },
        "positionTooltip": {
          "calls": ["getBoundingClientRect", "max"],
          "patterns": []
        },
        "ensureTooltipElement": {
          "calls": [
            "has",
            "get",
            "set",
            "createElement",
            "setAttribute",
            "now",
            "substr",
            "toString",
            "random",
            "appendChild"
          ],
          "patterns": []
        },
        "initTooltips": {
          "calls": [
            "dispatchEvent",
            "notifyReady",
            "querySelectorAll",
            "loadSettings",
            "call",
            "Boolean",
            "toggleTooltipOverlayDebug",
            "getSanitizer",
            "loadTooltips",
            "ensureTooltipElement",
            "clearTimeout",
            "restoreAriaDescription",
            "has",
            "set",
            "getAttribute",
            "filter",
            "map",
            "split",
            "trim",
            "includes",
            "push",
            "setAttribute",
            "join",
            "get",
            "removeAttribute",
            "resolveTooltipText",
            "String",
            "sanitizeTooltip",
            "linkAriaDescription",
            "positionTooltip",
            "clearTimers",
            "render",
            "setTimeout",
            "performHide",
            "hide",
            "forEach",
            "addEventListener",
            "removeEventListener"
          ],
          "patterns": []
        },
        "notifyReady": {
          "calls": ["dispatchEvent"],
          "patterns": []
        },
        "clearTimers": {
          "calls": ["clearTimeout", "restoreAriaDescription"],
          "patterns": []
        },
        "linkAriaDescription": {
          "calls": [
            "has",
            "set",
            "getAttribute",
            "filter",
            "map",
            "split",
            "trim",
            "includes",
            "push",
            "setAttribute",
            "join"
          ],
          "patterns": []
        },
        "restoreAriaDescription": {
          "calls": ["get", "removeAttribute", "setAttribute"],
          "patterns": []
        },
        "show": {
          "calls": [
            "resolveTooltipText",
            "String",
            "removeAttribute",
            "sanitizeTooltip",
            "setAttribute",
            "linkAriaDescription",
            "positionTooltip",
            "clearTimers",
            "render",
            "setTimeout"
          ],
          "patterns": []
        },
        "render": {
          "calls": [
            "String",
            "removeAttribute",
            "sanitizeTooltip",
            "setAttribute",
            "linkAriaDescription",
            "positionTooltip"
          ],
          "patterns": []
        },
        "hide": {
          "calls": [
            "setAttribute",
            "restoreAriaDescription",
            "clearTimers",
            "performHide",
            "setTimeout"
          ],
          "patterns": []
        },
        "performHide": {
          "calls": ["setAttribute", "restoreAriaDescription"],
          "patterns": []
        },
        "handleKeydown": {
          "calls": ["hide"],
          "patterns": []
        }
      }
    },
    "src/helpers/timerUtils.js": {
      "imports": ["../data/gameTimers.js", "../utils/scheduler.js", "./scheduler.js"],
      "functions": {
        "getDefaultTimer": {
          "calls": ["call", "find"],
          "patterns": []
        },
        "_resetForTest": {
          "calls": ["stopScheduler"],
          "patterns": []
        },
        "createCountdownTimer": {
          "calls": [
            "onTick",
            "stop",
            "onExpired",
            "pause",
            "resume",
            "clearInterval",
            "tick",
            "error",
            "onSecondTick",
            "cancelManualInterval",
            "invokeTickSafely",
            "setInterval",
            "setTimeout",
            "scheduleHardTimeout",
            "max",
            "ceil",
            "addEventListener",
            "cancelFn",
            "call",
            "clearTimeoutFn",
            "clearHardTimeout",
            "removeEventListener",
            "now",
            "isFinite",
            "captureHardTimeoutRemaining"
          ],
          "patterns": ["factory"]
        },
        "tick": {
          "calls": ["onTick", "stop", "onExpired"],
          "patterns": []
        },
        "handleVisibility": {
          "calls": ["pause", "resume"],
          "patterns": []
        },
        "start": {
          "calls": [
            "stop",
            "onTick",
            "onExpired",
            "clearInterval",
            "tick",
            "error",
            "onSecondTick",
            "cancelManualInterval",
            "invokeTickSafely",
            "setInterval",
            "setTimeout",
            "scheduleHardTimeout",
            "max",
            "ceil",
            "addEventListener"
          ],
          "patterns": []
        },
        "cancelManualInterval": {
          "calls": ["clearInterval"],
          "patterns": []
        },
        "invokeTickSafely": {
          "calls": ["tick", "error"],
          "patterns": []
        },
        "stop": {
          "calls": [
            "cancelFn",
            "clearInterval",
            "call",
            "clearTimeoutFn",
            "clearHardTimeout",
            "removeEventListener"
          ],
          "patterns": []
        },
        "captureHardTimeoutRemaining": {
          "calls": ["now", "isFinite", "max"],
          "patterns": []
        },
        "clearHardTimeout": {
          "calls": ["call", "clearTimeoutFn"],
          "patterns": []
        },
        "scheduleHardTimeout": {
          "calls": ["clearHardTimeout", "now", "setTimeout", "error"],
          "patterns": []
        },
        "handleHardTimeout": {
          "calls": ["stop", "onTick", "onExpired"],
          "patterns": []
        },
        "pause": {
          "calls": ["captureHardTimeoutRemaining", "clearHardTimeout"],
          "patterns": []
        },
        "resume": {
          "calls": ["scheduleHardTimeout"],
          "patterns": []
        }
      }
    },
    "src/helpers/testModeUtils.js": {
      "imports": [],
      "functions": {
        "normalizeSeed": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "setTestMode": {
          "calls": ["Boolean", "normalizeSeed"],
          "patterns": []
        },
        "isTestModeEnabled": {
          "calls": [],
          "patterns": []
        },
        "seededRandom": {
          "calls": ["random", "sin", "floor"],
          "patterns": []
        },
        "getCurrentSeed": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/testLogGate.js": {
      "imports": [],
      "functions": {
        "shouldShowTestLogs": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "isConsoleMocked": {
          "calls": ["isMockFunction"],
          "patterns": []
        }
      }
    },
    "src/helpers/testApi.js": {
      "imports": [
        "../config/settingsDefaults.js",
        "./classicBattle/orchestrator.js",
        "./classicBattle/battleDebug.js",
        "./classicBattle/battleEvents.js",
        "./featureFlags.js",
        "./settingsCache.js",
        "../pages/battleCLI/testSupport.js",
        "./environment.js",
        "./classicBattle/selectionState.js",
        "./BattleEngine.js",
        "./testModeUtils.js",
        "./classicBattle/autoContinue.js"
      ],
      "functions": {
        "toFiniteNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "waitForNextFrame": {
          "calls": ["requestAnimationFrame", "resolve", "setTimeout"],
          "patterns": []
        },
        "logDevWarning": {
          "calls": ["isDevelopmentEnvironment", "warn"],
          "patterns": []
        },
        "logDevDebug": {
          "calls": ["isDevelopmentEnvironment", "debug", "log"],
          "patterns": []
        },
        "createPollingPromise": {
          "calls": [
            "now",
            "clearInterval",
            "clearTimeout",
            "onCleanup",
            "resolve",
            "condition",
            "cleanup",
            "logDevDebug",
            "checkCondition",
            "setInterval",
            "setTimeout"
          ],
          "patterns": ["factory"]
        },
        "cleanup": {
          "calls": ["clearTimeout", "resolve"],
          "patterns": []
        },
        "checkCondition": {
          "calls": ["condition", "cleanup", "logDevDebug", "now"],
          "patterns": []
        },
        "extractStatValue": {
          "calls": ["call", "Number", "isFinite", "toLowerCase", "trim", "String"],
          "patterns": []
        },
        "isWindowAvailable": {
          "calls": [],
          "patterns": []
        },
        "isTestMode": {
          "calls": ["isWindowAvailable", "isEnabled"],
          "patterns": []
        },
        "isValidScoresObject": {
          "calls": ["toFiniteNumber"],
          "patterns": []
        },
        "isValidStatsObject": {
          "calls": ["entries", "every", "toFiniteNumber"],
          "patterns": []
        },
        "isValidBattleSnapshot": {
          "calls": ["toFiniteNumber"],
          "patterns": []
        },
        "unifiedGetBattleState": {
          "calls": [
            "getter",
            "tryGetState",
            "getBattleStateMachine",
            "getState",
            "getAttribute",
            "querySelector"
          ],
          "patterns": []
        },
        "tryGetState": {
          "calls": ["getter"],
          "patterns": []
        },
        "readCurrentRounds": {
          "calls": ["getRoundsPlayed"],
          "patterns": []
        },
        "checkIfSatisfied": {
          "calls": ["readCurrentRounds", "resolve", "now"],
          "patterns": []
        },
        "readStatsReady": {
          "calls": ["getBattleStore", "from", "keys", "extractStatValue", "isFinite"],
          "patterns": []
        },
        "rejectWithTimeout": {
          "calls": ["cleanup", "getBattleState", "join", "reject"],
          "patterns": []
        },
        "resolveMatch": {
          "calls": ["cleanup", "resolve"],
          "patterns": []
        },
        "currentMatches": {
          "calls": ["getBattleState", "includes"],
          "patterns": []
        },
        "getContainer": {
          "calls": ["querySelector", "getElementById"],
          "patterns": []
        },
        "buttonsInteractive": {
          "calls": ["getContainer", "from", "querySelectorAll", "some", "getAttribute"],
          "patterns": []
        },
        "refreshButtons": {
          "calls": ["splice", "getElementById", "querySelector", "push"],
          "patterns": []
        },
        "isButtonReady": {
          "calls": ["getAttribute"],
          "patterns": []
        },
        "finish": {
          "calls": [
            "clearTimeout",
            "offBattleEvent",
            "isValidScoresObject",
            "toFiniteNumber",
            "resolve",
            "now"
          ],
          "patterns": []
        },
        "handleMatchConcluded": {
          "calls": ["finish"],
          "patterns": []
        },
        "applyCountdown": {
          "calls": ["getElementById", "String", "setAttribute", "logDevWarning", "padStart"],
          "patterns": []
        },
        "parseTimerValue": {
          "calls": ["parseInt", "String", "isNaN"],
          "patterns": []
        },
        "parseFromElement": {
          "calls": ["getAttribute", "parseTimerValue", "match"],
          "patterns": []
        },
        "settle": {
          "calls": ["cleanup", "callback"],
          "patterns": []
        },
        "readCountdownValue": {
          "calls": ["getCountdown", "logDevDebug"],
          "patterns": []
        },
        "matchesExpectation": {
          "calls": ["String"],
          "patterns": []
        },
        "checkValue": {
          "calls": ["readCountdownValue", "matchesExpectation", "resolveSafe"],
          "patterns": []
        },
        "readCurrent": {
          "calls": ["getPointsToWin", "isFinite"],
          "patterns": []
        },
        "check": {
          "calls": ["isBattleReady", "resolve", "now", "setTimeout"],
          "patterns": []
        },
        "normalizeBrowseSnapshot": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "publishBrowseReadySnapshot": {
          "calls": ["normalizeBrowseSnapshot", "from", "resolver", "delete"],
          "patterns": []
        },
        "resetBrowseReadySnapshot": {
          "calls": ["from", "resolver", "delete"],
          "patterns": []
        },
        "recordError": {
          "calls": ["push", "String"],
          "patterns": []
        },
        "resolver": {
          "calls": ["delete", "cleanup"],
          "patterns": []
        },
        "normalizeBoolean": {
          "calls": ["toLowerCase", "trim"],
          "patterns": []
        },
        "extract": {
          "calls": ["call", "transform"],
          "patterns": []
        },
        "waitForStateTransition": {
          "calls": [
            "getBattleState",
            "logDevDebug",
            "has",
            "now",
            "readCurrentState",
            "captureState",
            "waitForNextFrame"
          ],
          "patterns": []
        },
        "readCurrentState": {
          "calls": ["getBattleState", "logDevDebug"],
          "patterns": []
        },
        "captureState": {
          "calls": ["has"],
          "patterns": []
        },
        "mapOutcomeToEvent": {
          "calls": [],
          "patterns": []
        },
        "dispatch": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        },
        "emitOpponentReveal": {
          "calls": ["emitBattleEvent"],
          "patterns": []
        },
        "emit": {
          "calls": ["emitBattleEvent"],
          "patterns": []
        },
        "getStore": {
          "calls": [],
          "patterns": []
        },
        "exposeTestAPI": {
          "calls": ["isTestMode", "isWindowAvailable"],
          "patterns": []
        },
        "getTestAPI": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/telemetry.js": {
      "imports": [],
      "functions": {
        "logEvent": {
          "calls": ["now", "dispatchEvent", "info"],
          "patterns": []
        }
      }
    },
    "src/helpers/svgFallback.js": {
      "imports": [],
      "functions": {
        "createFallbackState": {
          "calls": ["get", "add", "remove"],
          "patterns": ["factory"]
        },
        "applySvgFallback": {
          "calls": [
            "querySelectorAll",
            "forEach",
            "get",
            "createFallbackState",
            "set",
            "add",
            "addEventListener"
          ],
          "patterns": []
        },
        "__resetSvgFallbackStateForTests": {
          "calls": ["forEach", "get", "removeEventListener", "delete", "clear"],
          "patterns": []
        },
        "__getSvgFallbackStateForTests": {
          "calls": ["get"],
          "patterns": []
        }
      }
    },
    "src/helpers/storage.js": {
      "imports": ["./debug.js"],
      "functions": {
        "getItem": {
          "calls": ["getItem", "parse", "get", "debugLog"],
          "patterns": []
        },
        "setItem": {
          "calls": ["stringify", "setItem", "set", "debugLog"],
          "patterns": []
        },
        "removeItem": {
          "calls": ["removeItem", "debugLog", "delete"],
          "patterns": []
        },
        "wrap": {
          "calls": [
            "useMemory",
            "getItem",
            "parse",
            "get",
            "removeItem",
            "delete",
            "stringify",
            "setItem",
            "set",
            "debugLog"
          ],
          "patterns": []
        },
        "useMemory": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/stats.js": {
      "imports": ["../data/statNames.js"],
      "functions": {
        "slug": {
          "calls": ["replace", "toLowerCase"],
          "patterns": []
        },
        "loadStatNames": {
          "calls": ["sort", "slice", "fromEntries", "map", "slug", "filter"],
          "patterns": []
        },
        "getStatLabel": {
          "calls": ["loadStatNames"],
          "patterns": []
        }
      }
    },
    "src/helpers/snippetFormatter.js": {
      "imports": ["./utils.js"],
      "functions": {
        "highlightTerms": {
          "calls": ["escapeHTML", "isArray", "map", "replace", "join"],
          "patterns": []
        },
        "createSnippetElement": {
          "calls": [
            "createElement",
            "add",
            "trimEnd",
            "slice",
            "highlightTerms",
            "appendChild",
            "setAttribute"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/signatureMove.js": {
      "imports": [],
      "functions": {
        "markSignatureMoveReady": {
          "calls": ["setAttribute", "dispatchEvent"],
          "patterns": []
        }
      }
    },
    "src/helpers/showSnackbar.js": {
      "imports": ["./SnackbarManager.js"],
      "functions": {
        "showSnackbar": {
          "calls": ["show"],
          "patterns": []
        },
        "updateSnackbar": {
          "calls": ["update", "showSnackbar"],
          "patterns": []
        }
      }
    },
    "src/helpers/showSettingsError.js": {
      "imports": [],
      "functions": {
        "showSettingsError": {
          "calls": [
            "querySelector",
            "createElement",
            "setAttribute",
            "appendChild",
            "has",
            "removeAttribute",
            "set",
            "addEventListener",
            "forEach",
            "contains",
            "removeEventListener",
            "delete",
            "disconnect",
            "observe"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["removeAttribute"],
          "patterns": []
        }
      }
    },
    "src/helpers/setupSvgFallback.js": {
      "imports": ["./svgFallback.js"],
      "functions": {}
    },
    "src/helpers/setupScoreboard.js": {
      "imports": ["./scheduler.js", "./logger.js", "../components/Scoreboard.js"],
      "functions": {
        "noop": {
          "calls": [],
          "patterns": []
        },
        "shouldQueueScoreboardCall": {
          "calls": ["has"],
          "patterns": []
        },
        "enqueueScoreboardCall": {
          "calls": ["shouldQueueScoreboardCall", "isArray"],
          "patterns": []
        },
        "flushQueuedScoreboardCalls": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "logOnce": {
          "calls": ["has", "add", "logFn"],
          "patterns": []
        },
        "fallbackValue": {
          "calls": [],
          "patterns": []
        },
        "getScoreboardMethod": {
          "calls": ["globalGetter"],
          "patterns": []
        },
        "observeHeaderClearance": {
          "calls": [
            "closest",
            "createHeaderClearanceApplier",
            "applyClearance",
            "attachHeaderResizeObserver",
            "attachHeaderResizeFallback"
          ],
          "patterns": []
        },
        "clampHeaderClearance": {
          "calls": ["isFinite", "max", "min"],
          "patterns": []
        },
        "createHeaderClearanceApplier": {
          "calls": [
            "getBoundingClientRect",
            "isFinite",
            "clampHeaderClearance",
            "setProperty",
            "toFixed"
          ],
          "patterns": ["factory"]
        },
        "disconnectHeaderClearanceObserver": {
          "calls": ["disconnect"],
          "patterns": []
        },
        "attachHeaderResizeObserver": {
          "calls": [
            "disconnectHeaderClearanceObserver",
            "applyClearance",
            "observe",
            "disconnect",
            "observeHeaderRemoval"
          ],
          "patterns": []
        },
        "disconnect": {
          "calls": ["disconnect"],
          "patterns": []
        },
        "attachHeaderResizeFallback": {
          "calls": [
            "disconnectHeaderClearanceObserver",
            "applyClearance",
            "addEventListener",
            "observeHeaderRemoval",
            "removeEventListener",
            "disconnect"
          ],
          "patterns": []
        },
        "resizeHandler": {
          "calls": ["applyClearance"],
          "patterns": []
        },
        "observeHeaderRemoval": {
          "calls": ["contains", "disconnect", "getRootNode", "observe"],
          "patterns": []
        },
        "runHelper": {
          "calls": ["logOnce", "fallbackValue", "enqueueScoreboardCall", "helper"],
          "patterns": []
        },
        "setupScoreboard": {
          "calls": [
            "querySelector",
            "runHelper",
            "getScoreboardMethod",
            "flushQueuedScoreboardCalls",
            "observeHeaderClearance",
            "ensureVisibilityListeners",
            "reflectNextButtonReadiness"
          ],
          "patterns": []
        },
        "ensureVisibilityListeners": {
          "calls": ["Boolean", "pauseTimer", "resumeTimer", "addEventListener"],
          "patterns": []
        },
        "handleVisibilityChange": {
          "calls": ["Boolean", "pauseTimer", "resumeTimer"],
          "patterns": []
        },
        "handleFocus": {
          "calls": ["resumeTimer"],
          "patterns": []
        },
        "detachVisibilityListeners": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "reflectNextButtonReadiness": {
          "calls": ["getElementById", "getAttribute", "update", "observe"],
          "patterns": []
        },
        "update": {
          "calls": ["getAttribute"],
          "patterns": []
        },
        "cleanupScoreboard": {
          "calls": ["detachVisibilityListeners"],
          "patterns": []
        },
        "showMessage": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "updateScore": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "clearMessage": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "showTemporaryMessage": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "clearTimer": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "updateTimer": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "showAutoSelect": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "updateRoundCounter": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        },
        "clearRoundCounter": {
          "calls": ["runHelper", "getScoreboardMethod"],
          "patterns": []
        }
      }
    },
    "src/helpers/setupHoverZoom.js": {
      "imports": ["./domReady.js"],
      "functions": {
        "clearLegacyHoverZoomMarkers": {
          "calls": ["querySelectorAll", "forEach", "removeAttribute"],
          "patterns": []
        }
      }
    },
    "src/helpers/setupDisplaySettings.js": {
      "imports": [
        "./displayMode.js",
        "./motionUtils.js",
        "./domReady.js",
        "./layoutDebugPanel.js",
        "./tooltipOverlayDebug.js",
        "./featureFlags.js",
        "./settingsStorage.js"
      ],
      "functions": {
        "init": {
          "calls": [
            "initFeatureFlags",
            "normalizeDisplayMode",
            "applyDisplayMode",
            "updateSetting",
            "applyMotionPreference",
            "toggleLayoutDebugPanel",
            "isEnabled",
            "toggleTooltipOverlayDebug",
            "error"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/setupClassicBattleHomeLink.js": {
      "imports": [
        "./domReady.js",
        "./classicBattle/quitModal.js",
        "./battleInit.js",
        "./telemetry.js",
        "./classicBattleHomeLink.constants.js"
      ],
      "functions": {
        "notifyStoreReadyTimeout": {
          "calls": ["warn", "logEvent"],
          "patterns": []
        },
        "waitForBattleStoreReady": {
          "calls": [
            "markBattlePartReady",
            "clearInterval",
            "removeEventListener",
            "cleanup",
            "markHomeReady",
            "addEventListener",
            "setInterval",
            "notifyStoreReadyTimeout"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["clearInterval", "removeEventListener"],
          "patterns": []
        },
        "markHomeReady": {
          "calls": ["cleanup", "markBattlePartReady"],
          "patterns": []
        },
        "handleStoreReadyEvent": {
          "calls": ["markHomeReady"],
          "patterns": []
        },
        "setupClassicBattleHomeLink": {
          "calls": [
            "from",
            "querySelectorAll",
            "forEach",
            "addEventListener",
            "preventDefault",
            "quitMatch",
            "waitForBattleStoreReady"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settingsStorage.js": {
      "imports": [
        "./dataUtils.js",
        "./debug.js",
        "../config/settingsDefaults.js",
        "../config/loadSettings.js",
        "./settingsCache.js",
        "../utils/debounce.js"
      ],
      "functions": {
        "setTimer": {
          "calls": ["setTimeout"],
          "patterns": []
        },
        "clearTimer": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "loadSettingsSchemaModule": {
          "calls": [],
          "patterns": []
        },
        "setSettingsStorageTimers": {
          "calls": [],
          "patterns": []
        },
        "enqueueWriteTask": {
          "calls": ["then", "catch"],
          "patterns": []
        },
        "issueWriteRevision": {
          "calls": [],
          "patterns": []
        },
        "persistSettingsIfCurrent": {
          "calls": ["setItem", "stringify", "setCachedSettings"],
          "patterns": []
        },
        "flushSettingsSave": {
          "calls": ["flush"],
          "patterns": []
        },
        "__setSettingsSchemaImporter": {
          "calls": [],
          "patterns": []
        },
        "getSettingsSchema": {
          "calls": ["fetch", "json", "loadSettingsSchemaModule", "catch", "debugLog", "setTimeout"],
          "patterns": []
        },
        "saveSettings": {
          "calls": ["setCachedSettings", "reject", "issueWriteRevision", "then", "debouncedSave"],
          "patterns": []
        },
        "loadSettings": {
          "calls": [
            "getSettingsSchema",
            "getItem",
            "parse",
            "baseLoadSettings",
            "validateWithSchema",
            "setCachedSettings",
            "debug",
            "removeItem",
            "structuredClone"
          ],
          "patterns": []
        },
        "updateSetting": {
          "calls": [
            "enqueueWriteTask",
            "getSettingsSchema",
            "loadSettings",
            "getCachedSettings",
            "validateWithSchema",
            "issueWriteRevision",
            "persistSettingsIfCurrent"
          ],
          "patterns": []
        },
        "resetSettings": {
          "calls": [
            "cancel",
            "issueWriteRevision",
            "setItem",
            "stringify",
            "error",
            "setCachedSettings",
            "getCachedSettings"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settingsPage.js": {
      "imports": [
        "./settingsStorage.js",
        "./gameModeUtils.js",
        "./showSettingsError.js",
        "./displayMode.js",
        "./viewTransition.js",
        "./motionUtils.js",
        "./domReady.js",
        "./tooltip.js",
        "./tooltipOverlayDebug.js",
        "./layoutDebugPanel.js",
        "./featureFlags.js",
        "./showSnackbar.js",
        "./debugFlagHud.js",
        "./settings/applyInitialValues.js",
        "./settings/listenerUtils.js",
        "./settings/makeHandleUpdate.js",
        "./settings/createResetModal.js",
        "./settings/attachResetListener.js",
        "./settings/syncDisplayMode.js",
        "./settings/renderGameModes.js",
        "./settings/renderFeatureFlags.js",
        "./settings/filterAdvancedSettings.js",
        "./logger.js"
      ],
      "functions": {
        "ensureAnimationHandler": {
          "calls": [
            "has",
            "onEnd",
            "set",
            "addEventListener",
            "forEach",
            "contains",
            "removeEventListener",
            "delete",
            "disconnect",
            "observe"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["onEnd"],
          "patterns": []
        },
        "createSaveStatusNotifier": {
          "calls": ["ensureAnimationHandler", "removeAttribute", "trim", "setAttribute"],
          "patterns": ["factory"]
        },
        "initializeControls": {
          "calls": [
            "createControlsRefs",
            "createSaveStatusNotifier",
            "getElementById",
            "makeErrorPopupHandler",
            "closest",
            "add",
            "setTimeout",
            "remove",
            "notifySaveStatus",
            "makeHandleUpdate",
            "attachToggleListeners",
            "makeRenderSwitches",
            "createResetModal",
            "resetSettings",
            "initFeatureFlags",
            "withViewTransition",
            "applyDisplayMode",
            "applyMotionPreference",
            "toggleTooltipOverlayDebug",
            "isEnabled",
            "toggleLayoutDebugPanel",
            "renderSwitches",
            "showSnackbar",
            "attachResetListener",
            "isArray"
          ],
          "patterns": []
        },
        "getCurrentSettings": {
          "calls": [],
          "patterns": []
        },
        "onUpdate": {
          "calls": ["closest", "add", "setTimeout", "remove", "notifySaveStatus"],
          "patterns": []
        },
        "createControlsRefs": {
          "calls": ["getElementById", "querySelectorAll"],
          "patterns": ["factory"]
        },
        "makeErrorPopupHandler": {
          "calls": ["revert", "ensureAnimationHandler", "removeAttribute", "setAttribute"],
          "patterns": []
        },
        "makeRenderSwitches": {
          "calls": [
            "previousCleanup",
            "warn",
            "initTooltips",
            "newCleanup",
            "getCurrentSettings",
            "applyInitialControlValues",
            "syncDisplayMode",
            "renderGameModes",
            "renderFeatureFlags",
            "runTooltipLifecycle"
          ],
          "patterns": []
        },
        "runTooltipLifecycle": {
          "calls": ["previousCleanup", "warn", "initTooltips", "newCleanup"],
          "patterns": []
        },
        "fetchSettingsData": {
          "calls": ["all", "initFeatureFlags", "loadGameModes", "getTooltips"],
          "patterns": []
        },
        "renderSettingsControls": {
          "calls": [
            "applyInitialSettings",
            "initializeControls",
            "renderSwitches",
            "dispatchEvent"
          ],
          "patterns": []
        },
        "showSectionError": {
          "calls": ["getElementById", "createElement", "setAttribute", "append"],
          "patterns": []
        },
        "renderWithFallbacks": {
          "calls": ["isArray", "showSectionError", "renderSettingsControls"],
          "patterns": []
        },
        "initializeSettingsPage": {
          "calls": [
            "fetchSettingsData",
            "error",
            "showLoadSettingsError",
            "renderWithFallbacks",
            "initDebugFlagHud",
            "getElementById",
            "setupAdvancedSettingsSearch"
          ],
          "patterns": []
        },
        "applyInitialSettings": {
          "calls": [
            "applyDisplayMode",
            "applyMotionPreference",
            "toggleTooltipOverlayDebug",
            "isEnabled",
            "toggleLayoutDebugPanel"
          ],
          "patterns": []
        },
        "showLoadSettingsError": {
          "calls": ["showSettingsError"],
          "patterns": []
        }
      }
    },
    "src/helpers/settingsCache.js": {
      "imports": ["../config/settingsDefaults.js", "../config/loadSettings.js"],
      "functions": {
        "cloneSettings": {
          "calls": ["fromEntries", "map", "entries"],
          "patterns": []
        },
        "loadDefaultSettings": {
          "calls": ["loadSettings", "setCachedSettings"],
          "patterns": []
        },
        "setCachedSettings": {
          "calls": ["cloneSettings"],
          "patterns": []
        },
        "resetCache": {
          "calls": ["cloneSettings"],
          "patterns": []
        },
        "getSetting": {
          "calls": [],
          "patterns": []
        },
        "getFeatureFlag": {
          "calls": [],
          "patterns": []
        },
        "getCachedSettings": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/scheduler.js": {
      "imports": [],
      "functions": {
        "createRequestAnimationFrame": {
          "calls": ["requestAnimationFrame", "setTimeout"],
          "patterns": ["factory"]
        },
        "createCancelAnimationFrame": {
          "calls": ["cancelAnimationFrame", "clearTimeout"],
          "patterns": ["factory"]
        },
        "getScheduler": {
          "calls": [],
          "patterns": []
        },
        "setScheduler": {
          "calls": ["assign"],
          "patterns": []
        }
      }
    },
    "src/helpers/sanitizeHtml.js": {
      "imports": [],
      "functions": {
        "getSanitizer": {
          "calls": ["maybe", "tryLoad"],
          "patterns": []
        },
        "tryLoad": {
          "calls": ["maybe"],
          "patterns": []
        },
        "createExecutableRegexSet": {
          "calls": ["pop"],
          "patterns": ["factory"]
        },
        "releaseExecutableRegexSet": {
          "calls": ["resetRegexState", "push"],
          "patterns": []
        },
        "resetRegexState": {
          "calls": [],
          "patterns": []
        },
        "resolveBlockBoundaries": {
          "calls": ["exec", "max"],
          "patterns": []
        },
        "escapeExecutableFragment": {
          "calls": ["replace"],
          "patterns": []
        },
        "stripExecutableBlocks": {
          "calls": [
            "createExecutableRegexSet",
            "max",
            "min",
            "ceil",
            "exec",
            "slice",
            "toLowerCase",
            "resolveBlockBoundaries",
            "endsWith",
            "resetRegexState",
            "escapeExecutableFragment",
            "releaseExecutableRegexSet"
          ],
          "patterns": []
        },
        "sanitizeBasic": {
          "calls": [
            "String",
            "replace",
            "stripExecutableBlocks",
            "toLowerCase",
            "has",
            "endsWith",
            "escape",
            "startsWith"
          ],
          "patterns": []
        },
        "escape": {
          "calls": ["replace"],
          "patterns": []
        }
      }
    },
    "src/helpers/roundStatusDisplay.js": {
      "imports": [],
      "functions": {
        "getMessageEl": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getTimerEl": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getRoundCounterEl": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getRootEl": {
          "calls": ["closest", "querySelector"],
          "patterns": []
        },
        "ensureLabelValueSpacing": {
          "calls": ["trim", "String", "removeChild", "insertBefore", "createTextNode", "test"],
          "patterns": []
        },
        "updateTimerElement": {
          "calls": ["querySelector", "createElement", "insertBefore", "ensureLabelValueSpacing"],
          "patterns": []
        },
        "showMessage": {
          "calls": ["now", "getMessageEl", "getRootEl"],
          "patterns": []
        },
        "clearMessage": {
          "calls": ["showMessage"],
          "patterns": []
        },
        "showTemporaryMessage": {
          "calls": ["showMessage", "getMessageEl", "clearMessage"],
          "patterns": []
        },
        "updateTimer": {
          "calls": [
            "getTimerEl",
            "isFinite",
            "max",
            "setAttribute",
            "String",
            "updateTimerElement",
            "removeAttribute"
          ],
          "patterns": []
        },
        "clearTimer": {
          "calls": ["updateTimer"],
          "patterns": []
        },
        "updateRoundCounter": {
          "calls": ["getRoundCounterEl"],
          "patterns": []
        },
        "clearRoundCounter": {
          "calls": ["updateRoundCounter"],
          "patterns": []
        },
        "showAutoSelect": {
          "calls": ["showMessage"],
          "patterns": []
        }
      }
    },
    "src/helpers/randomJudokaPage.js": {
      "imports": [
        "./randomCard.js",
        "./cardUtils.js",
        "./motionUtils.js",
        "./domReady.js",
        "./tooltip.js",
        "./tooltipOverlayDebug.js",
        "./testModeUtils.js",
        "./featureFlags.js",
        "./judokaUtils.js",
        "./showSnackbar.js",
        "./drawCardStateMachine.js",
        "./settingsCache.js",
        "../config/settingsDefaults.js",
        "./detailsToggle.js"
      ],
      "functions": {
        "signalRandomJudokaReady": {
          "calls": ["getAttribute", "setAttribute", "dispatchEvent", "resolve"],
          "patterns": []
        },
        "initFeatureFlagState": {
          "calls": [
            "initFeatureFlags",
            "error",
            "matchMedia",
            "setCachedSettings",
            "warn",
            "trim",
            "call",
            "setTestMode",
            "resolveInitialFlagEnabled",
            "applyMotionPreference",
            "toggleInspectorPanels",
            "toggleTooltipOverlayDebug"
          ],
          "patterns": []
        },
        "resolveInitialFlagEnabled": {
          "calls": ["trim", "call"],
          "patterns": []
        },
        "getHistoryPanelElements": {
          "calls": ["getElementById", "querySelector", "add"],
          "patterns": []
        },
        "showError": {
          "calls": [
            "getElementById",
            "createElement",
            "setAttribute",
            "querySelector",
            "warn",
            "appendChild"
          ],
          "patterns": []
        },
        "runMicrotask": {
          "calls": ["queueMicrotask", "then", "resolve"],
          "patterns": []
        },
        "updateHistoryUI": {
          "calls": ["forEach", "get", "createElement", "appendChild"],
          "patterns": []
        },
        "addToHistory": {
          "calls": ["add", "updateHistoryUI"],
          "patterns": []
        },
        "removeHistoryPanelEscapeHandler": {
          "calls": ["removeEventListener", "warn"],
          "patterns": []
        },
        "removeHistoryPanelUnloadHandlers": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "handleHistoryPanelBeforeUnload": {
          "calls": ["removeHistoryPanelEscapeHandler", "removeHistoryPanelUnloadHandlers"],
          "patterns": []
        },
        "handleHistoryPanelVisibilityChange": {
          "calls": ["removeHistoryPanelEscapeHandler", "removeHistoryPanelUnloadHandlers"],
          "patterns": []
        },
        "handleHistoryPanelEscape": {
          "calls": ["preventDefault", "setDetailsOpen"],
          "patterns": []
        },
        "bindHistoryPanelInteractions": {
          "calls": ["runMicrotask", "focus", "addEventListener"],
          "patterns": []
        },
        "focusToggle": {
          "calls": ["runMicrotask", "focus"],
          "patterns": []
        },
        "announceCard": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "announceJudoka": {
          "calls": ["announceCard", "trim", "join", "filter"],
          "patterns": []
        },
        "displayCard": {
          "calls": [
            "createDrawCardStateMachine",
            "resolve",
            "showError",
            "settle",
            "debug",
            "transition",
            "announceCard",
            "getElementById",
            "generateRandomCard",
            "isEnabled",
            "querySelector",
            "error",
            "getFallbackJudoka",
            "onSelect",
            "loadGokyoLookup",
            "renderJudokaCard",
            "showSnackbar",
            "announceJudoka",
            "removeEventListener",
            "clear",
            "addEventListener",
            "set"
          ],
          "patterns": []
        },
        "settle": {
          "calls": ["resolve"],
          "patterns": []
        },
        "onEnd": {
          "calls": ["removeEventListener", "clear", "transition", "settle"],
          "patterns": []
        },
        "setupRandomJudokaPage": {
          "calls": [
            "initFeatureFlagState",
            "getElementById",
            "appendChild",
            "cloneNode",
            "preloadRandomCardData",
            "error",
            "createHistoryManager",
            "getHistoryPanelElements",
            "querySelector",
            "trim",
            "String",
            "updateDrawButtonLabel",
            "resolve",
            "dispatchEvent",
            "warn",
            "addToHistory",
            "addEventListener",
            "displayCard",
            "bindHistoryPanelInteractions",
            "getSetting",
            "applyMotionPreference",
            "shouldReduceMotionSync",
            "toggleInspectorPanels",
            "isEnabled",
            "toggleTooltipOverlayDebug",
            "showError",
            "setAttribute",
            "initTooltips"
          ],
          "patterns": []
        },
        "onSelect": {
          "calls": ["addToHistory"],
          "patterns": []
        },
        "initRandomJudokaPage": {
          "calls": ["resolve", "catch", "setupRandomJudokaPage", "all"],
          "patterns": []
        }
      }
    },
    "src/helpers/randomJudoka.js": {
      "imports": [],
      "functions": {
        "cloneRandomSelectionDocumentation": {
          "calls": ["structuredClone", "parse", "stringify"],
          "patterns": []
        },
        "validateRandomFilters": {
          "calls": ["trim", "includes"],
          "patterns": []
        },
        "filterJudokaByFilters": {
          "calls": ["keys", "filter"],
          "patterns": []
        },
        "getRandomValue": {
          "calls": ["call", "isFinite"],
          "patterns": []
        },
        "selectRandomElement": {
          "calls": ["floor", "getRandomValue"],
          "patterns": []
        },
        "selectRandomJudoka": {
          "calls": ["validateRandomFilters", "filterJudokaByFilters", "selectRandomElement"],
          "patterns": []
        },
        "getRandomJudokaWithMetadata": {
          "calls": ["validateRandomFilters", "filterJudokaByFilters", "selectRandomElement"],
          "patterns": []
        },
        "getAvailableFilterOptions": {
          "calls": ["add", "sort", "from"],
          "patterns": []
        },
        "getRandomSelectionDocumentation": {
          "calls": ["cloneRandomSelectionDocumentation"],
          "patterns": []
        }
      }
    },
    "src/helpers/randomCard.js": {
      "imports": [
        "./dataUtils.js",
        "./utils.js",
        "./cardUtils.js",
        "./judokaValidation.js",
        "./constants.js",
        "./judokaUtils.js",
        "../components/JudokaCard.js",
        "./lazyPortrait.js",
        "./signatureMove.js",
        "./testModeUtils.js"
      ],
      "functions": {
        "preloadRandomCardData": {
          "calls": ["all", "fetchJson", "error"],
          "patterns": []
        },
        "createHistoryManager": {
          "calls": ["unshift", "pop"],
          "patterns": ["factory"]
        },
        "isTestEnvironment": {
          "calls": ["some", "Boolean"],
          "patterns": []
        },
        "withDeterministicSeed": {
          "calls": [
            "Number",
            "isFinite",
            "isTestEnvironment",
            "callback",
            "isTestModeEnabled",
            "getCurrentSeed",
            "setTestMode"
          ],
          "patterns": []
        },
        "displayCard": {
          "calls": [
            "appendChild",
            "querySelector",
            "markSignatureMoveReady",
            "setupLazyPortraits",
            "requestNextFrame",
            "add"
          ],
          "patterns": []
        },
        "loadGokyoLookup": {
          "calls": ["fetchJson", "createGokyoLookup", "error", "showSnackbar", "warn"],
          "patterns": []
        },
        "pickJudoka": {
          "calls": [
            "fetchJson",
            "isArray",
            "filter",
            "hasRequiredJudokaFields",
            "getRandomJudoka",
            "onSelect",
            "error",
            "getFallbackJudoka"
          ],
          "patterns": []
        },
        "renderJudokaCard": {
          "calls": ["render", "error", "displayCard"],
          "patterns": []
        },
        "generateRandomCard": {
          "calls": ["withDeterministicSeed", "loadGokyoLookup", "pickJudoka", "renderJudokaCard"],
          "patterns": []
        }
      }
    },
    "src/helpers/quoteBuilder.js": {
      "imports": ["./quotes/quoteService.js", "./quotes/quoteRenderer.js"],
      "functions": {
        "waitForKgImage": {
          "calls": ["querySelector", "checkAssetsReady", "addEventListener", "resolve"],
          "patterns": []
        },
        "loadQuote": {
          "calls": ["displayRandomQuote", "displayFable", "all", "waitForKgImage"],
          "patterns": []
        }
      }
    },
    "src/helpers/queryExpander.js": {
      "imports": ["./dataUtils.js", "./constants.js"],
      "functions": {
        "normalizeQuery": {
          "calls": ["trim", "replace", "toLowerCase"],
          "patterns": []
        },
        "normalizeComparison": {
          "calls": ["replace"],
          "patterns": []
        },
        "levenshteinDistance": {
          "calls": ["abs", "from", "min"],
          "patterns": []
        },
        "loadSynonyms": {
          "calls": ["fetchJson", "error"],
          "patterns": []
        },
        "matchesAnyToken": {
          "calls": ["some", "abs", "levenshteinDistance"],
          "patterns": []
        },
        "isSynonymMatch": {
          "calls": [
            "has",
            "normalizeComparison",
            "abs",
            "levenshteinDistance",
            "matchesAnyToken",
            "includes",
            "filter",
            "split",
            "some"
          ],
          "patterns": []
        },
        "findSynonymMatches": {
          "calls": [
            "normalizeQuery",
            "filter",
            "split",
            "map",
            "normalizeComparison",
            "entries",
            "isArray",
            "some",
            "isSynonymMatch",
            "forEach",
            "add"
          ],
          "patterns": []
        },
        "expandQuery": {
          "calls": [
            "loadSynonyms",
            "normalizeQuery",
            "slice",
            "filter",
            "split",
            "findSynonymMatches",
            "flatMap",
            "from",
            "join",
            "lastIndexOf",
            "substring",
            "trim"
          ],
          "patterns": []
        },
        "getSynonymStats": {
          "calls": [
            "loadSynonyms",
            "keys",
            "reduce",
            "values",
            "isArray",
            "toFixed",
            "map",
            "slice",
            "entries"
          ],
          "patterns": []
        },
        "resetSynonymCache": {
          "calls": [],
          "patterns": []
        },
        "getSynonymCacheHits": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/preload.js": {
      "imports": ["./dataUtils.js", "./constants.js"],
      "functions": {
        "preloadMeditationAssets": {
          "calls": ["all", "fetch", "fetchJson", "error"],
          "patterns": []
        }
      }
    },
    "src/helpers/prdTaskStats.js": {
      "imports": [],
      "functions": {
        "getPrdTaskStats": {
          "calls": ["match", "split", "toLowerCase", "trim"],
          "patterns": []
        }
      }
    },
    "src/helpers/prdReaderPage.js": {
      "imports": [
        "./domReady.js",
        "./markdownToHtml.js",
        "./tooltip.js",
        "../components/SidebarList.js",
        "./prdTaskStats.js",
        "./sanitizeHtml.js",
        "../components/Spinner.js",
        "../helpers/settingsCache.js",
        "./prdReader/history.js"
      ],
      "functions": {
        "done": {
          "calls": ["renderAndFocus"],
          "patterns": []
        },
        "loadPrdFileList": {
          "calls": [
            "replace",
            "keys",
            "map",
            "glob",
            "fetch",
            "json",
            "sort",
            "localeCompare",
            "pop",
            "split",
            "trim"
          ],
          "patterns": []
        },
        "createSidebarList": {
          "calls": ["trim", "querySelector", "replaceWith", "select"],
          "patterns": ["factory"]
        },
        "bindNavigation": {
          "calls": ["forEach", "addEventListener", "showNext", "showPrev", "abs"],
          "patterns": []
        },
        "renderDocument": {
          "calls": [
            "cleanupTooltips",
            "sanitize",
            "setAttribute",
            "remove",
            "add",
            "round",
            "catch",
            "then",
            "initTooltips"
          ],
          "patterns": []
        },
        "loadPrdDocs": {
          "calls": [
            "loadPrdFileList",
            "getSanitizer",
            "Array",
            "replace",
            "sanitize",
            "parserFn",
            "escapeHtml",
            "fetch",
            "text",
            "parseWithWarning",
            "getPrdTaskStats",
            "match",
            "trim",
            "error"
          ],
          "patterns": []
        },
        "escapeHtml": {
          "calls": ["replace"],
          "patterns": []
        },
        "parseWithWarning": {
          "calls": ["sanitize", "parserFn", "escapeHtml"],
          "patterns": []
        },
        "fetchOne": {
          "calls": [
            "fetch",
            "text",
            "parseWithWarning",
            "getPrdTaskStats",
            "match",
            "trim",
            "error"
          ],
          "patterns": []
        },
        "ensureDocSync": {
          "calls": ["parseWithWarning", "getPrdTaskStats", "match", "trim"],
          "patterns": []
        },
        "setupSidebarUI": {
          "calls": [
            "getElementById",
            "createSpinner",
            "get",
            "max",
            "indexOf",
            "replace",
            "createSidebarList",
            "selectDocSync",
            "listSelect"
          ],
          "patterns": []
        },
        "initNavigationHandlers": {
          "calls": ["querySelectorAll", "selectDocSync", "bindNavigation", "bindHistory"],
          "patterns": []
        },
        "showNext": {
          "calls": ["selectDocSync"],
          "patterns": []
        },
        "showPrev": {
          "calls": ["selectDocSync"],
          "patterns": []
        },
        "setupPrdReaderPage": {
          "calls": [
            "loadPrdDocs",
            "setupSidebarUI",
            "querySelectorAll",
            "selectDocSync",
            "forEach",
            "addEventListener",
            "preventDefault",
            "focus",
            "showNext",
            "showPrev",
            "setTimeout",
            "bindNavigation",
            "bindHistory",
            "replaceHistory",
            "show",
            "ensureDocSync",
            "fetchOne",
            "renderDocument",
            "remove",
            "getFeatureFlag",
            "then",
            "resolve"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/orientation.js": {
      "imports": [],
      "functions": {
        "getOrientation": {
          "calls": ["matchMedia"],
          "patterns": []
        }
      }
    },
    "src/helpers/opponentCardWait.js": {
      "imports": [],
      "functions": {
        "waitForOpponentCard": {
          "calls": [
            "getElementById",
            "resolve",
            "querySelector",
            "disconnect",
            "clearTimeout",
            "observe",
            "setTimeout"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/nodeEventsShim.js": {
      "imports": [],
      "functions": {
        "setMaxListenersIfNode": {
          "calls": ["setMaxListeners"],
          "patterns": []
        }
      }
    },
    "src/helpers/navUtils.js": {
      "imports": [],
      "functions": {
        "resolveHomeHref": {
          "calls": ["match", "endsWith"],
          "patterns": []
        },
        "navigateToHome": {
          "calls": ["resolveHomeHref", "replaceState"],
          "patterns": []
        }
      }
    },
    "src/helpers/motionUtils.js": {
      "imports": ["./settingsCache.js"],
      "functions": {
        "shouldReduceMotionSync": {
          "calls": ["getSetting", "matchMedia"],
          "patterns": []
        },
        "applyMotionPreference": {
          "calls": ["add", "remove"],
          "patterns": []
        }
      }
    },
    "src/helpers/mockupViewerPage.js": {
      "imports": ["./domReady.js", "./tooltip.js", "../components/SidebarList.js"],
      "functions": {
        "setupMockupViewerPage": {
          "calls": [
            "getElementById",
            "showImage",
            "replaceWith",
            "select",
            "add",
            "listSelect",
            "removeEventListener",
            "addEventListener",
            "initTooltips",
            "cleanupTooltips"
          ],
          "patterns": []
        },
        "listSelect": {
          "calls": ["select"],
          "patterns": []
        },
        "showImage": {
          "calls": ["add", "listSelect"],
          "patterns": []
        },
        "handlePrevClick": {
          "calls": ["showImage"],
          "patterns": []
        },
        "handleNextClick": {
          "calls": ["showImage"],
          "patterns": []
        },
        "handleKeydown": {
          "calls": ["showImage"],
          "patterns": []
        }
      }
    },
    "src/helpers/meditationPage.js": {
      "imports": ["./pseudoJapanese/ui.js", "./domReady.js", "./tooltip.js", "./quoteBuilder.js"],
      "functions": {
        "setupMeditationPage": {
          "calls": ["getElementById", "loadQuote", "setupLanguageToggle", "initTooltips"],
          "patterns": []
        }
      }
    },
    "src/helpers/markdownToHtml.js": {
      "imports": ["../vendor/marked.esm.js"],
      "functions": {
        "markdownToHtml": {
          "calls": ["parse"],
          "patterns": []
        }
      }
    },
    "src/helpers/logger.js": {
      "imports": [],
      "functions": {
        "shouldLog": {
          "calls": [],
          "patterns": []
        },
        "log": {
          "calls": ["shouldLog", "log"],
          "patterns": []
        },
        "debug": {
          "calls": ["shouldLog", "debug"],
          "patterns": []
        },
        "info": {
          "calls": ["shouldLog", "info"],
          "patterns": []
        },
        "warn": {
          "calls": ["warn"],
          "patterns": []
        },
        "error": {
          "calls": ["error"],
          "patterns": []
        }
      }
    },
    "src/helpers/lazyPortrait.js": {
      "imports": [],
      "functions": {
        "setupLazyPortraits": {
          "calls": [
            "querySelectorAll",
            "getAttribute",
            "removeAttribute",
            "unobserve",
            "forEach",
            "observe"
          ],
          "patterns": []
        },
        "onIntersect": {
          "calls": ["getAttribute", "removeAttribute", "unobserve"],
          "patterns": []
        }
      }
    },
    "src/helpers/layoutDebugPanel.js": {
      "imports": ["./debugFlagPerformance.js"],
      "functions": {
        "toSelectorList": {
          "calls": ["isArray", "slice"],
          "patterns": []
        },
        "clearOutlines": {
          "calls": ["forEach", "querySelectorAll", "remove"],
          "patterns": []
        },
        "applyOutlines": {
          "calls": ["forEach", "querySelectorAll", "add"],
          "patterns": []
        },
        "cancelPendingTask": {
          "calls": ["pendingTaskCancel", "pendingResolve", "resolve"],
          "patterns": []
        },
        "scheduleIdleWork": {
          "calls": [
            "clearTimeout",
            "cancelAnimationFrame",
            "cancelIdleCallback",
            "clearScheduledHandles",
            "run",
            "requestIdleCallback",
            "setTimeout",
            "requestAnimationFrame"
          ],
          "patterns": []
        },
        "clearScheduledHandles": {
          "calls": ["clearTimeout", "cancelAnimationFrame", "cancelIdleCallback"],
          "patterns": []
        },
        "settleRun": {
          "calls": ["clearScheduledHandles", "run"],
          "patterns": []
        },
        "settleCancel": {
          "calls": ["clearScheduledHandles"],
          "patterns": []
        },
        "scheduleOutlineRender": {
          "calls": [
            "slice",
            "now",
            "max",
            "measureDebugFlagToggle",
            "clearOutlines",
            "applyOutlines",
            "resolve",
            "setTimeout",
            "scheduleIdleWork",
            "clearTimeout"
          ],
          "patterns": []
        },
        "runTask": {
          "calls": [
            "slice",
            "measureDebugFlagToggle",
            "clearOutlines",
            "applyOutlines",
            "now",
            "resolve"
          ],
          "patterns": []
        },
        "toggleLayoutDebugPanel": {
          "calls": [
            "resolve",
            "Boolean",
            "cancelPendingTask",
            "clearOutlines",
            "toSelectorList",
            "scheduleOutlineRender"
          ],
          "patterns": []
        },
        "isLayoutDebugPanelEnabled": {
          "calls": [],
          "patterns": []
        },
        "flushLayoutDebugPanelWork": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/judokaValidation.js": {
      "imports": [],
      "functions": {
        "getMissingJudokaFields": {
          "calls": ["concat", "map", "push"],
          "patterns": []
        },
        "hasRequiredJudokaFields": {
          "calls": ["getMissingJudokaFields"],
          "patterns": []
        }
      }
    },
    "src/helpers/judokaUtils.js": {
      "imports": ["./dataUtils.js", "./constants.js"],
      "functions": {
        "getFallbackJudoka": {
          "calls": ["fetchJsonFn", "isArray", "find", "error"],
          "patterns": []
        },
        "resetFallbackCache": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/judokaComparison.js": {
      "imports": [],
      "functions": {
        "validateComparisonIds": {
          "calls": ["Number", "isNaN"],
          "patterns": []
        },
        "validateJudokaForComparison": {
          "calls": [],
          "patterns": []
        },
        "calculateStatDifferences": {
          "calls": ["keys", "forEach", "abs"],
          "patterns": []
        },
        "rankStatDifferences": {
          "calls": ["sort", "map", "entries", "abs"],
          "patterns": []
        },
        "generateComparisonSummary": {
          "calls": ["reduce", "values", "map", "filter", "entries"],
          "patterns": []
        },
        "formatComparisonReport": {
          "calls": [
            "calculateStatDifferences",
            "generateComparisonSummary",
            "rankStatDifferences",
            "forEach",
            "entries",
            "toString"
          ],
          "patterns": []
        },
        "getComparisonDocumentation": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/index.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/i18n.js": {
      "imports": [],
      "functions": {
        "t": {
          "calls": ["replace", "String"],
          "patterns": []
        }
      }
    },
    "src/helpers/homePage.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/guardUtils.js": {
      "imports": [],
      "functions": {
        "manageHiddenProperty": {
          "calls": ["call", "defineProperty"],
          "patterns": []
        },
        "setHiddenStoreValue": {
          "calls": ["manageHiddenProperty"],
          "patterns": []
        },
        "getHiddenStoreValue": {
          "calls": ["manageHiddenProperty"],
          "patterns": []
        },
        "enterGuard": {
          "calls": ["call", "defineProperty"],
          "patterns": []
        }
      }
    },
    "src/helpers/gameModeUtils.js": {
      "imports": ["./dataUtils.js", "./constants.js", "./storage.js", "../data/navigationItems.js"],
      "functions": {
        "getSchema": {
          "calls": ["catch", "then", "fetch", "json", "importJsonModule"],
          "patterns": []
        },
        "getNavigationSchema": {
          "calls": ["catch", "then", "fetch", "json", "importJsonModule"],
          "patterns": []
        },
        "loadGameModes": {
          "calls": [
            "getSchema",
            "getItem",
            "validateWithSchema",
            "warn",
            "removeItem",
            "fetchJson",
            "importJsonModule",
            "setItem"
          ],
          "patterns": []
        },
        "saveGameModes": {
          "calls": ["validateWithSchema", "getSchema", "setItem"],
          "patterns": []
        },
        "cloneNavigationItems": {
          "calls": ["isArray", "map"],
          "patterns": []
        },
        "resolveNavigationItems": {
          "calls": ["getItem", "isArray", "cloneNavigationItems", "error", "validateWithSchema"],
          "patterns": []
        },
        "loadNavigationItems": {
          "calls": [
            "getNavigationSchema",
            "getItem",
            "isArray",
            "cloneNavigationItems",
            "error",
            "validateWithSchema",
            "fetchJson",
            "warn",
            "getSchema",
            "importJsonModule",
            "setItem",
            "map",
            "get"
          ],
          "patterns": []
        },
        "updateNavigationItemHidden": {
          "calls": [
            "getNavigationSchema",
            "resolveNavigationItems",
            "map",
            "validateWithSchema",
            "setItem"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/featureFlags.js": {
      "imports": [
        "../config/loadSettings.js",
        "./settingsStorage.js",
        "./settingsCache.js",
        "../config/settingsDefaults.js"
      ],
      "functions": {
        "isPlainObject": {
          "calls": ["isArray"],
          "patterns": []
        },
        "buildFeatureFlagSnapshot": {
          "calls": ["isPlainObject", "from", "keys", "call"],
          "patterns": []
        },
        "createEventWithDetail": {
          "calls": ["defineProperty"],
          "patterns": ["factory"]
        },
        "dispatchFeatureFlagChange": {
          "calls": ["createEventWithDetail", "dispatchEvent"],
          "patterns": []
        },
        "initFeatureFlags": {
          "calls": ["loadSettings", "setCachedSettings", "dispatchFeatureFlagChange"],
          "patterns": []
        },
        "isEnabled": {
          "calls": ["call"],
          "patterns": []
        },
        "setFlag": {
          "calls": [
            "loadSettings",
            "isArray",
            "hasOwn",
            "warn",
            "updateSetting",
            "dispatchFeatureFlagChange"
          ],
          "patterns": []
        },
        "enableFlag": {
          "calls": ["setFlag", "catch"],
          "patterns": []
        }
      }
    },
    "src/helpers/fallbackCountdown.js": {
      "imports": ["./scheduler.js"],
      "functions": {
        "createFallbackCountdownTimer": {
          "calls": [
            "bind",
            "setTimeoutFn",
            "scheduleNextTick",
            "clearTimeoutFn",
            "removeEventListener",
            "addEventListener",
            "onTick",
            "clearTimeoutSafe",
            "removeVisibilityListener",
            "onExpired",
            "pause",
            "resume",
            "stop",
            "addVisibilityListener",
            "scheduleResumeTick"
          ],
          "patterns": ["factory"]
        },
        "scheduleNextTick": {
          "calls": ["setTimeoutFn"],
          "patterns": []
        },
        "scheduleResumeTick": {
          "calls": ["scheduleNextTick", "setTimeoutFn"],
          "patterns": []
        },
        "clearTimeoutSafe": {
          "calls": ["clearTimeoutFn"],
          "patterns": []
        },
        "removeVisibilityListener": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "addVisibilityListener": {
          "calls": ["addEventListener"],
          "patterns": []
        },
        "tick": {
          "calls": [
            "onTick",
            "clearTimeoutSafe",
            "removeVisibilityListener",
            "onExpired",
            "scheduleNextTick"
          ],
          "patterns": []
        },
        "handleVisibility": {
          "calls": ["pause", "resume"],
          "patterns": []
        },
        "start": {
          "calls": ["stop", "onTick", "scheduleNextTick", "addVisibilityListener"],
          "patterns": []
        },
        "stop": {
          "calls": ["clearTimeoutSafe", "removeVisibilityListener"],
          "patterns": []
        },
        "pause": {
          "calls": ["clearTimeoutSafe"],
          "patterns": []
        },
        "resume": {
          "calls": ["scheduleResumeTick"],
          "patterns": []
        }
      }
    },
    "src/helpers/errorUtils.js": {
      "imports": [],
      "functions": {
        "safeGenerate": {
          "calls": ["fn", "error", "fallback"],
          "patterns": []
        }
      }
    },
    "src/helpers/environment.js": {
      "imports": [],
      "functions": {
        "isDevelopmentEnvironment": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/env.js": {
      "imports": [],
      "functions": {
        "isNodeEnvironment": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "isBrowserEnvironment": {
          "calls": [],
          "patterns": []
        },
        "getBaseUrl": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/drawCardStateMachine.js": {
      "imports": [],
      "functions": {
        "updateDrawButtonLabel": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "getIdleLabel": {
          "calls": ["trim"],
          "patterns": []
        },
        "createDrawCardStateMachine": {
          "calls": [
            "removeAttribute",
            "remove",
            "updateDrawButtonLabel",
            "getIdleLabel",
            "setAttribute",
            "add",
            "includes",
            "join",
            "onEnter"
          ],
          "patterns": ["factory"]
        },
        "transition": {
          "calls": ["includes", "join", "onEnter"],
          "patterns": []
        }
      }
    },
    "src/helpers/domReady.js": {
      "imports": [],
      "functions": {
        "onDomReady": {
          "calls": ["fn", "addEventListener"],
          "patterns": []
        }
      }
    },
    "src/helpers/documentHelper.js": {
      "imports": [],
      "functions": {
        "getDocumentRef": {
          "calls": [],
          "patterns": []
        },
        "safeGetElementById": {
          "calls": ["getDocumentRef", "getElementById"],
          "patterns": []
        },
        "safeQuerySelectorAll": {
          "calls": ["getDocumentRef", "querySelectorAll"],
          "patterns": []
        },
        "safeQuerySelector": {
          "calls": ["getDocumentRef", "querySelector"],
          "patterns": []
        }
      }
    },
    "src/helpers/displayMode.js": {
      "imports": [],
      "functions": {
        "applyDisplayMode": {
          "calls": ["normalizeDisplayMode", "join", "warn", "remove", "add"],
          "patterns": []
        },
        "normalizeDisplayMode": {
          "calls": ["toLowerCase", "includes", "has", "get", "info"],
          "patterns": []
        }
      }
    },
    "src/helpers/detailsToggle.js": {
      "imports": [],
      "functions": {
        "setDetailsOpen": {
          "calls": ["Boolean", "querySelector", "click", "setAttribute", "removeAttribute"],
          "patterns": []
        }
      }
    },
    "src/helpers/debugState.js": {
      "imports": [],
      "functions": {
        "getDebugState": {
          "calls": ["defineProperty"],
          "patterns": []
        },
        "recordDebugState": {
          "calls": ["getDebugState", "Boolean"],
          "patterns": []
        },
        "resetDebugState": {
          "calls": ["getDebugState"],
          "patterns": []
        }
      }
    },
    "src/helpers/debugFlagPerformance.js": {
      "imports": [],
      "functions": {
        "now": {
          "calls": ["now"],
          "patterns": []
        },
        "isTruthyFlag": {
          "calls": ["toLowerCase", "trim", "String"],
          "patterns": []
        },
        "callBooleanFactory": {
          "calls": ["Boolean", "maybeFn"],
          "patterns": ["factory"]
        },
        "shouldLogDebugFlagPerf": {
          "calls": ["isTruthyFlag"],
          "patterns": []
        },
        "isProfilingEnabled": {
          "calls": ["callBooleanFactory", "isTruthyFlag"],
          "patterns": []
        },
        "recordMetric": {
          "calls": [
            "push",
            "shift",
            "isArray",
            "shouldLogDebugFlagPerf",
            "info",
            "toFixed",
            "notifyMetricListeners"
          ],
          "patterns": []
        },
        "measureDebugFlagToggle": {
          "calls": ["isProfilingEnabled", "action", "now", "max", "recordMetric"],
          "patterns": []
        },
        "getDebugFlagMetrics": {
          "calls": ["slice"],
          "patterns": []
        },
        "resetDebugFlagMetrics": {
          "calls": ["isArray", "notifyMetricListeners"],
          "patterns": []
        },
        "notifyMetricListeners": {
          "calls": ["getDebugFlagMetrics", "forEach", "delete", "listener", "warn"],
          "patterns": []
        },
        "addDebugFlagMetricsListener": {
          "calls": ["add", "delete"],
          "patterns": []
        },
        "isDebugFlagProfilingEnabled": {
          "calls": ["isProfilingEnabled"],
          "patterns": []
        }
      }
    },
    "src/helpers/debugFlagHud.js": {
      "imports": ["./debugFlagPerformance.js", "./detailsToggle.js"],
      "functions": {
        "ensureStyleSheet": {
          "calls": ["getElementById", "createElement", "appendChild"],
          "patterns": []
        },
        "createHudRoot": {
          "calls": [
            "ensureStyleSheet",
            "getElementById",
            "createElement",
            "setAttribute",
            "querySelector",
            "addEventListener",
            "resetDebugFlagMetrics",
            "catch",
            "then",
            "exportAlertHistory",
            "setExportStatus"
          ],
          "patterns": ["factory"]
        },
        "summarizeMetrics": {
          "calls": ["forEach", "get", "max", "set", "map", "sort", "from", "values"],
          "patterns": []
        },
        "formatDuration": {
          "calls": ["toFixed"],
          "patterns": []
        },
        "formatTimestamp": {
          "calls": ["isNaN", "getTime", "toISOString"],
          "patterns": []
        },
        "getRecentAlertHistory": {
          "calls": ["max", "reverse", "slice"],
          "patterns": []
        },
        "formatHistoryMetrics": {
          "calls": ["isArray", "join", "map", "formatDuration"],
          "patterns": []
        },
        "renderAlertHistorySection": {
          "calls": [
            "getRecentAlertHistory",
            "setDetailsOpen",
            "removeAttribute",
            "forEach",
            "createElement",
            "isFinite",
            "formatDuration",
            "Number",
            "formatHistoryMetrics",
            "isArray",
            "join",
            "formatTimestamp",
            "push",
            "appendChild",
            "setAttribute"
          ],
          "patterns": []
        },
        "resolveAlertThreshold": {
          "calls": ["Number", "isNaN"],
          "patterns": []
        },
        "setsEqual": {
          "calls": ["has"],
          "patterns": []
        },
        "dispatchAlertEvent": {
          "calls": ["dispatchEvent", "slice"],
          "patterns": []
        },
        "recordAlertHistory": {
          "calls": [
            "map",
            "filter",
            "has",
            "now",
            "from",
            "push",
            "shift",
            "renderAlertHistorySection"
          ],
          "patterns": []
        },
        "renderHud": {
          "calls": [
            "renderAlertHistorySection",
            "isArray",
            "setAttribute",
            "dispatchAlertEvent",
            "resolveAlertThreshold",
            "summarizeMetrics",
            "forEach",
            "add",
            "slice",
            "createElement",
            "has",
            "formatDuration",
            "appendChild",
            "setsEqual",
            "recordAlertHistory",
            "from"
          ],
          "patterns": []
        },
        "attachHud": {
          "calls": ["appendChild"],
          "patterns": []
        },
        "subscribeToMetrics": {
          "calls": ["addDebugFlagMetricsListener", "renderHud"],
          "patterns": []
        },
        "clearSubscription": {
          "calls": ["unsubscribeMetrics"],
          "patterns": []
        },
        "initDebugFlagHud": {
          "calls": [
            "isDebugFlagProfilingEnabled",
            "createHudRoot",
            "attachHud",
            "renderHud",
            "getDebugFlagMetrics",
            "subscribeToMetrics"
          ],
          "patterns": []
        },
        "teardownDebugFlagHud": {
          "calls": ["clearSubscription", "remove"],
          "patterns": []
        },
        "setExportStatus": {
          "calls": ["setAttribute"],
          "patterns": []
        },
        "fallbackDownload": {
          "calls": [
            "createObjectURL",
            "createElement",
            "now",
            "appendChild",
            "click",
            "removeChild",
            "revokeObjectURL",
            "warn"
          ],
          "patterns": []
        },
        "writeToClipboard": {
          "calls": ["catch", "then", "writeText", "resolve"],
          "patterns": []
        },
        "exportAlertHistory": {
          "calls": ["resolve", "stringify", "then", "writeToClipboard", "fallbackDownload"],
          "patterns": []
        }
      }
    },
    "src/helpers/debug.js": {
      "imports": [],
      "functions": {
        "debugLog": {
          "calls": ["log"],
          "patterns": []
        }
      }
    },
    "src/helpers/dataUtils.js": {
      "imports": ["./judokaValidation.js", "./debug.js", "./env.js"],
      "functions": {
        "validate": {
          "calls": [],
          "patterns": []
        },
        "getAjv": {
          "calls": ["isNodeEnvironment", "load", "isBrowserEnvironment"],
          "patterns": []
        },
        "resolveUrl": {
          "calls": [
            "toString",
            "isNodeEnvironment",
            "test",
            "startsWith",
            "pathToFileURL",
            "cwd",
            "getBaseUrl"
          ],
          "patterns": []
        },
        "readData": {
          "calls": ["fileURLToPath", "parse", "readFile", "fetch", "json"],
          "patterns": []
        },
        "validateAndCache": {
          "calls": ["validateWithSchema", "set", "String"],
          "patterns": []
        },
        "fetchJson": {
          "calls": [
            "debugLog",
            "String",
            "has",
            "get",
            "resolveUrl",
            "getBaseUrl",
            "readData",
            "validateAndCache",
            "delete"
          ],
          "patterns": []
        },
        "normalizeJudokaEntry": {
          "calls": ["trim", "toString", "isFinite", "Number", "toLowerCase", "validateData"],
          "patterns": []
        },
        "fetchJudokaList": {
          "calls": ["fetcher", "setTimeout", "isArray", "map", "normalizeJudokaEntry"],
          "patterns": []
        },
        "validateData": {
          "calls": ["getMissingJudokaFields", "join"],
          "patterns": []
        },
        "validateWithSchema": {
          "calls": ["getAjv", "get", "compile", "set", "validate", "errorsText"],
          "patterns": []
        },
        "importJsonModule": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/countryUtils.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/countrySlider.js": {
      "imports": ["./country/list.js"],
      "functions": {
        "createCountrySlider": {
          "calls": ["populateCountryList"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/countryPanel.js": {
      "imports": ["./detailsToggle.js"],
      "functions": {
        "toggleCountryPanel": {
          "calls": ["setDetailsOpen", "querySelector", "focus"],
          "patterns": []
        },
        "toggleCountryPanelMode": {
          "calls": ["contains", "add", "remove"],
          "patterns": []
        }
      }
    },
    "src/helpers/constants.js": {
      "imports": [],
      "functions": {
        "resolveDataDir": {
          "calls": ["indexOf", "slice", "test"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattleHomeLink.constants.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/classicBattle.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/changeLogPage.js": {
      "imports": [
        "./dataUtils.js",
        "./constants.js",
        "./utils.js",
        "./domReady.js",
        "./tooltip.js",
        "../components/Spinner.js"
      ],
      "functions": {
        "sortJudoka": {
          "calls": ["sort", "getTime", "toLowerCase", "localeCompare"],
          "patterns": []
        },
        "createRow": {
          "calls": ["createElement", "String", "appendChild", "escapeHTML", "formatDate"],
          "patterns": ["factory"]
        },
        "setupChangeLogPage": {
          "calls": [
            "getElementById",
            "querySelector",
            "createSpinner",
            "show",
            "fetchJson",
            "isArray",
            "map",
            "slice",
            "sortJudoka",
            "forEach",
            "appendChild",
            "insertAdjacentHTML",
            "error",
            "remove",
            "initTooltips"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/carouselBuilder.js": {
      "imports": [
        "./utils.js",
        "./carousel/index.js",
        "./carousel/controller.js",
        "./carousel/accessibility.js",
        "./carousel/focus.js",
        "./lazyPortrait.js",
        "./constants.js",
        "../components/Spinner.js",
        "./scheduler.js"
      ],
      "functions": {
        "addScrollMarkers": {
          "calls": [
            "querySelector",
            "createElement",
            "querySelectorAll",
            "parseFloat",
            "getComputedStyle",
            "max",
            "floor",
            "ceil",
            "add",
            "appendChild",
            "setAttribute",
            "addEventListener",
            "min",
            "round",
            "forEach",
            "toggle",
            "String"
          ],
          "patterns": []
        },
        "initScrollMarkers": {
          "calls": ["getScheduler", "bind", "setTimeout", "scheduleNextFrame", "addScrollMarkers"],
          "patterns": []
        },
        "validateJudokaList": {
          "calls": ["isArray", "error"],
          "patterns": []
        },
        "validateGokyoData": {
          "calls": ["isArray", "warn", "createGokyoLookup"],
          "patterns": []
        },
        "buildCardCarousel": {
          "calls": [
            "createCarouselStructure",
            "validateJudokaList",
            "createElement",
            "appendChild",
            "validateGokyoData",
            "createSpinner",
            "show",
            "appendCards",
            "setupResponsiveSizing",
            "remove",
            "setupFocusHandlers",
            "applyAccessibilityImprovements",
            "setupLazyPortraits"
          ],
          "patterns": []
        },
        "showSpinnerImmediately": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/cardUtils.js": {
      "imports": [
        "./inspector/createInspectorPanel.js",
        "./debug.js",
        "./testModeUtils.js",
        "./debugState.js",
        "./judokaValidation.js",
        "./lazyPortrait.js",
        "../components/JudokaCard.js"
      ],
      "functions": {
        "escapeHtml": {
          "calls": ["replace", "String"],
          "patterns": []
        },
        "getRandomJudoka": {
          "calls": [
            "isArray",
            "filter",
            "hasRequiredJudokaFields",
            "floor",
            "seededRandom",
            "debugLog"
          ],
          "patterns": []
        },
        "displayJudokaCard": {
          "calls": [
            "debugLog",
            "error",
            "hasRequiredJudokaFields",
            "escapeHtml",
            "join",
            "getMissingJudokaFields",
            "render",
            "appendChild",
            "setupLazyPortraits"
          ],
          "patterns": []
        },
        "toggleInspectorPanels": {
          "calls": [
            "Boolean",
            "recordDebugState",
            "forEach",
            "querySelectorAll",
            "querySelector",
            "parse",
            "warn",
            "setAttribute",
            "createInspectorPanel",
            "appendChild",
            "remove",
            "removeAttribute"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/cardTopBar.js": {
      "imports": ["../utils/countryCodes.js", "./utils.js", "./debug.js"],
      "functions": {
        "createNoDataContainer": {
          "calls": ["createElement", "debugLog"],
          "patterns": ["factory"]
        },
        "extractJudokaData": {
          "calls": ["getValue"],
          "patterns": []
        },
        "resolveCountryName": {
          "calls": ["getCountryByCode", "debugLog"],
          "patterns": []
        },
        "createNameContainer": {
          "calls": [
            "createElement",
            "filter",
            "map",
            "trim",
            "join",
            "setAttribute",
            "appendChild"
          ],
          "patterns": ["factory"]
        },
        "createFlagImage": {
          "calls": [
            "debugLog",
            "createElement",
            "setAttribute",
            "getAttribute",
            "addEventListener",
            "appendChild"
          ],
          "patterns": ["factory"]
        },
        "handleFlagError": {
          "calls": ["getAttribute", "setAttribute"],
          "patterns": []
        },
        "generateCardTopBar": {
          "calls": [
            "error",
            "createNoDataContainer",
            "extractJudokaData",
            "resolveCountryName",
            "debugLog",
            "createElement",
            "createNameContainer",
            "appendChild",
            "createFlagImage"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/cardSections.js": {
      "imports": ["./cardRender.js", "./cardTopBar.js", "./errorUtils.js"],
      "functions": {
        "createTopBarSection": {
          "calls": ["safeGenerate", "generateCardTopBar", "createNoDataContainer"],
          "patterns": ["factory"]
        },
        "createPortraitSection": {
          "calls": [
            "createContextualFragment",
            "createRange",
            "generateCardPortrait",
            "createElement",
            "appendChild",
            "error",
            "createNoDataContainer"
          ],
          "patterns": ["factory"]
        },
        "createStatsSection": {
          "calls": [
            "generateCardStats",
            "createContextualFragment",
            "createRange",
            "error",
            "createNoDataContainer"
          ],
          "patterns": ["factory"]
        },
        "createSignatureMoveSection": {
          "calls": [
            "generateCardSignatureMove",
            "createContextualFragment",
            "createRange",
            "error",
            "createNoDataContainer"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/cardRender.js": {
      "imports": ["./utils.js", "./debug.js"],
      "functions": {
        "generateCardPortrait": {
          "calls": ["filter", "join", "escapeHTML"],
          "patterns": []
        },
        "generateCardStats": {
          "calls": ["createStatsPanel"],
          "patterns": []
        },
        "resolveTechnique": {
          "calls": ["Number", "debugLog"],
          "patterns": []
        },
        "formatTechniqueName": {
          "calls": ["escapeHTML", "trim", "decodeHTML"],
          "patterns": []
        },
        "generateCardSignatureMove": {
          "calls": ["resolveTechnique", "debugLog", "formatTechniqueName", "toLowerCase"],
          "patterns": []
        }
      }
    },
    "src/helpers/cardCode.js": {
      "imports": ["./judokaValidation.js"],
      "functions": {
        "xorEncode": {
          "calls": ["join", "map", "split", "fromCharCode", "charCodeAt"],
          "patterns": []
        },
        "toReadableCharset": {
          "calls": ["join", "map", "split", "charCodeAt"],
          "patterns": []
        },
        "chunk": {
          "calls": ["join", "match"],
          "patterns": []
        },
        "generateCardCode": {
          "calls": [
            "getMissingJudokaFields",
            "hasRequiredJudokaFields",
            "join",
            "toUpperCase",
            "toString",
            "xorEncode",
            "toReadableCharset",
            "chunk"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/cardBuilder.js": {
      "imports": [
        "./country/codes.js",
        "./errorUtils.js",
        "./judokaValidation.js",
        "./cardSections.js",
        "./inspector/createInspectorPanel.js",
        "./signatureMove.js"
      ],
      "functions": {
        "createJudokaCardButton": {
          "calls": ["createElement", "trim", "join", "filter", "setAttribute", "add"],
          "patterns": ["factory"]
        },
        "createCardContainer": {
          "calls": ["createElement", "setAttribute", "stringify"],
          "patterns": ["factory"]
        },
        "appendJudokaSections": {
          "calls": ["buildSection", "appendChild"],
          "patterns": []
        },
        "initializeFlipBehavior": {
          "calls": ["addEventListener", "getAttribute", "setAttribute", "String"],
          "patterns": []
        },
        "resolveFlagUrl": {
          "calls": ["safeGenerate", "getFlagUrl"],
          "patterns": []
        },
        "generateJudokaCardHTML": {
          "calls": [
            "createElement",
            "getMissingJudokaFields",
            "hasRequiredJudokaFields",
            "join",
            "resolveFlagUrl",
            "toLowerCase",
            "createCardContainer",
            "createJudokaCardButton",
            "appendJudokaSections",
            "initializeFlipBehavior",
            "append",
            "createInspectorPanel",
            "appendChild"
          ],
          "patterns": []
        },
        "generateJudokaCard": {
          "calls": [
            "safeGenerate",
            "generateJudokaCardHTML",
            "querySelector",
            "markSignatureMoveReady"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/browseJudokaPage.js": {
      "imports": [
        "./carouselBuilder.js",
        "../components/Spinner.js",
        "./countryPanel.js",
        "./dataUtils.js",
        "./constants.js",
        "./judokaUtils.js",
        "../components/Button.js",
        "./tooltip.js",
        "./browse/setupCountryToggle.js",
        "./browse/setupCountryFilter.js",
        "./setupHoverZoom.js",
        "./browse/testApi.js"
      ],
      "functions": {
        "createBrowsePageRuntime": {
          "calls": [
            "getElementById",
            "toggleCountryPanel",
            "setupCountryToggle",
            "createSpinner",
            "show",
            "remove",
            "buildCardCarousel",
            "appendChild",
            "querySelector",
            "initScrollMarkers",
            "clearLegacyHoverZoomMarkers",
            "updateBrowseTestApiContext",
            "getAriaLive",
            "setupCountryFilter",
            "createElement",
            "setAttribute",
            "createButton",
            "addEventListener",
            "resolveBrowseReady"
          ],
          "patterns": ["factory"]
        },
        "setupBrowseJudokaPage": {
          "calls": [
            "registerBrowseTestApi",
            "resetBrowseTestApi",
            "createBrowsePageRuntime",
            "error",
            "markReady",
            "ensurePanelHidden",
            "allSettled",
            "fetchJson",
            "getFallbackJudoka",
            "renderCarousel",
            "replaceChildren",
            "Boolean",
            "querySelector",
            "appendNoResultsMessage",
            "remove",
            "clearForcedSpinner",
            "renderFallbackOrMessage",
            "appendErrorMessage",
            "appendRetryButton",
            "loadData",
            "has",
            "createSpinnerController",
            "show",
            "setJudokaData",
            "setupToggle",
            "setupCountryFilter",
            "handleDataLoadFailure",
            "init",
            "initTooltips"
          ],
          "patterns": []
        },
        "loadData": {
          "calls": ["allSettled", "fetchJson"],
          "patterns": []
        },
        "renderFallbackOrMessage": {
          "calls": [
            "getFallbackJudoka",
            "renderCarousel",
            "error",
            "replaceChildren",
            "Boolean",
            "querySelector",
            "appendNoResultsMessage"
          ],
          "patterns": []
        },
        "handleDataLoadFailure": {
          "calls": [
            "markReady",
            "remove",
            "clearForcedSpinner",
            "error",
            "renderFallbackOrMessage",
            "appendErrorMessage",
            "appendRetryButton",
            "loadData",
            "renderCarousel"
          ],
          "patterns": []
        },
        "init": {
          "calls": [
            "has",
            "createSpinnerController",
            "show",
            "loadData",
            "setJudokaData",
            "setupToggle",
            "renderCarousel",
            "markReady",
            "remove",
            "clearForcedSpinner",
            "appendNoResultsMessage",
            "setupCountryFilter",
            "handleDataLoadFailure"
          ],
          "patterns": []
        },
        "clearForcedSpinner": {
          "calls": [],
          "patterns": []
        },
        "render": {
          "calls": ["renderCarousel"],
          "patterns": []
        }
      }
    },
    "src/helpers/battleStateProgress.js": {
      "imports": [
        "./classicBattle/stateTable.js",
        "./classicBattle/uiHelpers.js",
        "./battleInit.js",
        "./featureFlags.js",
        "./classicBattle/battleEvents.js"
      ],
      "functions": {
        "renderStateList": {
          "calls": [
            "getElementById",
            "setAttribute",
            "querySelector",
            "add",
            "from",
            "querySelectorAll",
            "some",
            "Number",
            "trim",
            "createDocumentFragment",
            "createElement",
            "String",
            "appendChild"
          ],
          "patterns": []
        },
        "updateActiveState": {
          "calls": [
            "querySelector",
            "querySelectorAll",
            "toggle",
            "setAttribute",
            "removeAttribute",
            "updateBattleStateBadge"
          ],
          "patterns": []
        },
        "initProgressListener": {
          "calls": ["updateActiveState", "markBattlePartReady", "onBattleEvent", "offBattleEvent"],
          "patterns": []
        },
        "handler": {
          "calls": ["updateActiveState", "markBattlePartReady"],
          "patterns": []
        },
        "initBattleStateProgress": {
          "calls": [
            "isEnabled",
            "getElementById",
            "remove",
            "removeAttribute",
            "resolveBattleStateProgressReady",
            "sort",
            "filter",
            "isArray",
            "renderStateList",
            "updateActiveState",
            "markBattlePartReady",
            "initProgressListener"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/battleStateIndicator.js": {
      "imports": [],
      "functions": {
        "createBattleStateIndicator": {
          "calls": [
            "querySelector",
            "resolveElement",
            "createElement",
            "setAttribute",
            "appendChild",
            "getCatalog",
            "error",
            "removeChild",
            "isArray",
            "warn",
            "hasOwn",
            "resolveStateValue",
            "getCatalogMap",
            "createDocumentFragment",
            "forEach",
            "getStateLabel",
            "renderList",
            "finally",
            "catch",
            "then",
            "includes",
            "updateUnknownState",
            "remove",
            "removeAttribute",
            "add",
            "on",
            "off"
          ],
          "patterns": ["factory"]
        },
        "resolveElement": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "resolveStateValue": {
          "calls": ["hasOwn"],
          "patterns": []
        },
        "getCatalogMap": {
          "calls": ["isArray"],
          "patterns": []
        },
        "getStateLabel": {
          "calls": ["resolveStateValue"],
          "patterns": []
        },
        "updateUnknownState": {
          "calls": [],
          "patterns": []
        },
        "renderList": {
          "calls": [
            "getCatalogMap",
            "createDocumentFragment",
            "forEach",
            "createElement",
            "resolveStateValue",
            "getStateLabel",
            "appendChild"
          ],
          "patterns": []
        },
        "handleStateChange": {
          "calls": [
            "finally",
            "catch",
            "then",
            "getCatalog",
            "renderList",
            "error",
            "includes",
            "updateUnknownState",
            "querySelector",
            "remove",
            "removeAttribute",
            "add",
            "setAttribute"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/battleScoreboard.js": {
      "imports": [
        "./classicBattle/battleEvents.js",
        "./classicBattle/matchConcludedCompatibilityAdapter.js",
        "../components/Scoreboard.js",
        "./roundStatusDisplay.js",
        "./scheduler.js"
      ],
      "functions": {
        "isSupportedCatalogVersion": {
          "calls": ["trim", "includes"],
          "patterns": []
        },
        "logCatalogCompatibility": {
          "calls": ["join", "has", "add", "error", "warn"],
          "patterns": []
        },
        "renderDegradedCatalogState": {
          "calls": ["clearRoundCounter", "showMessage"],
          "patterns": []
        },
        "evaluateCatalogVersion": {
          "calls": ["trim", "isSupportedCatalogVersion"],
          "patterns": []
        },
        "createInitialViewModel": {
          "calls": [],
          "patterns": ["factory"]
        },
        "extractRoundIdentity": {
          "calls": ["safeNumber", "String", "isFinite"],
          "patterns": []
        },
        "isStaleAgainstAuthority": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "updateControlAuthority": {
          "calls": ["extractRoundIdentity", "isFinite", "isStaleAgainstAuthority"],
          "patterns": []
        },
        "hasRoundIdentity": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "shouldRenderEvaluation": {
          "calls": [],
          "patterns": []
        },
        "isFinalControlState": {
          "calls": [],
          "patterns": []
        },
        "renderFinalOutcome": {
          "calls": ["clearRoundCounter", "displayOutcome"],
          "patterns": []
        },
        "isCliMode": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "safeNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "getEventDetail": {
          "calls": [],
          "patterns": []
        },
        "mapOutcomeToEnum": {
          "calls": ["String", "test"],
          "patterns": []
        },
        "extractRoundNumber": {
          "calls": [],
          "patterns": []
        },
        "isNewRound": {
          "calls": [],
          "patterns": []
        },
        "extractScores": {
          "calls": ["safeNumber"],
          "patterns": []
        },
        "extractSecondsRemaining": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "applyScoreUpdate": {
          "calls": ["hasOwn", "safeNumber", "updateScore"],
          "patterns": []
        },
        "displayOutcome": {
          "calls": ["mapOutcomeToEnum", "showMessage", "String"],
          "patterns": []
        },
        "_cancelWaiting": {
          "calls": ["clearTimeout", "_waitingClearer"],
          "patterns": []
        },
        "cancelActiveOutcomeAnimation": {
          "calls": ["cancel"],
          "patterns": []
        },
        "renderControlStateOutcome": {
          "calls": [
            "shouldRenderEvaluation",
            "isStaleAgainstAuthority",
            "displayOutcome",
            "isFinalControlState",
            "renderFinalOutcome"
          ],
          "patterns": []
        },
        "scheduleControlStateOutcomeRender": {
          "calls": [
            "cancelActiveOutcomeAnimation",
            "Symbol",
            "bind",
            "setTimeout",
            "renderControlStateOutcome",
            "requestFrame"
          ],
          "patterns": []
        },
        "registerResetUiListener": {
          "calls": ["clearRoundCounter", "addEventListener"],
          "patterns": []
        },
        "handler": {
          "calls": ["clearRoundCounter"],
          "patterns": []
        },
        "unregisterResetUiListener": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "initBattleScoreboardAdapter": {
          "calls": [
            "evaluateCatalogVersion",
            "createInitialViewModel",
            "logCatalogCompatibility",
            "renderDegradedCatalogState",
            "registerResetUiListener",
            "setTimeout",
            "showTemporaryMessage",
            "disposeBattleScoreboardAdapter",
            "fn",
            "push",
            "onBattleEvent",
            "on",
            "_cancelWaiting",
            "getEventDetail",
            "extractRoundNumber",
            "isNewRound",
            "isCliMode",
            "updateRoundCounter",
            "safeNumber",
            "isFinite",
            "emitBattleEvent",
            "max",
            "round",
            "extractSecondsRemaining",
            "updateTimer",
            "extractRoundIdentity",
            "hasRoundIdentity",
            "isStaleAgainstAuthority",
            "extractScores",
            "applyScoreUpdate",
            "displayOutcome",
            "bindMatchConcludedCompatibilityAdapter",
            "isFinalControlState",
            "renderFinalOutcome",
            "updateControlAuthority",
            "scheduleControlStateOutcomeRender"
          ],
          "patterns": []
        },
        "on": {
          "calls": [
            "evaluateCatalogVersion",
            "logCatalogCompatibility",
            "renderDegradedCatalogState",
            "disposeBattleScoreboardAdapter",
            "fn",
            "push",
            "onBattleEvent"
          ],
          "patterns": []
        },
        "wrapped": {
          "calls": [
            "evaluateCatalogVersion",
            "logCatalogCompatibility",
            "renderDegradedCatalogState",
            "disposeBattleScoreboardAdapter",
            "fn"
          ],
          "patterns": []
        },
        "emitDisplayTimerTick": {
          "calls": ["_cancelWaiting", "safeNumber", "isFinite", "emitBattleEvent", "max", "round"],
          "patterns": []
        },
        "disposeBattleScoreboardAdapter": {
          "calls": [
            "_cancelWaiting",
            "cancelActiveOutcomeAnimation",
            "offBattleEvent",
            "dispose",
            "clear",
            "unregisterResetUiListener"
          ],
          "patterns": []
        },
        "getSnapshot": {
          "calls": ["_getState"],
          "patterns": []
        }
      }
    },
    "src/helpers/battleInit.js": {
      "imports": [],
      "functions": {
        "isReady": {
          "calls": [],
          "patterns": []
        },
        "allPartsBattleReady": {
          "calls": ["every", "values", "has"],
          "patterns": []
        },
        "tryResolveReady": {
          "calls": ["isReady", "resolveReady"],
          "patterns": []
        },
        "ensureBattleInitListener": {
          "calls": ["addEventListener", "tryResolveReady"],
          "patterns": []
        },
        "markBattlePartReady": {
          "calls": [
            "isReady",
            "includes",
            "values",
            "warn",
            "join",
            "add",
            "allPartsBattleReady",
            "tryResolveReady",
            "ensureBattleInitListener",
            "querySelector",
            "dispatchEvent"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/advancedFilters.js": {
      "imports": [],
      "functions": {
        "parseWeightClass": {
          "calls": ["match", "parseInt"],
          "patterns": []
        },
        "parseStatFilter": {
          "calls": ["match", "toLowerCase", "parseInt", "includes"],
          "patterns": []
        },
        "evaluateStatThreshold": {
          "calls": [],
          "patterns": []
        },
        "evaluateWeightRange": {
          "calls": ["match", "parseInt"],
          "patterns": []
        },
        "applyAdvancedFilters": {
          "calls": [
            "keys",
            "isArray",
            "parseStatFilter",
            "evaluateStatThreshold",
            "parseWeightClass",
            "evaluateWeightRange"
          ],
          "patterns": []
        },
        "validateAdvancedFilters": {
          "calls": [
            "isArray",
            "filter",
            "parseStatFilter",
            "parseWeightClass",
            "parseFloat",
            "isNaN"
          ],
          "patterns": []
        },
        "getFilterDocumentation": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/actionBar.js": {
      "imports": ["./BattleEngine.js", "./logger.js"],
      "functions": {
        "createActionBar": {
          "calls": [
            "includes",
            "createElement",
            "setAttribute",
            "addEventListener",
            "appendChild",
            "forEach",
            "handleStatClick",
            "onStatSelected",
            "error",
            "onOptionsClick",
            "onActionClick",
            "toLowerCase",
            "parseInt",
            "preventDefault",
            "handleOptionsClick",
            "handleActionClick",
            "warn",
            "updateStatButtonsState",
            "set",
            "on",
            "createDOM",
            "subscribeToEngine",
            "handleKeyDown",
            "updateActionButtonState",
            "hasOwnProperty",
            "removeChild",
            "off",
            "get",
            "removeEventListener",
            "clear"
          ],
          "patterns": ["factory"]
        },
        "createDOM": {
          "calls": [
            "createElement",
            "setAttribute",
            "addEventListener",
            "appendChild",
            "forEach",
            "handleStatClick"
          ],
          "patterns": ["factory"]
        },
        "handleStatClick": {
          "calls": ["onStatSelected", "error"],
          "patterns": []
        },
        "handleOptionsClick": {
          "calls": ["onOptionsClick", "error"],
          "patterns": []
        },
        "handleActionClick": {
          "calls": ["onActionClick", "error"],
          "patterns": []
        },
        "handleKeyDown": {
          "calls": [
            "toLowerCase",
            "parseInt",
            "preventDefault",
            "handleStatClick",
            "handleOptionsClick",
            "handleActionClick"
          ],
          "patterns": []
        },
        "subscribeToEngine": {
          "calls": ["warn", "updateStatButtonsState", "set", "on"],
          "patterns": []
        },
        "boundOnRoundStart": {
          "calls": ["updateStatButtonsState"],
          "patterns": []
        },
        "boundOnRoundEnd": {
          "calls": ["updateStatButtonsState"],
          "patterns": []
        },
        "boundOnStatSelected": {
          "calls": ["updateStatButtonsState"],
          "patterns": []
        },
        "updateStatButtonsState": {
          "calls": ["forEach", "setAttribute"],
          "patterns": []
        },
        "updateActionButtonState": {
          "calls": ["setAttribute"],
          "patterns": []
        },
        "render": {
          "calls": [
            "createDOM",
            "appendChild",
            "subscribeToEngine",
            "handleKeyDown",
            "addEventListener",
            "set",
            "updateStatButtonsState",
            "updateActionButtonState"
          ],
          "patterns": []
        },
        "boundKeyDown": {
          "calls": ["handleKeyDown"],
          "patterns": []
        },
        "update": {
          "calls": ["hasOwnProperty", "updateStatButtonsState", "updateActionButtonState"],
          "patterns": []
        },
        "setStatButtonsEnabled": {
          "calls": ["updateStatButtonsState"],
          "patterns": []
        },
        "setActionButtonState": {
          "calls": ["updateActionButtonState"],
          "patterns": []
        },
        "getState": {
          "calls": [],
          "patterns": []
        },
        "destroy": {
          "calls": ["removeChild", "forEach", "off", "get", "removeEventListener", "clear"],
          "patterns": []
        }
      }
    },
    "src/helpers/TimerController.js": {
      "imports": ["../utils/scheduler.js", "./scheduler.js", "./fallbackCountdown.js"],
      "functions": {
        "preloadTimerUtils": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/SnackbarManager.js": {
      "imports": [],
      "functions": {
        "handleAnimationEnd": {
          "calls": ["get", "now", "remove"],
          "patterns": []
        }
      }
    },
    "src/helpers/CooldownRenderer.js": {
      "imports": [
        "./SnackbarManager.js",
        "./setupScoreboard.js",
        "./classicBattle/opponentPromptTracker.js",
        "./i18n.js",
        "./utils/positiveNumbers.js"
      ],
      "functions": {
        "dismissCountdownSnackbar": {
          "calls": ["remove"],
          "patterns": []
        },
        "getTimerFunction": {
          "calls": ["bind"],
          "patterns": []
        },
        "defaultNow": {
          "calls": ["now", "clampToPositiveTimestamp"],
          "patterns": []
        },
        "isVitestEnvironment": {
          "calls": [],
          "patterns": []
        },
        "derivePromptPollRetries": {
          "calls": ["isFinite", "max", "ceil"],
          "patterns": []
        },
        "normalizePromptDelayOptions": {
          "calls": ["toPositiveNumber", "derivePromptPollRetries"],
          "patterns": []
        },
        "hasActivePrompt": {
          "calls": ["isOpponentPromptReady", "Number", "getOpponentPromptTimestamp", "isFinite"],
          "patterns": []
        },
        "computeRemainingPromptDelayMs": {
          "calls": [
            "Number",
            "getOpponentPromptMinDuration",
            "isFinite",
            "getOpponentPromptTimestamp",
            "nowFn",
            "max"
          ],
          "patterns": []
        },
        "createPromptDelayState": {
          "calls": [],
          "patterns": ["factory"]
        },
        "clearPendingTimeout": {
          "calls": ["clearTimeoutFn"],
          "patterns": []
        },
        "resetPromptWaitState": {
          "calls": [],
          "patterns": []
        },
        "flushQueue": {
          "calls": ["resetPromptWaitState", "clearPendingTimeout", "onReady"],
          "patterns": []
        },
        "scheduleDelay": {
          "calls": ["flushQueue", "clearPendingTimeout", "setTimeoutFn"],
          "patterns": []
        },
        "processQueue": {
          "calls": ["handlePromptWaiting", "max", "computeRemainingPromptDelayMs", "scheduleDelay"],
          "patterns": []
        },
        "schedulePromptPoll": {
          "calls": ["clearPendingTimeout", "setTimeoutFn", "processQueue"],
          "patterns": []
        },
        "isPromptWaitDeadlineReached": {
          "calls": ["now"],
          "patterns": []
        },
        "isPromptPollLimitReached": {
          "calls": [],
          "patterns": []
        },
        "canBeginWaitingForPrompt": {
          "calls": ["now"],
          "patterns": []
        },
        "handlePromptWaiting": {
          "calls": [
            "hasActivePrompt",
            "resetPromptWaitState",
            "canBeginWaitingForPrompt",
            "isPromptWaitDeadlineReached",
            "isPromptPollLimitReached",
            "schedulePromptPoll"
          ],
          "patterns": []
        },
        "queueTickInternal": {
          "calls": ["processQueue"],
          "patterns": []
        },
        "clearState": {
          "calls": ["clearPendingTimeout", "resetPromptWaitState"],
          "patterns": []
        },
        "computeBaseRemaining": {
          "calls": ["Number", "computeRemainingPromptDelayMs", "isFinite", "max"],
          "patterns": []
        },
        "computePromptWaitRemaining": {
          "calls": ["max", "now"],
          "patterns": []
        },
        "getRemainingPromptDelayMsState": {
          "calls": ["computeBaseRemaining", "hasActivePrompt", "computePromptWaitRemaining"],
          "patterns": []
        },
        "shouldDeferState": {
          "calls": ["hasActivePrompt", "computeRemainingPromptDelayMs"],
          "patterns": []
        },
        "createPromptDelayController": {
          "calls": [
            "normalizePromptDelayOptions",
            "createPromptDelayState",
            "createControllerInterface"
          ],
          "patterns": ["factory"]
        },
        "createControllerInterface": {
          "calls": [
            "queueTickInternal",
            "clearState",
            "shouldDeferState",
            "getRemainingPromptDelayMsState"
          ],
          "patterns": ["factory"]
        },
        "createRendererState": {
          "calls": ["Number", "createPromptDelayController", "tryGetInitialRenderedCountdown"],
          "patterns": ["factory"]
        },
        "createTickProcessors": {
          "calls": [
            "Number",
            "isFinite",
            "max",
            "normalizeRemaining",
            "t",
            "dismissOpponentSnackbar",
            "show",
            "updateTimer",
            "render",
            "processTick",
            "getRemainingPromptDelayMs",
            "hasActivePrompt",
            "clear",
            "queueTick"
          ],
          "patterns": ["factory"]
        },
        "normalizeRemaining": {
          "calls": ["Number", "isFinite", "max"],
          "patterns": []
        },
        "render": {
          "calls": ["normalizeRemaining", "t", "dismissOpponentSnackbar", "show", "updateTimer"],
          "patterns": []
        },
        "processTick": {
          "calls": ["render"],
          "patterns": []
        },
        "deliverTick": {
          "calls": ["processTick"],
          "patterns": []
        },
        "getRemainingPromptDelayMs": {
          "calls": ["Number", "getRemainingPromptDelayMs", "isFinite"],
          "patterns": []
        },
        "processTickWithPromptDelay": {
          "calls": [
            "normalizeRemaining",
            "Number",
            "getRemainingPromptDelayMs",
            "isFinite",
            "max",
            "hasActivePrompt",
            "clear",
            "processTick",
            "queueTick"
          ],
          "patterns": []
        },
        "setupTickHandlers": {
          "calls": [
            "createTickProcessors",
            "processTickWithPromptDelay",
            "onTick",
            "on",
            "Number",
            "isFinite"
          ],
          "patterns": []
        },
        "onTick": {
          "calls": ["processTickWithPromptDelay"],
          "patterns": []
        },
        "onExpired": {
          "calls": ["onTick"],
          "patterns": []
        },
        "tryGetInitialRenderedCountdown": {
          "calls": ["isVitestEnvironment", "querySelector", "match", "Number"],
          "patterns": []
        },
        "attachCooldownRenderer": {
          "calls": ["createRendererState", "setupTickHandlers", "off", "clear", "remove"],
          "patterns": []
        }
      }
    },
    "src/helpers/BattleEngine.js": {
      "imports": [
        "./constants.js",
        "./TimerController.js",
        "./testModeUtils.js",
        "../utils/scheduler.js",
        "./events/SimpleEmitter.js",
        "./logger.js",
        "./battle/engineTimer.js"
      ],
      "functions": {
        "compareStats": {
          "calls": [],
          "patterns": []
        },
        "determineOutcome": {
          "calls": [],
          "patterns": []
        },
        "applyOutcome": {
          "calls": ["incrementPlayerScore", "incrementOpponentScore"],
          "patterns": []
        },
        "getCurrentEngine": {
          "calls": ["get"],
          "patterns": []
        },
        "shouldLogEngineListenerErrors": {
          "calls": [],
          "patterns": []
        },
        "invokeEngineCreatedListener": {
          "calls": ["listener", "shouldLogEngineListenerErrors", "warn", "isTestEnvironment"],
          "patterns": []
        },
        "notifyEngineCreated": {
          "calls": ["invokeEngineCreatedListener"],
          "patterns": []
        },
        "onEngineCreated": {
          "calls": ["add", "getCurrentEngine", "invokeEngineCreatedListener", "delete"],
          "patterns": []
        },
        "requireEngine": {
          "calls": ["getCurrentEngine"],
          "patterns": []
        },
        "isTestEnvironment": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "attemptInternalReset": {
          "calls": ["_resetForTest", "warn"],
          "patterns": []
        },
        "createBattleEngine": {
          "calls": [
            "log",
            "isTestEnvironment",
            "getCurrentEngine",
            "notifyEngineCreated",
            "set",
            "setTestMode",
            "Number",
            "warn"
          ],
          "patterns": ["factory"]
        },
        "resetBattleEnginePreservingConfig": {
          "calls": [
            "requireEngine",
            "Number",
            "getPointsToWin",
            "isFinite",
            "attemptInternalReset",
            "createBattleEngine",
            "set",
            "setPointsToWin",
            "warn"
          ],
          "patterns": []
        },
        "setPointsToWin": {
          "calls": ["setPointsToWin", "requireEngine"],
          "patterns": []
        },
        "getPointsToWin": {
          "calls": ["getPointsToWin", "requireEngine"],
          "patterns": []
        },
        "stopTimer": {
          "calls": ["stopTimer", "requireEngine"],
          "patterns": []
        },
        "startRound": {
          "calls": ["startRound", "requireEngine"],
          "patterns": []
        },
        "startCoolDown": {
          "calls": ["startCoolDown", "requireEngine"],
          "patterns": []
        },
        "pauseTimer": {
          "calls": ["pauseTimer", "requireEngine"],
          "patterns": []
        },
        "resumeTimer": {
          "calls": ["resumeTimer", "requireEngine"],
          "patterns": []
        },
        "handleStatSelection": {
          "calls": ["log", "handleStatSelection", "requireEngine"],
          "patterns": []
        },
        "quitMatch": {
          "calls": ["quitMatch", "requireEngine"],
          "patterns": []
        },
        "interruptMatch": {
          "calls": ["interruptMatch", "requireEngine"],
          "patterns": []
        },
        "getScores": {
          "calls": ["requireEngine", "freeze", "getScores"],
          "patterns": []
        },
        "getCurrentStats": {
          "calls": ["requireEngine", "freeze", "getCurrentStats"],
          "patterns": []
        },
        "getRoundsPlayed": {
          "calls": ["requireEngine", "getRoundsPlayed"],
          "patterns": []
        },
        "isMatchEnded": {
          "calls": ["requireEngine", "Boolean", "isMatchEnded"],
          "patterns": []
        },
        "getTimerState": {
          "calls": ["requireEngine", "freeze", "getTimerState"],
          "patterns": []
        },
        "on": {
          "calls": ["on", "requireEngine"],
          "patterns": []
        },
        "off": {
          "calls": ["off", "requireEngine"],
          "patterns": []
        },
        "getEngine": {
          "calls": ["requireEngine"],
          "patterns": []
        }
      }
    },
    "scripts/lib/debugUtils.js": {
      "imports": ["../../tests/utils/battleStoreAccess.js"],
      "functions": {
        "buildBaseUrl": {
          "calls": [],
          "patterns": []
        },
        "installSelectorGuard": {
          "calls": ["addInitScript"],
          "patterns": []
        },
        "attachLoggers": {
          "calls": [
            "on",
            "location",
            "type",
            "text",
            "push",
            "log",
            "String",
            "error",
            "url",
            "failure",
            "warn"
          ],
          "patterns": []
        },
        "waitButtonsReady": {
          "calls": ["waitForSelector", "waitForFunction", "querySelector"],
          "patterns": []
        },
        "getStatButtons": {
          "calls": ["catch", "$$eval", "map"],
          "patterns": []
        },
        "tryClickStat": {
          "calls": [
            "click",
            "String",
            "evaluate",
            "querySelector",
            "remove",
            "getBoundingClientRect",
            "round",
            "elementFromPoint",
            "toLowerCase",
            "getComputedStyle",
            "dispatchEvent"
          ],
          "patterns": []
        },
        "getClickDiagnostics": {
          "calls": [
            "catch",
            "evaluate",
            "querySelector",
            "getBoundingClientRect",
            "round",
            "elementFromPoint",
            "toLowerCase",
            "getComputedStyle",
            "String"
          ],
          "patterns": []
        },
        "getBattleSnapshot": {
          "calls": [
            "evaluate",
            "getElementById",
            "byId",
            "map",
            "from",
            "querySelectorAll",
            "isArray",
            "slice",
            "toLowerCase",
            "text",
            "ensureBattleStoreAccessor",
            "String"
          ],
          "patterns": []
        },
        "ensureBattleStoreAccessor": {
          "calls": [],
          "patterns": []
        },
        "byId": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "text": {
          "calls": ["byId"],
          "patterns": []
        },
        "takeScreenshot": {
          "calls": ["screenshot", "log", "warn", "String"],
          "patterns": []
        }
      }
    },
    "scripts/generation/contextPathHelper.js": {
      "imports": [],
      "functions": {
        "deriveContextPath": {
          "calls": [
            "String",
            "indexOf",
            "trim",
            "slice",
            "replace",
            "split",
            "isArray",
            "join",
            "filter",
            "push",
            "toLowerCase"
          ],
          "patterns": []
        }
      }
    },
    "playwright/helpers/testTiming.js": {
      "imports": [],
      "functions": {}
    },
    "playwright/helpers/selectors.js": {
      "imports": ["../../design/dataSchemas/battleMarkup.generated.js"],
      "functions": {
        "findEntryByLogicalName": {
          "calls": ["find"],
          "patterns": []
        },
        "selectorFor": {
          "calls": ["findEntryByLogicalName"],
          "patterns": []
        },
        "roundMessage": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "nextRoundTimer": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "roundCounter": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "scoreDisplay": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "snackbarContainer": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "modalRoot": {
          "calls": ["selectorFor"],
          "patterns": []
        },
        "playerCard": {
          "calls": ["findEntryByLogicalName", "replace"],
          "patterns": []
        },
        "statButton": {
          "calls": ["findEntryByLogicalName", "test", "replace"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/scoreUtils.js": {
      "imports": [],
      "functions": {
        "parseScores": {
          "calls": ["match", "Number"],
          "patterns": []
        },
        "buildScorePattern": {
          "calls": ["replace", "String", "escapeRegex"],
          "patterns": []
        },
        "escapeRegex": {
          "calls": ["replace", "String"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/roundDiagnostics.js": {
      "imports": [],
      "functions": {
        "toOptionalNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "parseRoundLabel": {
          "calls": ["match", "String", "Number", "isFinite"],
          "patterns": []
        },
        "readRoundDiagnostics": {
          "calls": [
            "evaluate",
            "getElementById",
            "String",
            "getDebugInfo",
            "getBattleState",
            "parseRoundLabel",
            "toOptionalNumber"
          ],
          "patterns": []
        }
      }
    },
    "playwright/helpers/roundCounter.js": {
      "imports": [],
      "functions": {
        "readScoreboardRound": {
          "calls": ["textContent", "parseScoreboardRound"],
          "patterns": []
        },
        "parseScoreboardRound": {
          "calls": ["match", "String", "Number", "isFinite"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/featureFlagHelper.js": {
      "imports": ["../../src/config/settingsDefaults.js", "../../src/helpers/featureFlags.js"],
      "functions": {
        "instantiateBrowserFunction": {
          "calls": ["trim", "factory"],
          "patterns": []
        },
        "readInspectFeatureFlagSnapshot": {
          "calls": ["getFeatureFlags"],
          "patterns": []
        },
        "browserComputeFeatureFlagSnapshot": {
          "calls": [
            "factory",
            "loadInstantiate",
            "instantiate",
            "isArray",
            "resolveBuilder",
            "resolveReader",
            "reader",
            "getItem",
            "parse",
            "builder",
            "readInspectSnapshot",
            "readPersistedFeatureFlags",
            "readOverrides",
            "buildSnapshotSafely"
          ],
          "patterns": []
        },
        "loadInstantiate": {
          "calls": ["factory"],
          "patterns": []
        },
        "resolveBuilder": {
          "calls": ["instantiate"],
          "patterns": []
        },
        "resolveReader": {
          "calls": ["instantiate"],
          "patterns": []
        },
        "readInspectSnapshot": {
          "calls": ["resolveReader", "reader"],
          "patterns": []
        },
        "readPersistedFeatureFlags": {
          "calls": ["getItem", "parse"],
          "patterns": []
        },
        "readOverrides": {
          "calls": [],
          "patterns": []
        },
        "buildSnapshotSafely": {
          "calls": ["builder"],
          "patterns": []
        },
        "resolveTimeout": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "resolveFeatureFlagEnabled": {
          "calls": ["call", "toLowerCase", "trim"],
          "patterns": []
        },
        "getFeatureFlagsSnapshotFromTestApi": {
          "calls": ["evaluate", "getFeatureFlags", "setTimeout"],
          "patterns": []
        },
        "getFeatureFlagsSnapshot": {
          "calls": [
            "getFeatureFlagsSnapshotFromTestApi",
            "evaluate",
            "factory",
            "loadInstantiate",
            "instantiate",
            "resolveCompute",
            "computeSnapshot"
          ],
          "patterns": []
        },
        "resolveCompute": {
          "calls": ["instantiate"],
          "patterns": []
        },
        "delay": {
          "calls": ["max", "Number", "setTimeout"],
          "patterns": []
        },
        "subscribeToFeatureFlagChanges": {
          "calls": [
            "evaluate",
            "removeEventListener",
            "call",
            "clearTimeout",
            "finally",
            "catch",
            "cleanup",
            "rejectWait",
            "resolveWait",
            "exposeFunction",
            "predicate",
            "finalize",
            "String",
            "factory",
            "loadInstantiate",
            "instantiate",
            "resolveCompute",
            "resolveReader",
            "reader",
            "readInspectSnapshot",
            "callbackName",
            "computeSnapshot",
            "emitSnapshot",
            "addEventListener",
            "max",
            "now",
            "setTimeout"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["evaluate", "removeEventListener", "call"],
          "patterns": []
        },
        "finalize": {
          "calls": ["clearTimeout", "finally", "catch", "cleanup", "rejectWait", "resolveWait"],
          "patterns": []
        },
        "emitSnapshot": {
          "calls": ["readInspectSnapshot", "callbackName", "computeSnapshot"],
          "patterns": []
        },
        "handler": {
          "calls": ["emitSnapshot"],
          "patterns": []
        },
        "pollForFeatureFlagState": {
          "calls": ["getFeatureFlagsSnapshot", "predicate", "now", "delay", "min"],
          "patterns": []
        },
        "waitForFeatureFlagState": {
          "calls": [
            "resolveTimeout",
            "now",
            "resolveFeatureFlagEnabled",
            "getFeatureFlagsSnapshot",
            "predicate",
            "subscribeToFeatureFlagChanges",
            "pollForFeatureFlagState",
            "String"
          ],
          "patterns": []
        },
        "predicate": {
          "calls": ["resolveFeatureFlagEnabled"],
          "patterns": []
        },
        "waitForFeatureFlagOverrides": {
          "calls": [
            "getFeatureFlagsSnapshot",
            "entries",
            "toLowerCase",
            "trim",
            "Boolean",
            "waitForFeatureFlagState"
          ],
          "patterns": []
        }
      }
    },
    "playwright/helpers/cooldownFixtures.js": {
      "imports": [],
      "functions": {
        "applyDeterministicCooldown": {
          "calls": ["isNaN", "addInitScript"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/browseTestApi.js": {
      "imports": ["@playwright/test"],
      "functions": {
        "waitForBrowseApi": {
          "calls": ["waitForFunction"],
          "patterns": []
        },
        "callBrowseApi": {
          "calls": ["isFinite", "waitForBrowseApi", "evaluate", "target"],
          "patterns": []
        },
        "ensureBrowseCarouselReady": {
          "calls": ["isFinite", "waitForBrowseApi", "callBrowseApi", "toBe", "expect"],
          "patterns": []
        },
        "disableBrowseHoverAnimations": {
          "calls": ["callBrowseApi"],
          "patterns": []
        },
        "resetBrowseTestState": {
          "calls": ["callBrowseApi", "test"],
          "patterns": []
        },
        "addBrowseCard": {
          "calls": ["callBrowseApi"],
          "patterns": []
        },
        "clearBrowseCarousel": {
          "calls": ["callBrowseApi"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/battleStateHelper.js": {
      "imports": [],
      "functions": {
        "createDeferred": {
          "calls": ["resolve"],
          "patterns": ["factory"]
        },
        "withTimeout": {
          "calls": ["bind", "race", "setTimeout", "reject", "catch", "waitForFunction"],
          "patterns": []
        },
        "isValidMatchCompletionPayload": {
          "calls": ["trim", "isFinite", "Number"],
          "patterns": []
        },
        "getBattleStateWithErrorHandling": {
          "calls": ["evaluate", "getBattleState", "String"],
          "patterns": []
        },
        "waitForTestApi": {
          "calls": ["waitForFunction"],
          "patterns": []
        },
        "ensureBattleCliResetChannel": {
          "calls": [
            "createDeferred",
            "exposeBinding",
            "resolve",
            "withTimeout",
            "evaluate",
            "notifier",
            "includes"
          ],
          "patterns": []
        },
        "waitForReset": {
          "calls": ["withTimeout", "createDeferred"],
          "patterns": []
        },
        "signalReset": {
          "calls": ["evaluate", "notifier", "includes", "resolve"],
          "patterns": []
        },
        "waitForBattleReady": {
          "calls": [
            "waitForTestApi",
            "evaluate",
            "call",
            "waitForFunction",
            "querySelector",
            "Boolean"
          ],
          "patterns": []
        },
        "configureClassicBattle": {
          "calls": [
            "waitForTestApi",
            "evaluate",
            "configureClassicBattle",
            "isArray",
            "filter",
            "String",
            "join"
          ],
          "patterns": []
        },
        "waitForBattleState": {
          "calls": [
            "isArray",
            "waitForTestApi",
            "String",
            "join",
            "evaluate",
            "call",
            "getBattleState",
            "stringify",
            "warn",
            "includes",
            "waitForFunction"
          ],
          "patterns": []
        },
        "waitForStateSequence": {
          "calls": ["waitForBattleState"],
          "patterns": []
        },
        "waitForStatButtonsReady": {
          "calls": ["waitForTestApi", "evaluate", "call", "String"],
          "patterns": []
        },
        "waitForMatchCompletion": {
          "calls": [
            "now",
            "waitForTestApi",
            "evaluate",
            "call",
            "isValidMatchCompletionPayload",
            "max",
            "waitForSelector"
          ],
          "patterns": []
        },
        "createMatchCompletionTracker": {
          "calls": ["catch", "then", "waitForMatchCompletion"],
          "patterns": ["factory"]
        },
        "setPointsToWin": {
          "calls": [
            "isFinite",
            "Number",
            "waitForTestApi",
            "evaluate",
            "setPointsToWin",
            "waitForPointsToWin",
            "String"
          ],
          "patterns": []
        },
        "getPointsToWin": {
          "calls": ["waitForTestApi", "evaluate", "Number", "getPointsToWin", "isFinite"],
          "patterns": []
        },
        "waitForRoundStats": {
          "calls": [
            "waitForTestApi",
            "waitForFunction",
            "getBattleStore",
            "from",
            "keys",
            "toLowerCase",
            "trim",
            "String",
            "isFinite",
            "Number",
            "some",
            "readStatValue",
            "hasFiniteStat"
          ],
          "patterns": []
        },
        "readStatValue": {
          "calls": ["toLowerCase", "trim", "String", "isFinite", "Number"],
          "patterns": []
        },
        "hasFiniteStat": {
          "calls": ["some", "isFinite", "readStatValue"],
          "patterns": []
        },
        "waitForNextButtonReady": {
          "calls": ["waitForTestApi", "evaluate", "call"],
          "patterns": []
        },
        "getCurrentBattleState": {
          "calls": [
            "evaluate",
            "getBattleState",
            "resolveWaitingForPlayerAction",
            "getBattleStore",
            "getDebugInfo"
          ],
          "patterns": []
        },
        "resolveWaitingForPlayerAction": {
          "calls": ["getBattleStore", "getDebugInfo"],
          "patterns": []
        },
        "triggerStateTransition": {
          "calls": ["evaluate", "triggerStateTransition", "dispatchBattleEvent"],
          "patterns": []
        },
        "getOpponentDelay": {
          "calls": ["evaluate", "getOpponentDelay", "Number", "isFinite"],
          "patterns": []
        },
        "getPlayerScore": {
          "calls": ["evaluate", "getPlayerScore", "Number", "isFinite"],
          "patterns": []
        },
        "getOpponentScore": {
          "calls": ["evaluate", "getOpponentScore", "Number", "isFinite"],
          "patterns": []
        },
        "getRoundsPlayed": {
          "calls": ["evaluate", "getRoundsPlayed", "Number", "isFinite"],
          "patterns": []
        },
        "waitForLocalStorageValue": {
          "calls": ["waitForFunction", "getItem"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/battleApiHelper.js": {
      "imports": [],
      "functions": {
        "dispatchBattleEvent": {
          "calls": ["evaluate", "resolve", "dispatchBattleEvent", "catch", "then"],
          "patterns": []
        },
        "completeRoundViaApi": {
          "calls": [
            "evaluate",
            "resolve",
            "hasOwn",
            "completeRound",
            "catch",
            "then",
            "normalizeResolution"
          ],
          "patterns": []
        },
        "normalizeResolution": {
          "calls": ["resolve"],
          "patterns": []
        },
        "readRoundsPlayed": {
          "calls": ["evaluate", "Number", "getRounds", "isFinite"],
          "patterns": []
        },
        "readCountdown": {
          "calls": ["evaluate", "getter"],
          "patterns": []
        },
        "forceRoundAdvance": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        },
        "resolveBattleState": {
          "calls": ["evaluate", "getBattleState"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/autoSelectHelper.js": {
      "imports": [],
      "functions": {
        "triggerAutoSelect": {
          "calls": [
            "race",
            "setTimeout",
            "reject",
            "log",
            "withTimeout",
            "evaluate",
            "triggerAutoSelect",
            "String",
            "warn",
            "error"
          ],
          "patterns": []
        },
        "withTimeout": {
          "calls": ["race", "setTimeout", "reject"],
          "patterns": []
        }
      }
    },
    "playwright/helpers/advanceRound.js": {
      "imports": [],
      "functions": {
        "advanceRound": {
          "calls": ["evaluate", "advanceRound"],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/waits.js": {
      "imports": ["fs/promises", "path"],
      "functions": {
        "callTestApiMethod": {
          "calls": ["isArray", "evaluate", "join", "slice", "then", "resolve", "apply", "String"],
          "patterns": []
        },
        "readBattleReadinessDiagnostics": {
          "calls": [
            "evaluate",
            "getBattleState",
            "isBattleReady",
            "getDebugInfo",
            "Boolean",
            "now"
          ],
          "patterns": []
        },
        "normalizeBrowseSnapshot": {
          "calls": ["Number", "Boolean", "isFinite"],
          "patterns": []
        },
        "readBrowseDiagnostics": {
          "calls": [
            "evaluate",
            "querySelector",
            "from",
            "querySelectorAll",
            "getAttribute",
            "Boolean",
            "getBrowseReadySnapshot",
            "now"
          ],
          "patterns": []
        },
        "readBattleStateWindowDiagnostics": {
          "calls": [
            "evaluate",
            "getElementById",
            "getStateSnapshot",
            "getBattleState",
            "getDebugInfo",
            "isArray",
            "map",
            "slice",
            "now"
          ],
          "patterns": []
        },
        "captureBattleStateArtifacts": {
          "calls": [
            "resolve",
            "cwd",
            "mkdir",
            "now",
            "join",
            "screenshot",
            "content",
            "writeFile",
            "evaluate",
            "getStateSnapshot",
            "isArray",
            "slice",
            "stringify"
          ],
          "patterns": []
        },
        "collectBattleStateDiagnostics": {
          "calls": ["readBattleStateWindowDiagnostics", "captureBattleStateArtifacts"],
          "patterns": []
        },
        "waitForBattleReady": {
          "calls": ["callTestApiMethod", "readBattleReadinessDiagnostics"],
          "patterns": []
        },
        "waitForBrowseReady": {
          "calls": ["callTestApiMethod", "normalizeBrowseSnapshot", "readBrowseDiagnostics"],
          "patterns": []
        },
        "waitForSettingsReady": {
          "calls": ["evaluate"],
          "patterns": []
        },
        "waitForBattleState": {
          "calls": ["callTestApiMethod", "collectBattleStateDiagnostics"],
          "patterns": []
        },
        "waitForSnackbar": {
          "calls": ["waitForFunction", "getElementById", "includes", "toLowerCase", "trim"],
          "patterns": []
        },
        "waitForModalOpen": {
          "calls": ["waitForFunction", "querySelector", "getAttribute", "getComputedStyle"],
          "patterns": []
        },
        "waitForNextRoundCountdown": {
          "calls": ["waitForFunction", "getElementById", "toLowerCase", "includes"],
          "patterns": []
        },
        "waitForNextRoundReadyEvent": {
          "calls": ["waitForFunction", "getElementById", "addEventListener"],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/sentryStub.js": {
      "imports": [],
      "functions": {
        "installSentryStub": {
          "calls": ["addInitScript", "cb", "warn", "keys"],
          "patterns": []
        },
        "noop": {
          "calls": [],
          "patterns": []
        },
        "withScope": {
          "calls": ["cb", "warn"],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/nextRoundCooldown.js": {
      "imports": [],
      "functions": {}
    },
    "playwright/fixtures/navigationChecks.js": {
      "imports": ["@playwright/test"],
      "functions": {
        "normalizeNavLinks": {
          "calls": ["map"],
          "patterns": []
        },
        "assertNavLinks": {
          "calls": ["getByTestId", "toBeVisible", "expect", "toHaveText", "toHaveAttribute"],
          "patterns": []
        },
        "runAssertions": {
          "calls": ["toBeVisible", "expect", "getByRole", "toHaveCount", "locator", "getByText"],
          "patterns": []
        },
        "verifyPageBasics": {
          "calls": [
            "toHaveTitle",
            "expect",
            "normalizeNavLinks",
            "first",
            "getByRole",
            "toBeVisible",
            "assertNavLinks",
            "runAssertions",
            "verifyNavigationTargets"
          ],
          "patterns": []
        },
        "verifyNavigationTargets": {
          "calls": [
            "url",
            "normalizeNavLinks",
            "getByTestId",
            "toString",
            "click",
            "waitForURL",
            "toHaveURL",
            "expect",
            "goto"
          ],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/commonSetup.js": {
      "imports": ["@playwright/test", "./commonRoutes.js", "./sentryStub.js"],
      "functions": {
        "mergeSettings": {
          "calls": ["isArray", "entries", "mergeSettings"],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/commonRoutes.js": {
      "imports": ["fs"],
      "functions": {
        "registerCommonRoutes": {
          "calls": [
            "all",
            "route",
            "fulfill",
            "split",
            "url",
            "request",
            "pop",
            "existsSync",
            "continue",
            "includes"
          ],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/classicQuickWin.js": {
      "imports": [],
      "functions": {
        "ensureFacade": {
          "calls": ["catch", "then", "warn"],
          "patterns": []
        },
        "apply": {
          "calls": ["ensureFacade", "setPointsToWin", "Number", "getPointsToWin", "warn"],
          "patterns": []
        },
        "readTarget": {
          "calls": ["Number", "getPointsToWin"],
          "patterns": []
        },
        "triggerQuickWin": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/classicBattleStates.js": {
      "imports": [],
      "functions": {}
    },
    "playwright/fixtures/battleCliFixture.js": {
      "imports": ["./commonSetup.js", "../helpers/battleStateHelper.js"],
      "functions": {
        "handleFrameNavigation": {
          "calls": [
            "mainFrame",
            "url",
            "waitForTestApi",
            "signalReset",
            "String",
            "evaluate",
            "resetBattleCliModuleState"
          ],
          "patterns": []
        }
      }
    },
    "playwright/fixtures/appConfig.js": {
      "imports": ["../../src/data/settings.json"],
      "functions": {
        "clone": {
          "calls": ["structuredClone"],
          "patterns": []
        },
        "isPlainObject": {
          "calls": ["isArray"],
          "patterns": []
        },
        "mergeSettings": {
          "calls": ["isPlainObject", "entries", "mergeSettings"],
          "patterns": []
        },
        "deepEqual": {
          "calls": [
            "isArray",
            "isObjectLike",
            "get",
            "has",
            "set",
            "add",
            "ensurePair",
            "deepEqual",
            "keys",
            "hasOwn"
          ],
          "patterns": []
        },
        "isObjectLike": {
          "calls": [],
          "patterns": []
        },
        "ensurePair": {
          "calls": ["get", "set", "add"],
          "patterns": []
        },
        "applyFeatureFlagOverrides": {
          "calls": ["isPlainObject", "keys", "clone", "entries", "Boolean"],
          "patterns": []
        },
        "normalizeTestModePreference": {
          "calls": [],
          "patterns": []
        },
        "overrideSettingsFetch": {
          "calls": ["resolve", "route", "fulfill", "stringify", "unroute"],
          "patterns": []
        },
        "waitForTestApi": {
          "calls": ["waitForFunction"],
          "patterns": []
        },
        "createNavigatorSanitizer": {
          "calls": ["addInitScript", "test", "replace", "defineProperty"],
          "patterns": ["factory"]
        },
        "createTestModeDisableScript": {
          "calls": ["getItem", "parse", "isArray", "cloneIfPlainObject", "setItem", "stringify"],
          "patterns": ["factory"]
        },
        "cloneIfPlainObject": {
          "calls": ["isArray"],
          "patterns": []
        },
        "configureApp": {
          "calls": [
            "normalizeTestModePreference",
            "clone",
            "isPlainObject",
            "keys",
            "mergeSettings",
            "deepEqual",
            "assign",
            "applyFeatureFlagOverrides",
            "overrideSettingsFetch",
            "createNavigatorSanitizer",
            "addInitScript",
            "createTestModeDisableScript",
            "push",
            "waitForTestApi",
            "waitForFunction",
            "setPointsToWin",
            "getPointsToWin",
            "task",
            "cleanup"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": [],
          "patterns": []
        },
        "createDeferredResponse": {
          "calls": ["resolve", "route", "fulfill", "continue", "unroute", "release"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/utils/waitForElement.js": {
      "imports": [],
      "functions": {
        "waitForElement": {
          "calls": [
            "now",
            "clearTimeout",
            "clear",
            "reject",
            "selector",
            "querySelector",
            "resolve",
            "String",
            "setTimeout",
            "lookup"
          ],
          "patterns": []
        },
        "clear": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "lookup": {
          "calls": [
            "clear",
            "reject",
            "selector",
            "querySelector",
            "resolve",
            "now",
            "String",
            "setTimeout"
          ],
          "patterns": []
        }
      }
    },
    "tests/utils/timerTestUtils.js": {
      "imports": [],
      "functions": {
        "createTimerIdFactory": {
          "calls": [],
          "patterns": ["factory"]
        },
        "createTimerIdManager": {
          "calls": ["createTimerIdFactory", "nextTimeoutIdFactory", "nextIntervalIdFactory"],
          "patterns": ["factory"]
        },
        "cleanupTimers": {
          "calls": ["forEach", "stop", "clearTimeout", "clearInterval"],
          "patterns": []
        }
      }
    },
    "tests/utils/testUtils.js": {
      "imports": ["fs", "path", "../../src/helpers/testLogGate.js"],
      "functions": {
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        },
        "loadJudokaFixture": {
          "calls": ["join", "cwd", "parse", "readFileSync", "debugLog"],
          "patterns": []
        },
        "loadGokyoFixture": {
          "calls": ["join", "cwd", "parse", "readFileSync", "debugLog"],
          "patterns": []
        },
        "createScoreboardHeader": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "createBattleHeader": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "createRandomCardDom": {
          "calls": [
            "createElement",
            "setAttribute",
            "parseFromString",
            "querySelector",
            "appendChild",
            "append"
          ],
          "patterns": ["factory"]
        },
        "createBattleCardContainers": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "createHeaderStub": {
          "calls": [
            "createElement",
            "setAttribute",
            "append",
            "createTextNode",
            "toUpperCase",
            "charAt",
            "slice",
            "createOption"
          ],
          "patterns": ["factory"]
        },
        "createOption": {
          "calls": [
            "createElement",
            "setAttribute",
            "createSvgElement",
            "add",
            "append",
            "forEach",
            "toUpperCase",
            "charAt",
            "slice"
          ],
          "patterns": ["factory"]
        },
        "createHeroStub": {
          "calls": [
            "createElementNS",
            "createElement",
            "setAttribute",
            "append",
            "createSvgElement",
            "add",
            "forEach",
            "toUpperCase",
            "charAt",
            "slice",
            "createOption"
          ],
          "patterns": ["factory"]
        },
        "createSvgElement": {
          "calls": ["createElementNS"],
          "patterns": ["factory"]
        },
        "createSaveStatus": {
          "calls": ["createElement", "setAttribute"],
          "patterns": ["factory"]
        },
        "createSectionCard": {
          "calls": ["createElement", "toggleAttribute", "append"],
          "patterns": ["factory"]
        },
        "createToggleItem": {
          "calls": ["createElement", "setAttribute", "append"],
          "patterns": ["factory"]
        },
        "createGeneralCard": {
          "calls": ["createSectionCard", "createElement", "forEach", "append", "createToggleItem"],
          "patterns": ["factory"]
        },
        "createGameModesCard": {
          "calls": ["createSectionCard", "createElement", "setAttribute", "append"],
          "patterns": ["factory"]
        },
        "createAdvancedSearch": {
          "calls": ["createElement", "setAttribute", "append"],
          "patterns": ["factory"]
        },
        "createAdvancedFieldset": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "createResetButtonRow": {
          "calls": ["createElement", "append"],
          "patterns": ["factory"]
        },
        "createAdvancedCard": {
          "calls": [
            "createSectionCard",
            "createAdvancedSearch",
            "createAdvancedFieldset",
            "append"
          ],
          "patterns": ["factory"]
        },
        "createLinksCard": {
          "calls": [
            "createSectionCard",
            "createElement",
            "forEach",
            "append",
            "createResetButtonRow"
          ],
          "patterns": ["factory"]
        },
        "createErrorPopup": {
          "calls": ["createElement", "setAttribute"],
          "patterns": ["factory"]
        },
        "createSettingsDom": {
          "calls": [
            "createDocumentFragment",
            "append",
            "createHeaderStub",
            "createHeroStub",
            "createElement",
            "createGeneralCard",
            "createGameModesCard",
            "createAdvancedCard",
            "createLinksCard",
            "createSaveStatus",
            "createErrorPopup"
          ],
          "patterns": ["factory"]
        },
        "resetDom": {
          "calls": ["clear", "restoreAllMocks", "useRealTimers", "resetModules"],
          "patterns": []
        },
        "getJudokaFixture": {
          "calls": ["structuredClone", "loadJudokaFixture"],
          "patterns": []
        },
        "getGokyoFixture": {
          "calls": ["structuredClone", "loadGokyoFixture"],
          "patterns": []
        },
        "createMockLocalStorage": {
          "calls": ["String", "forEach", "keys"],
          "patterns": ["factory"]
        },
        "createMockFetch": {
          "calls": ["fn", "mockImplementation", "String", "entries", "includes"],
          "patterns": ["factory"]
        },
        "createMockMatchMedia": {
          "calls": ["push", "indexOf", "splice"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/utils/scheduler.test.js": {
      "imports": ["vitest", "../../src/utils/scheduler.js"],
      "functions": {}
    },
    "tests/utils/realHtmlTestUtils.js": {
      "imports": ["jsdom", "fs", "path"],
      "functions": {
        "createRealHtmlTestEnvironment": {
          "calls": ["join", "cwd", "readFileSync", "close"],
          "patterns": ["factory"]
        },
        "validateRealHtmlStructure": {
          "calls": [
            "querySelector",
            "push",
            "querySelectorAll",
            "filter",
            "getElementById",
            "join"
          ],
          "patterns": []
        },
        "compareTestApproaches": {
          "calls": ["testFn", "close", "createRealHtmlTestEnvironment", "cleanup"],
          "patterns": []
        }
      }
    },
    "tests/utils/rafUtils.test.js": {
      "imports": ["vitest", "../../src/utils/rafUtils.js"],
      "functions": {
        "flushAllFrames": {
          "calls": ["shift", "callback"],
          "patterns": []
        }
      }
    },
    "tests/utils/process.js": {
      "imports": [],
      "functions": {
        "withProcessStdoutDisabled": {
          "calls": ["callback", "getOwnPropertyDescriptor", "defineProperty"],
          "patterns": []
        }
      }
    },
    "tests/utils/manualTimingControls.js": {
      "imports": ["vitest"],
      "functions": {
        "createScheduler": {
          "calls": ["fn", "Number", "isFinite", "push"],
          "patterns": ["factory"]
        },
        "runTask": {
          "calls": ["handler", "resolve"],
          "patterns": []
        },
        "createMockTime": {
          "calls": ["push", "mockImplementation", "spyOn", "mockRestore"],
          "patterns": ["factory"]
        },
        "createRunNext": {
          "calls": ["shift", "runTask"],
          "patterns": ["factory"]
        },
        "createRunAll": {
          "calls": ["shift", "runTask"],
          "patterns": ["factory"]
        },
        "createRunUntilResolved": {
          "calls": ["finally", "shift", "runTask", "resolve"],
          "patterns": ["factory"]
        },
        "createManualTimingControls": {
          "calls": [
            "createScheduler",
            "createMockTime",
            "createRunNext",
            "createRunAll",
            "createRunUntilResolved"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "tests/utils/flushUnhandledRejections.js": {
      "imports": [],
      "functions": {
        "flushUnhandledRejections": {
          "calls": ["nextTick"],
          "patterns": []
        }
      }
    },
    "tests/utils/flushMicrotasks.js": {
      "imports": [],
      "functions": {
        "flushMicrotasks": {
          "calls": ["isFinite", "ceil", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/utils/emitBattleEventAndAwait.test.js": {
      "imports": ["vitest", "./battleTestUtils.js", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/utils/deepMerge.test.js": {
      "imports": ["vitest", "../../src/utils/deepMerge.js"],
      "functions": {}
    },
    "tests/utils/debounce.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../../src/utils/debounce.js"],
      "functions": {}
    },
    "tests/utils/countryCodes.test.js": {
      "imports": ["vitest", "../../src/utils/countryCodes.js"],
      "functions": {}
    },
    "tests/utils/console.js": {
      "imports": [],
      "functions": {
        "noop": {
          "calls": [],
          "patterns": []
        },
        "validateLevels": {
          "calls": ["filter", "includes", "join"],
          "patterns": []
        },
        "withMutedConsole": {
          "calls": ["validateLevels", "map", "forEach", "fn", "get", "find"],
          "patterns": []
        },
        "withAllowedConsole": {
          "calls": ["validateLevels", "map", "forEach", "fn", "get", "find"],
          "patterns": []
        },
        "muteConsole": {
          "calls": ["validateLevels", "forEach"],
          "patterns": []
        },
        "restoreConsole": {
          "calls": ["validateLevels", "forEach"],
          "patterns": []
        },
        "createMutedSpy": {
          "calls": ["validateLevels"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/utils/componentTestUtils.js": {
      "imports": [
        "vitest",
        "../../src/components/Card.js",
        "../../src/components/SidebarList.js",
        "../helpers/classicBattle/utils.js",
        "../../src/pages/battleClassic.init.js",
        "../../src/helpers/classicBattle/uiHelpers.js",
        "../../src/helpers/i18n.js"
      ],
      "functions": {
        "naturalClick": {
          "calls": ["click", "onclick"],
          "patterns": []
        },
        "toggleDetails": {
          "calls": ["toUpperCase", "dispatchEvent"],
          "patterns": []
        },
        "naturalKeypress": {
          "calls": ["dispatchEvent"],
          "patterns": []
        },
        "getTabbableElements": {
          "calls": ["filter", "from", "querySelectorAll", "hasAttribute"],
          "patterns": []
        },
        "createTestCard": {
          "calls": ["createCard", "naturalClick", "contains", "getAttribute", "removeChild"],
          "patterns": ["factory"]
        },
        "createTestSidebarList": {
          "calls": [
            "querySelectorAll",
            "dispatchEvent",
            "from",
            "findIndex",
            "select",
            "removeChild"
          ],
          "patterns": ["factory"]
        },
        "createStatButtonsHarness": {
          "calls": [
            "initializeStatButtonsEnvironment",
            "renderStatButtonsWithLabels",
            "getStatButtons",
            "getStatButton",
            "cleanupStatButtonsEnvironment"
          ],
          "patterns": ["factory"]
        },
        "ensureRequestAnimationFrame": {
          "calls": [
            "isFakeTimers",
            "useFakeTimers",
            "setTimeout",
            "cb",
            "now",
            "clearTimeout",
            "useRealTimers"
          ],
          "patterns": []
        },
        "ensureNextButton": {
          "calls": ["getElementById", "createElement", "appendChild", "removeChild"],
          "patterns": []
        },
        "initializeStatButtonsEnvironment": {
          "calls": [
            "setupClassicBattleDom",
            "ensureRequestAnimationFrame",
            "ensureNextButton",
            "ensureBattleTranslator"
          ],
          "patterns": []
        },
        "renderStatButtonsWithLabels": {
          "calls": ["renderStatButtons", "applyStatLabels", "getElementById"],
          "patterns": []
        },
        "getStatButtons": {
          "calls": ["from", "querySelectorAll"],
          "patterns": []
        },
        "getStatButton": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "cleanupStatButtonsEnvironment": {
          "calls": ["useRealTimers", "restoreRAF", "cleanupNextButton", "restoreTranslator"],
          "patterns": []
        },
        "ensureBattleTranslator": {
          "calls": ["mockImplementation", "spyOn", "original", "values", "String", "mockRestore"],
          "patterns": []
        },
        "createTestEnvironment": {
          "calls": ["createTestCard", "register", "now", "createTestSidebarList", "cleanup"],
          "patterns": ["factory"]
        },
        "check": {
          "calls": ["selector", "resolve", "now", "reject", "setTimeout"],
          "patterns": []
        },
        "createTestCarousel": {
          "calls": [
            "createElement",
            "defineProperty",
            "fn",
            "naturalKeyboardNavigation",
            "naturalSwipe",
            "setTimeout",
            "naturalPointerGesture",
            "dispatchEvent",
            "querySelector",
            "setPage",
            "next",
            "prev",
            "destroy",
            "spyOn",
            "removeChild"
          ],
          "patterns": ["factory"]
        },
        "createTestMockupViewer": {
          "calls": [
            "createElement",
            "appendChild",
            "setupMockupViewerPage",
            "querySelector",
            "naturalClick",
            "querySelectorAll",
            "dispatchEvent",
            "from",
            "findIndex",
            "removeChild"
          ],
          "patterns": ["factory"]
        },
        "createTestPrdReader": {
          "calls": [
            "createElement",
            "appendChild",
            "setupPrdReaderPage",
            "querySelector",
            "querySelectorAll",
            "from",
            "naturalClick",
            "dispatchEvent",
            "naturalKeypress",
            "findIndex",
            "removeChild"
          ],
          "patterns": ["factory"]
        },
        "createTestTooltipViewer": {
          "calls": [
            "createElement",
            "appendChild",
            "setTooltipDataLoader",
            "defineProperty",
            "setupTooltipViewerPage",
            "querySelector",
            "querySelectorAll",
            "dispatchEvent",
            "naturalClick",
            "removeChild"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "tests/utils/battleTestUtils.test.js": {
      "imports": ["vitest", "./battleTestUtils.js"],
      "functions": {}
    },
    "tests/utils/battleTestUtils.js": {
      "imports": [],
      "functions": {
        "isValidTestApi": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "setupOpponentDelayControl": {
          "calls": ["warn", "setOpponentResolveDelay", "setDelay"],
          "patterns": []
        },
        "setDelay": {
          "calls": ["setOpponentResolveDelay"],
          "patterns": []
        },
        "createOpponentDelayController": {
          "calls": [
            "setupOpponentDelayControl",
            "getCurrentDelay",
            "setCustomDelay",
            "resetOpponentDelay"
          ],
          "patterns": ["factory"]
        },
        "emitBattleEventAndAwait": {
          "calls": ["emitBattleEvent", "runAllTimersAsync"],
          "patterns": []
        }
      }
    },
    "tests/utils/battleStoreAccess.js": {
      "imports": [],
      "functions": {
        "getBattleStore": {
          "calls": ["getBattleStore"],
          "patterns": []
        }
      }
    },
    "tests/utils/battleCliTestUtils.js": {
      "imports": [],
      "functions": {
        "resetCliState": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/utils/battleCliTestSupport.test.js": {
      "imports": ["vitest", "../../src/pages/battleCLI/testSupport.js"],
      "functions": {}
    },
    "tests/unit/roundUI.autoAdvance.spec.js": {
      "imports": [
        "vitest",
        "@/helpers/setupScoreboard.js",
        "@/helpers/classicBattle/roundUI.js",
        "@/helpers/classicBattle/roundManager.js"
      ],
      "functions": {}
    },
    "tests/unit/roundStore.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/roundState.js"],
      "functions": {}
    },
    "tests/unit/roundStore.reset.spec.js": {
      "imports": ["vitest", "@/helpers/classicBattle/roundState.js"],
      "functions": {}
    },
    "tests/unit/roundStore-integration.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/roundState.js"],
      "functions": {}
    },
    "tests/unit/roundReadyState.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/unit/randomCardService.history.spec.js": {
      "imports": ["vitest", "../../src/helpers/randomCard.js"],
      "functions": {}
    },
    "tests/unit/game.setupRandomCardButton.test.js": {
      "imports": ["vitest", "../utils/console.js", "../utils/flushUnhandledRejections.js"],
      "functions": {
        "createDeferred": {
          "calls": [],
          "patterns": ["factory"]
        },
        "setupTest": {
          "calls": ["resetModules", "createElement", "append"],
          "patterns": []
        },
        "handleUnhandledRejection": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/unit/countryService.loadCountryMapping.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/unit/cooldown.start.spec.js": {
      "imports": [
        "vitest",
        "@/helpers/classicBattle/roundManager.js",
        "../utils/flushUnhandledRejections.js"
      ],
      "functions": {}
    },
    "tests/unit/buttonInteractionStyles.test.js": {
      "imports": ["vitest", "node:fs", "node:path", "postcss"],
      "functions": {
        "readCss": {
          "calls": ["readFileSync", "resolve", "cwd"],
          "patterns": []
        },
        "ruleMatchesAtRule": {
          "calls": [],
          "patterns": []
        },
        "getRuleForSelector": {
          "calls": ["walkRules", "ruleMatchesAtRule", "map", "split", "trim", "includes"],
          "patterns": []
        },
        "getDeclarations": {
          "calls": ["getRuleForSelector", "reduce", "trim"],
          "patterns": []
        },
        "hasSelector": {
          "calls": ["Boolean", "getRuleForSelector"],
          "patterns": []
        },
        "hasSelectorFragment": {
          "calls": ["walkRules", "ruleMatchesAtRule", "map", "split", "trim", "some", "includes"],
          "patterns": []
        }
      }
    },
    "tests/unit/battleInit.readiness.spec.js": {
      "imports": ["vitest"],
      "functions": {
        "loadBattleInit": {
          "calls": ["resetModules"],
          "patterns": []
        },
        "flushMicrotasks": {
          "calls": ["resolve"],
          "patterns": []
        }
      }
    },
    "tests/unit/actionBar.test.js": {
      "imports": ["vitest", "../../src/helpers/actionBar.js", "../../src/helpers/BattleEngine.js"],
      "functions": {
        "createKeyboardEvent": {
          "calls": ["fn", "defineProperty"],
          "patterns": ["factory"]
        }
      }
    },
    "playwright/battle-classic/timer.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {
        "parseTimerValue": {
          "calls": ["textContent", "match", "parseInt"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/timer-clearing.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../helpers/selectors.js",
        "../../tests/utils/console.js",
        "../helpers/scoreUtils.js"
      ],
      "functions": {}
    },
    "playwright/battle-classic/stat-selection.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/battle-classic/smoke.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../helpers/battleStateHelper.js"],
      "functions": {
        "configureDeterministicBattle": {
          "calls": ["addInitScript"],
          "patterns": []
        },
        "logBrowserWarnings": {
          "calls": ["on", "type", "text", "test", "log"],
          "patterns": []
        },
        "startClassicBattle": {
          "calls": ["goto", "configureClassicBattle", "click", "locator", "waitForBattleReady"],
          "patterns": []
        },
        "selectFirstEnabledStat": {
          "calls": [
            "waitForRoundStats",
            "waitForStatButtonsReady",
            "getByRole",
            "waitFor",
            "locator",
            "first",
            "toBeVisible",
            "expect",
            "click"
          ],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/skip-round-cooldown.spec.js": {
      "imports": ["../fixtures/commonSetup.js"],
      "functions": {}
    },
    "playwright/battle-classic/skip-cooldown.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../../tests/utils/console.js",
        "../helpers/cooldownFixtures.js",
        "../helpers/battleStateHelper.js"
      ],
      "functions": {}
    },
    "playwright/battle-classic/round-select.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/battle-classic/round-select.server.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/battle-classic/round-flow.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../helpers/selectors.js",
        "../../tests/utils/console.js",
        "../fixtures/appConfig.js",
        "./support/opponentRevealTestSupport.js",
        "../helpers/battleStateHelper.js",
        "../helpers/cooldownFixtures.js"
      ],
      "functions": {
        "startClassicBattle": {
          "calls": ["goto", "getByRole", "toBeVisible", "expect", "all", "waitForURL", "click"],
          "patterns": []
        },
        "resolveRoundViaCli": {
          "calls": [
            "evaluate",
            "getCountdown",
            "getBattleState",
            "waitForBattleState",
            "pickFirstStat",
            "resolveRound",
            "String"
          ],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/round-counter.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../../tests/utils/console.js",
        "../helpers/testTiming.js"
      ],
      "functions": {}
    },
    "playwright/battle-classic/replay.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../../playwright/helpers/selectors",
        "../helpers/battleStateHelper.js",
        "../../tests/utils/console.js"
      ],
      "functions": {
        "readScores": {
          "calls": ["getScores", "Number", "isFinite", "getBattleSnapshot"],
          "patterns": []
        },
        "captureEngineState": {
          "calls": ["readScores", "getRoundsPlayed", "isFinite"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/replay-flaky-detector.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../helpers/battleStateHelper.js",
        "../helpers/selectors.js",
        "../helpers/testTiming.js"
      ],
      "functions": {}
    },
    "playwright/battle-classic/quit-flow.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/battle-classic/opponent-reveal.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../helpers/selectors.js",
        "../helpers/battleStateHelper.js",
        "../helpers/advanceRound.js",
        "../../tests/utils/console.js",
        "./support/opponentRevealTestSupport.js"
      ],
      "functions": {
        "setupBattle": {
          "calls": ["initializeBattle", "waitForBattleReady", "waitForBattleState"],
          "patterns": []
        },
        "pickFirstStat": {
          "calls": ["first", "locator", "statButton", "toBeVisible", "expect", "click"],
          "patterns": []
        },
        "removeSnackbarContainer": {
          "calls": ["fetch", "text", "replace", "fulfill", "status", "headers"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/opponent-message.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../helpers/selectors.js",
        "../../tests/utils/console.js",
        "./support/opponentRevealTestSupport.js"
      ],
      "functions": {
        "buildMessageConfig": {
          "calls": [],
          "patterns": []
        },
        "runMessageTest": {
          "calls": [
            "includes",
            "test",
            "buildMessageConfig",
            "initializeBattle",
            "testFn",
            "testBody",
            "withMutedConsole"
          ],
          "patterns": []
        },
        "testBody": {
          "calls": ["buildMessageConfig", "initializeBattle", "testFn"],
          "patterns": []
        },
        "setupStalledCliFallback": {
          "calls": [
            "evaluate",
            "bind",
            "getBattleState",
            "originalResolveRound",
            "push",
            "originalDispatch"
          ],
          "patterns": []
        },
        "cleanupStalledCliFallback": {
          "calls": ["evaluate"],
          "patterns": []
        },
        "withBattleEventCapture": {
          "calls": [
            "evaluate",
            "emitBattleEvent",
            "isArray",
            "filter",
            "includes",
            "push",
            "forEach",
            "addEventListener",
            "removeEventListener",
            "callback",
            "from",
            "__releaseBattleEventCapture"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["includes", "push"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/opponent-choosing.snackbar.smoke.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../helpers/battleStateHelper.js"],
      "functions": {
        "parseTimerValue": {
          "calls": ["textContent", "match", "parseInt"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/keyboard-navigation.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../helpers/battleStateHelper.js"],
      "functions": {}
    },
    "playwright/battle-classic/immediate-button-state.spec.js": {
      "imports": ["../fixtures/commonSetup.js"],
      "functions": {}
    },
    "playwright/battle-classic/feature-flags.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../helpers/featureFlagHelper.js"],
      "functions": {}
    },
    "playwright/battle-classic/end-modal.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../../tests/utils/console.js"],
      "functions": {
        "escapeRegExp": {
          "calls": ["replace", "String"],
          "patterns": []
        },
        "formatStatLabel": {
          "calls": ["join", "map", "filter", "split", "String", "toUpperCase", "charAt", "slice"],
          "patterns": []
        },
        "waitForTestApiBootstrap": {
          "calls": ["waitForFunction"],
          "patterns": []
        },
        "configureClassicBattle": {
          "calls": ["evaluate", "configureClassicBattle", "isArray", "filter", "join"],
          "patterns": []
        },
        "prepareClassicBattle": {
          "calls": [
            "goto",
            "waitForTestApiBootstrap",
            "configureClassicBattle",
            "evaluate",
            "waitForBattleReady"
          ],
          "patterns": []
        },
        "waitForRoundStatsViaApi": {
          "calls": ["evaluate", "waitForRoundStats"],
          "patterns": []
        },
        "applyQuickWinTarget": {
          "calls": ["evaluate", "setPointsToWin", "waitForPointsToWin"],
          "patterns": []
        },
        "selectAdvantagedStat": {
          "calls": [
            "waitForRoundStatsViaApi",
            "evaluate",
            "pickAdvantagedStatKey",
            "trim",
            "toLowerCase",
            "getByRole",
            "toBeVisible",
            "expect",
            "formatStatLabel",
            "escapeRegExp",
            "toBeEnabled",
            "click",
            "first"
          ],
          "patterns": []
        },
        "ensureRoundStarted": {
          "calls": [
            "locator",
            "count",
            "toBeVisible",
            "expect",
            "toBeEnabled",
            "click",
            "catch",
            "evaluate",
            "getBattleState",
            "waitForBattleState"
          ],
          "patterns": []
        },
        "resolveMatchFromCurrentRound": {
          "calls": [
            "evaluate",
            "waitForMatchCompletion",
            "statSelector",
            "stringify",
            "Number",
            "isFinite"
          ],
          "patterns": []
        },
        "expectDecisiveFinalScore": {
          "calls": ["toBeTruthy", "expect", "toBe"],
          "patterns": []
        }
      }
    },
    "playwright/battle-classic/cooldown.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../../tests/utils/console.js",
        "../helpers/battleStateHelper.js",
        "../helpers/roundDiagnostics.js",
        "../helpers/cooldownFixtures.js",
        "../helpers/testTiming.js"
      ],
      "functions": {}
    },
    "playwright/battle-classic/button-state-timeline.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "../helpers/battleStateHelper.js"],
      "functions": {}
    },
    "playwright/battle-classic/bootstrap.spec.js": {
      "imports": ["../fixtures/commonSetup.js", "node:path", "../../tests/utils/console.js"],
      "functions": {}
    },
    "playwright/battle-classic/battle-state-progress.spec.js": {
      "imports": [
        "../fixtures/commonSetup.js",
        "../../tests/utils/console.js",
        "../helpers/battleStateHelper.js",
        "../helpers/battleApiHelper.js",
        "../helpers/autoSelectHelper.js"
      ],
      "functions": {
        "recordSnapshot": {
          "calls": ["push", "getAttribute"],
          "patterns": []
        }
      }
    },
    "tests/styles/touchTargets.test.js": {
      "imports": ["vitest", "fs", "postcss", "jsdom"],
      "functions": {
        "findTouchTargetRules": {
          "calls": ["parse", "walkRules", "find", "startsWith", "push"],
          "patterns": []
        },
        "isTouchTargetValue": {
          "calls": ["startsWith"],
          "patterns": []
        }
      }
    },
    "tests/styles/battleContrast.test.js": {
      "imports": ["vitest", "wcag-contrast", "node:fs", "node:path"],
      "functions": {
        "escapeRegex": {
          "calls": ["replace"],
          "patterns": []
        },
        "getCssText": {
          "calls": ["readFileSync"],
          "patterns": []
        },
        "getRuleBlock": {
          "calls": ["escapeRegex", "exec", "indexOf", "slice"],
          "patterns": []
        },
        "getLastDeclaration": {
          "calls": ["getRuleBlock", "escapeRegex", "exec", "trim"],
          "patterns": []
        },
        "parseVariables": {
          "calls": ["getRuleBlock", "match", "split", "trim", "replace", "join"],
          "patterns": []
        },
        "parseHexColor": {
          "calls": ["trim", "replace", "map", "split", "parseInt", "slice"],
          "patterns": []
        },
        "parseRgbColor": {
          "calls": ["exec", "map", "split", "trim", "slice", "Number"],
          "patterns": []
        },
        "resolveVar": {
          "calls": ["exec", "trim"],
          "patterns": []
        },
        "parseMixStop": {
          "calls": ["trim", "exec", "parseFloat"],
          "patterns": []
        },
        "parseColor": {
          "calls": ["resolveVar", "parseHexColor", "parseRgbColor"],
          "patterns": []
        },
        "mixColors": {
          "calls": ["round"],
          "patterns": []
        },
        "resolveColor": {
          "calls": [
            "trim",
            "startsWith",
            "replace",
            "filter",
            "map",
            "split",
            "parseMixStop",
            "parseColor",
            "mixColors",
            "join",
            "padStart",
            "toString"
          ],
          "patterns": []
        },
        "buildContrastCases": {
          "calls": [
            "getCssText",
            "parseVariables",
            "getLastDeclaration",
            "resolveColor",
            "requireDeclaration"
          ],
          "patterns": []
        },
        "requireDeclaration": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/styles/battleCLI.focusContrast.test.js": {
      "imports": ["vitest", "wcag-contrast", "node:fs", "node:path"],
      "functions": {
        "escapeRegex": {
          "calls": ["replace"],
          "patterns": []
        },
        "getRuleBlock": {
          "calls": ["indexOf", "slice"],
          "patterns": []
        },
        "getLastDeclaration": {
          "calls": ["getRuleBlock", "escapeRegex", "exec", "trim"],
          "patterns": []
        },
        "parseVariables": {
          "calls": ["getRuleBlock", "match", "split", "trim", "replace", "join"],
          "patterns": []
        },
        "resolveVarTokens": {
          "calls": ["replace", "trim"],
          "patterns": []
        },
        "parseHexColor": {
          "calls": ["trim", "replace", "test", "map", "split", "parseInt", "slice"],
          "patterns": []
        },
        "parseRgbColor": {
          "calls": ["exec", "map", "split", "trim", "slice", "Number", "isNaN", "round"],
          "patterns": []
        },
        "parseColorToken": {
          "calls": ["parseHexColor", "parseRgbColor"],
          "patterns": []
        },
        "extractColorTokens": {
          "calls": ["match"],
          "patterns": []
        },
        "compositeColor": {
          "calls": ["round", "mix"],
          "patterns": []
        },
        "mix": {
          "calls": ["round"],
          "patterns": []
        },
        "toHex": {
          "calls": ["join", "map", "padStart", "toString"],
          "patterns": []
        },
        "resolveColorValue": {
          "calls": [
            "resolveVarTokens",
            "extractColorTokens",
            "parseColorToken",
            "compositeColor",
            "toHex"
          ],
          "patterns": []
        },
        "resolveInheritedColor": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/setup/fakeTimers.js": {
      "imports": ["vitest"],
      "functions": {
        "useCanonicalTimers": {
          "calls": [
            "useFakeTimers",
            "useRealTimers",
            "runAllTimers",
            "runAllTimersAsync",
            "advanceTimersByTime",
            "advanceTimersByTimeAsync",
            "runOnlyPendingTimers",
            "runOnlyPendingTimersAsync"
          ],
          "patterns": []
        },
        "withFakeTimers": {
          "calls": ["useFakeTimers", "testFn", "useRealTimers"],
          "patterns": []
        },
        "runAllTimersAsync": {
          "calls": ["runAllTimersAsync"],
          "patterns": []
        },
        "advanceTimersByTimeAsync": {
          "calls": ["advanceTimersByTimeAsync"],
          "patterns": []
        },
        "runOnlyPendingTimersAsync": {
          "calls": ["runOnlyPendingTimersAsync"],
          "patterns": []
        }
      }
    },
    "tests/scripts/collectTestStats.test.js": {
      "imports": [
        "vitest",
        "node:path",
        "node:url",
        "node:os",
        "node:fs/promises",
        "../../scripts/collectTestStats.mjs"
      ],
      "functions": {}
    },
    "tests/scripts/check-playwright-patterns.test.js": {
      "imports": ["vitest", "../../scripts/check-playwright-patterns.js", "fs", "path", "os"],
      "functions": {
        "createTestFile": {
          "calls": ["join", "writeFileSync"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/scripts/check-jsdoc.test.js": {
      "imports": [
        "vitest",
        "node:fs/promises",
        "node:path",
        "node:url",
        "../../scripts/check-jsdoc.mjs"
      ],
      "functions": {}
    },
    "tests/layoutEditor/StorageManager.test.js": {
      "imports": ["vitest", "../../src/components/layoutEditor/StorageManager.js"],
      "functions": {}
    },
    "tests/layoutEditor/PropertyInspector.test.js": {
      "imports": ["vitest", "../../src/components/layoutEditor/PropertyInspector.js"],
      "functions": {}
    },
    "tests/layoutEditor/EditorCanvas.test.js": {
      "imports": ["vitest", "../../src/components/layoutEditor/EditorCanvas.js"],
      "functions": {}
    },
    "tests/integration/testApi.integration.test.js": {
      "imports": [
        "vitest",
        "jsdom",
        "../../src/pages/battleClassic.init.js",
        "../utils/console.js",
        "../../src/helpers/classicBattle/orchestrator.js"
      ],
      "functions": {}
    },
    "tests/integration/roundManagerTestUtils.js": {
      "imports": ["vitest"],
      "functions": {
        "createScoreboardStub": {
          "calls": ["fn"],
          "patterns": ["factory"]
        },
        "createSnackbarStub": {
          "calls": ["fn"],
          "patterns": ["factory"]
        },
        "createGlobalStateManager": {
          "calls": ["forEach", "entries", "has", "map", "filter", "call", "set", "get", "clear"],
          "patterns": ["factory"]
        },
        "setupCooldownTestDOM": {
          "calls": [],
          "patterns": []
        },
        "readTraceEntries": {
          "calls": ["__classicBattleDebugRead", "isArray"],
          "patterns": []
        },
        "expectTraceToIncludeEvents": {
          "calls": ["toBe", "expect", "isArray", "map", "forEach", "toContain"],
          "patterns": []
        }
      }
    },
    "tests/integration/roundManager.cooldown-integration.spec.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/roundManager.js",
        "../../src/helpers/classicBattle/eventDispatcher.js",
        "./roundManagerTestUtils.js"
      ],
      "functions": {
        "disposeCooldownDOM": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/integration/battleClassic.integration.test.js": {
      "imports": [
        "vitest",
        "jsdom",
        "../../src/pages/battleClassic.init.js",
        "../utils/console.js",
        "../utils/battleStoreAccess.js",
        "../utils/battleTestUtils.js",
        "../../src/helpers/classicBattle/orchestrator.js",
        "../../src/data/battleRounds.js",
        "../../src/helpers/BattleEngine.js",
        "../../src/config/battleDefaults.js",
        "../../src/helpers/classicBattle/uiHelpers.js",
        "../../src/helpers/classicBattle/battleEvents.js",
        "../../src/helpers/classicBattle/opponentPlaceholder.js"
      ],
      "functions": {
        "triggerStatSelection": {
          "calls": ["withMutedConsole", "click", "resolve", "setTimeout", "selectStat"],
          "patterns": []
        },
        "disableAutoContinue": {
          "calls": ["setAutoContinue"],
          "patterns": []
        },
        "performStatSelectionFlow": {
          "calls": [
            "disableAutoContinue",
            "getBattleStore",
            "toBeTruthy",
            "expect",
            "toBe",
            "withMutedConsole",
            "waitForBattleReady",
            "ensureStore",
            "toBeNull",
            "Number",
            "getRoundsPlayed",
            "getDebugInfo",
            "from",
            "querySelectorAll",
            "toBeGreaterThan",
            "click",
            "resolve",
            "waitForBattleState",
            "waitForStatButtonsReady",
            "triggerStatSelection",
            "some",
            "stringify",
            "waitForRoundsPlayed",
            "querySelector"
          ],
          "patterns": []
        },
        "ensureStore": {
          "calls": ["getBattleStore", "toBeTruthy", "expect", "toBe"],
          "patterns": []
        },
        "resetOpponentDelay": {
          "calls": [],
          "patterns": []
        },
        "waitWithTimeout": {
          "calls": ["race", "then", "setTimeout", "resolve"],
          "patterns": []
        },
        "handler": {
          "calls": ["offBattleEvent", "querySelector", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.visibility.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js", "../utils/console.js"],
      "functions": {
        "countLogs": {
          "calls": ["filter"],
          "patterns": []
        },
        "mountEscapeDialog": {
          "calls": ["createElement", "setAttribute", "addEventListener", "appendChild"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.verboseWinTarget.test.js": {
      "imports": [
        "vitest",
        "../../src/config/storageKeys.js",
        "../../src/helpers/classicBattle/debugHooks.js",
        "./utils/loadBattleCLI.js"
      ],
      "functions": {
        "getListener": {
          "calls": ["find"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.verboseVisibility.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {
        "isVerboseVisible": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.verboseToggle.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.verboseFlag.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {
        "isIndicatorVisible": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.verbose.test.js": {
      "imports": ["vitest", "../utils/console.js", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.timerConsolidation.test.js": {
      "imports": [
        "vitest",
        "./utils/loadBattleCLI.js",
        "../utils/manualTimingControls.js",
        "../../src/helpers/scheduler.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.standardDOM.test.js": {
      "imports": ["vitest", "node:fs", "node:path"],
      "functions": {}
    },
    "tests/pages/battleCLI.shortcuts.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.sharedPrimary.test.js": {
      "imports": ["vitest"],
      "functions": {
        "ensureCliDom": {
          "calls": ["ensureCliDomForTest"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.selectedStat.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js", "../utils/flushMicrotasks.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.seedValidation.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/debugHooks.js",
        "../../src/config/storageKeys.js",
        "./utils/loadBattleCLI.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.seed.test.js": {
      "imports": ["vitest", "../../src/config/storageKeys.js", "./utils/loadBattleCLI.js"],
      "functions": {
        "expected": {
          "calls": ["sin", "push", "floor"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.scoreboard.test.js": {
      "imports": ["vitest"],
      "functions": {
        "loadHandlers": {
          "calls": ["mockReturnValue"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.roundHeader.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.retroTheme.test.js": {
      "imports": ["vitest", "../../src/pages/battleCLI.init.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.pointsToWin.test.js": {
      "imports": ["vitest", "../../src/config/storageKeys.js", "./utils/loadBattleCLI.js"],
      "functions": {
        "getListener": {
          "calls": ["find"],
          "patterns": []
        },
        "waitForButton": {
          "calls": [
            "querySelector",
            "clearImmediate",
            "clearTimeout",
            "disconnect",
            "clearScheduled",
            "cleanup",
            "resolve",
            "check",
            "observe",
            "setImmediate",
            "setTimeout",
            "reject",
            "scheduleTick"
          ],
          "patterns": []
        },
        "clearScheduled": {
          "calls": ["clearImmediate", "clearTimeout"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["disconnect", "clearScheduled"],
          "patterns": []
        },
        "check": {
          "calls": ["querySelector", "cleanup", "resolve"],
          "patterns": []
        },
        "scheduleTick": {
          "calls": ["clearScheduled", "setImmediate", "setTimeout"],
          "patterns": []
        },
        "tick": {
          "calls": ["clearScheduled", "check", "cleanup", "reject", "scheduleTick"],
          "patterns": []
        },
        "seedActiveRoundState": {
          "calls": [
            "updateRoundHeader",
            "setRoundMessage",
            "mockReturnValueOnce",
            "updateScoreLine",
            "selectStat"
          ],
          "patterns": []
        },
        "expectResetState": {
          "calls": [
            "getElementById",
            "toBe",
            "expect",
            "String",
            "trim",
            "replace",
            "toBeUndefined",
            "toBeNull",
            "querySelector"
          ],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.pointsToWin.startOnce.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/helpers/classicBattle/debugHooks.js",
        "./utils/loadBattleCLI.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.onKeyDown.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/helpers/classicBattle/debugHooks.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.normalizeShortcutCopy.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/pages/battleCLI.invalidNumber.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.init.test.js": {
      "imports": [
        "vitest",
        "../utils/console.js",
        "../../src/config/storageKeys.js",
        "./utils/loadBattleCLI.js",
        "../setup/fakeTimers.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.helpers.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {
        "createEngineStub": {
          "calls": ["fn", "addEventListener", "handler", "dispatchEvent"],
          "patterns": ["factory"]
        },
        "mockEngineFacade": {
          "calls": ["doMock"],
          "patterns": []
        },
        "isVerboseVisible": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.dualWrite.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "createDeferred": {
          "calls": [],
          "patterns": ["factory"]
        },
        "importDomWithScoreboard": {
          "calls": ["createDeferred", "doMock", "resolve", "waitForSharedScoreboard"],
          "patterns": []
        },
        "ensureCliDom": {
          "calls": ["ensureCliDomForTest"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.countdown.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./utils/loadBattleCLI.js"],
      "functions": {
        "advanceTimersAndFlushPending": {
          "calls": ["advanceTimersByTimeAsync", "runOnlyPendingTimersAsync"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI.cliShortcutsFlag.test.js": {
      "imports": ["vitest", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.accessibilityLiveRegions.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/pages/battleCLI.a11y.smoke.test.js": {
      "imports": [
        "vitest",
        "node:fs",
        "./utils/loadBattleCLI.js",
        "../utils/componentTestUtils.js"
      ],
      "functions": {}
    },
    "tests/pages/battleCLI.a11y.focus.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./utils/loadBattleCLI.js"],
      "functions": {}
    },
    "tests/fixtures/uiTooltipManifest.js": {
      "imports": [],
      "functions": {}
    },
    "tests/fixtures/navigationItems.js": {
      "imports": [],
      "functions": {}
    },
    "tests/fixtures/jsdoc-valid.js": {
      "imports": [],
      "functions": {
        "createScoreboardView": {
          "calls": ["createElement", "append"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/fixtures/jsdoc-invalid.js": {
      "imports": [],
      "functions": {
        "updateScoreboardLabel": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/fixtures/jsdoc-integration.js": {
      "imports": [],
      "functions": {
        "getGreeting": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/data/tooltipsEntries.test.js": {
      "imports": ["vitest", "fs", "path", "../fixtures/uiTooltipManifest.js"],
      "functions": {
        "get": {
          "calls": ["reduce", "split"],
          "patterns": []
        }
      }
    },
    "tests/data/schemaValidation.test.js": {
      "imports": [
        "vitest",
        "fs/promises",
        "../../src/helpers/dataUtils.js",
        "url",
        "path",
        "../../src/data/statNames.js"
      ],
      "functions": {}
    },
    "tests/data/aesopsMetaCrossCheck.test.js": {
      "imports": ["vitest", "fs/promises", "url", "path"],
      "functions": {
        "loadJson": {
          "calls": ["join", "parse", "readFile"],
          "patterns": []
        }
      }
    },
    "tests/config/loadSettings.test.js": {
      "imports": ["vitest", "../utils/console.js"],
      "functions": {}
    },
    "tests/config/dataDir.test.js": {
      "imports": ["vitest", "../../src/helpers/constants.js"],
      "functions": {}
    },
    "tests/components/scoreboardDomAdapter.test.js": {
      "imports": [
        "vitest",
        "../../src/components/ScoreboardModel.js",
        "../../src/components/ScoreboardView.js",
        "../../src/components/scoreboardDomAdapter.js"
      ],
      "functions": {}
    },
    "tests/components/scoreboardCore.test.js": {
      "imports": ["vitest", "../../src/components/scoreboardCore.js"],
      "functions": {}
    },
    "tests/components/opponentChoosing.spec.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/opponentPromptTracker.js",
        "../../src/helpers/classicBattle/globalState.js"
      ],
      "functions": {}
    },
    "tests/components/StatsPanel.test.js": {
      "imports": ["vitest", "../../src/components/StatsPanel.js"],
      "functions": {}
    },
    "tests/components/SidebarList.test.js": {
      "imports": ["vitest", "../../src/components/SidebarList.js"],
      "functions": {}
    },
    "tests/components/ScoreboardView.test.js": {
      "imports": [
        "vitest",
        "../../src/components/ScoreboardModel.js",
        "../../src/components/ScoreboardView.js"
      ],
      "functions": {}
    },
    "tests/components/ScoreboardModel.test.js": {
      "imports": ["vitest", "../../src/components/ScoreboardModel.js"],
      "functions": {}
    },
    "tests/components/Scoreboard.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/components/Scoreboard.js",
        "../../src/components/ScoreboardModel.js",
        "../../src/components/ScoreboardView.js"
      ],
      "functions": {}
    },
    "tests/components/Scoreboard.idempotency.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/components/Scoreboard.a11y.liveRegions.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/components/Modal.dialog.test.js": {
      "imports": ["vitest", "../../src/components/Modal.js"],
      "functions": {}
    },
    "tests/helpers/visibilityTimer.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/viewTransitionTheme.test.js": {
      "imports": ["vitest", "../utils/testUtils.js"],
      "functions": {
        "controlsFromDom": {
          "calls": ["querySelectorAll"],
          "patterns": []
        },
        "getCurrentSettings": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/updateCodes.test.js": {
      "imports": ["vitest", "../utils/console.js"],
      "functions": {}
    },
    "tests/helpers/uiHelpers.showRoundOutcome.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/uiHelpers.js",
        "../../src/helpers/battle/battleUI.js",
        "../../src/helpers/setupScoreboard.js"
      ],
      "functions": {}
    },
    "tests/helpers/uiHelpers.resetBattleUI.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/uiHelpers.js", "./domUtils.js"],
      "functions": {}
    },
    "tests/helpers/uiHelpers.collectDebugState.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/battleDebug.js",
        "../../src/helpers/classicBattle/debugHooks.js",
        "../../src/helpers/classicBattle/debugPanel.js"
      ],
      "functions": {}
    },
    "tests/helpers/typewriter.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/typewriter.js",
        "../../src/helpers/settingsStorage.js"
      ],
      "functions": {}
    },
    "tests/helpers/tooltipViewerPage.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../utils/componentTestUtils.js"],
      "functions": {
        "init": {
          "calls": ["initTooltipViewerPage", "dispatchEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/tooltip.test.js": {
      "imports": ["vitest", "./integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/tooltip.loadTooltips.retry.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/toggleSwitch.test.js": {
      "imports": ["vitest", "../../src/components/ToggleSwitch.js"],
      "functions": {}
    },
    "tests/helpers/timerUtils.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/timerUtils.js": {
      "imports": [],
      "functions": {
        "runWithFakeTimers": {
          "calls": ["useFakeTimers", "fn", "finally", "runAllTimers", "useRealTimers"],
          "patterns": []
        },
        "createSchedulerAdapter": {
          "calls": ["bind"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/timerService.test.js": {
      "imports": ["vitest", "./mockScheduler.js", "./domUtils.js"],
      "functions": {
        "makeTimer": {
          "calls": ["onTick", "onExpired", "setTimeout"],
          "patterns": []
        }
      }
    },
    "tests/helpers/timerService.ordering.test.js": {
      "imports": ["vitest", "./domUtils.js"],
      "functions": {
        "createTimeoutPromise": {
          "calls": [],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/timerService.onNextButtonClick.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/battleDebug.js",
        "./domUtils.js",
        "./timerUtils.js"
      ],
      "functions": {}
    },
    "tests/helpers/timerService.cooldownGuard.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "./domUtils.js",
        "../../src/helpers/classicBattle/battleDebug.js"
      ],
      "functions": {}
    },
    "tests/helpers/timerService.autoSelectDisabled.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/timerService.autoSelect.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/testModeUtils.test.js": {
      "imports": ["vitest", "../../src/helpers/testModeUtils.js"],
      "functions": {}
    },
    "tests/helpers/testDataLoader.js": {
      "imports": [],
      "functions": {
        "createMockFetchJson": {
          "calls": ["onFetch", "includes"],
          "patterns": ["factory"]
        },
        "createDataUtilsMock": {
          "calls": [],
          "patterns": ["factory"]
        },
        "createDebugTrackingFetchJson": {
          "calls": ["add", "mockFetchJson", "from", "log", "getCalls"],
          "patterns": ["factory"]
        },
        "wrapped": {
          "calls": ["add", "mockFetchJson"],
          "patterns": []
        },
        "getCalls": {
          "calls": ["from"],
          "patterns": []
        },
        "reportCalls": {
          "calls": ["log", "getCalls"],
          "patterns": []
        }
      }
    },
    "tests/helpers/testApi.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "restoreWindowProperty": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/syncDisplayMode.test.js": {
      "imports": ["vitest", "../utils/testUtils.js", "../utils/console.js"],
      "functions": {
        "setup": {
          "calls": ["resetModules", "mock", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/swipeNavigation.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/carousel/navigation.js",
        "../../src/helpers/constants.js"
      ],
      "functions": {
        "swipe": {
          "calls": ["dispatchEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/svgFallback.test.js": {
      "imports": ["vitest", "../../src/helpers/svgFallback.js"],
      "functions": {
        "appendImage": {
          "calls": ["createElement", "appendChild"],
          "patterns": []
        }
      }
    },
    "tests/helpers/storage.test.js": {
      "imports": ["vitest", "@/helpers/storage.js"],
      "functions": {}
    },
    "tests/helpers/stats.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/statHotkeys.enabled.spec.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/showSnackbar.test.js": {
      "imports": ["vitest", "../../src/helpers/showSnackbar.js", "../setup/fakeTimers.js"],
      "functions": {
        "dispatchAnimationEnd": {
          "calls": ["defineProperty", "dispatchEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/showSettingsError.test.js": {
      "imports": ["vitest", "../utils/console.js", "../../src/helpers/showSettingsError.js"],
      "functions": {}
    },
    "tests/helpers/setupScoreboard.test.js": {
      "imports": ["vitest", "../utils/testUtils.js", "./mockScheduler.js", "../utils/console.js"],
      "functions": {
        "createControls": {
          "calls": ["fn"],
          "patterns": ["factory"]
        },
        "createScoreboardStub": {
          "calls": ["fn"],
          "patterns": ["factory"]
        },
        "withNonDomEnvironment": {
          "calls": ["callback"],
          "patterns": []
        }
      }
    },
    "tests/helpers/setupClassicBattleHomeLink.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/setupCarouselToggle.test.js": {
      "imports": ["vitest", "../../src/helpers/constants.js"],
      "functions": {
        "createCarousel": {
          "calls": ["createElement", "appendChild"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/settingsUtils.test.js": {
      "imports": [
        "vitest",
        "../../src/config/settingsDefaults.js",
        "../../src/helpers/settingsStorage.js"
      ],
      "functions": {}
    },
    "tests/helpers/settingsStorage.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/helpers/settingsStorage.js",
        "../../src/helpers/settingsCache.js",
        "../../src/config/settingsDefaults.js"
      ],
      "functions": {}
    },
    "tests/helpers/settingsPage.test.js": {
      "imports": [
        "vitest",
        "../utils/testUtils.js",
        "./integrationHarness.js",
        "../utils/flushUnhandledRejections.js"
      ],
      "functions": {
        "resetAllMocks": {
          "calls": [
            "mockResolvedValue",
            "mockReset",
            "mockImplementation",
            "mockRejectedValueOnce"
          ],
          "patterns": []
        },
        "captureUnhandled": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/settingsPage.browser.test.js": {
      "imports": ["vitest"],
      "functions": {
        "importSettingsModule": {
          "calls": [],
          "patterns": []
        },
        "dispatchSettingsReady": {
          "calls": ["dispatchEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/settingsCache.test.js": {
      "imports": ["../../src/helpers/settingsCache.js", "../../src/config/settingsDefaults.js"],
      "functions": {}
    },
    "tests/helpers/selectionHandler.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/scrollMarkers.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/helpers/carouselBuilder.js",
        "../../src/helpers/scheduler.js"
      ],
      "functions": {}
    },
    "tests/helpers/scrollButtonState.test.js": {
      "imports": ["vitest", "../../src/helpers/carousel/scroll.js", "../helpers/domFactory.js"],
      "functions": {}
    },
    "tests/helpers/scoreboard.readiness.test.js": {
      "imports": ["vitest", "./domUtils.js"],
      "functions": {
        "renderScoreboard": {
          "calls": [
            "mount",
            "createElement",
            "append",
            "appendChild",
            "fn",
            "setupScoreboard",
            "createMockScheduler",
            "querySelector"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/scoreboard.integration.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "getTimerText": {
          "calls": ["trim", "replace"],
          "patterns": []
        }
      }
    },
    "tests/helpers/scoreboard.adapter.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "./domUtils.js",
        "../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "roundCounter": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "tests/helpers/scheduler.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../../src/helpers/scheduler.js"],
      "functions": {
        "callback": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/sanitizeHtml.test.js": {
      "imports": ["vitest", "../../src/helpers/sanitizeHtml.js"],
      "functions": {}
    },
    "tests/helpers/roundTimerMock.js": {
      "imports": ["vitest"],
      "functions": {
        "mockCreateRoundTimer": {
          "calls": [
            "fn",
            "add",
            "delete",
            "max",
            "Number",
            "isArray",
            "slice",
            "buildTicksFromDuration",
            "emitTicks",
            "emitExpired",
            "forEach",
            "setTimeout",
            "push",
            "doMock",
            "unmockCreateRoundTimer"
          ],
          "patterns": []
        },
        "factory": {
          "calls": [
            "fn",
            "add",
            "delete",
            "max",
            "Number",
            "isArray",
            "slice",
            "buildTicksFromDuration",
            "emitTicks",
            "emitExpired",
            "forEach",
            "setTimeout",
            "push"
          ],
          "patterns": []
        },
        "unmockCreateRoundTimer": {
          "calls": ["doUnmock"],
          "patterns": []
        },
        "buildTicksFromDuration": {
          "calls": ["max", "push"],
          "patterns": []
        },
        "emitTicks": {
          "calls": ["forEach", "fn"],
          "patterns": []
        },
        "emitExpired": {
          "calls": ["forEach", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/roundSummaryReset.spec.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/uiService.js",
        "../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {}
    },
    "tests/helpers/roundResolver.resolveRound.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {
        "createDeferred": {
          "calls": ["resolve"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/roundResetEmission.spec.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/battleEvents.js",
        "../../src/helpers/classicBattle/roundManager.js",
        "../../src/helpers/classicBattle/selectionHandler.js",
        "../../src/helpers/BattleEngine.js"
      ],
      "functions": {
        "onReset": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/renderGameModes.test.js": {
      "imports": ["vitest", "../utils/testUtils.js", "../utils/console.js"],
      "functions": {}
    },
    "tests/helpers/renderFeatureFlags.test.js": {
      "imports": [
        "vitest",
        "../utils/console.js",
        "./domUtils.js",
        "../utils/testUtils.js",
        "../../src/helpers/settings/renderFeatureFlags.js",
        "../../src/helpers/settings/featureFlagSwitches.js",
        "../../src/helpers/settings/syncFeatureFlags.js",
        "../../src/helpers/settings/filterAdvancedSettings.js"
      ],
      "functions": {}
    },
    "tests/helpers/randomJudokaPage.seed.test.js": {
      "imports": ["vitest", "../utils/testUtils.js", "../../src/helpers/testModeUtils.js"],
      "functions": {}
    },
    "tests/helpers/randomJudokaPage.historyPanel.test.js": {
      "imports": [
        "vitest",
        "./integrationHarness.js",
        "../utils/testUtils.js",
        "../utils/componentTestUtils.js"
      ],
      "functions": {}
    },
    "tests/helpers/randomJudokaPage.featureFlags.test.js": {
      "imports": ["vitest", "../utils/testUtils.js"],
      "functions": {}
    },
    "tests/helpers/randomJudokaPage.drawButton.test.js": {
      "imports": [
        "vitest",
        "./integrationHarness.js",
        "../utils/testUtils.js",
        "../utils/console.js"
      ],
      "functions": {
        "label": {
          "calls": ["querySelector"],
          "patterns": []
        }
      }
    },
    "tests/helpers/randomCard.test.js": {
      "imports": [
        "vitest",
        "../utils/testUtils.js",
        "../utils/console.js",
        "../setup/fakeTimers.js"
      ],
      "functions": {}
    },
    "tests/helpers/rafMock.test.js": {
      "imports": ["vitest", "./rafMock.js"],
      "functions": {}
    },
    "tests/helpers/rafMock.js": {
      "imports": ["vitest"],
      "functions": {
        "install": {
          "calls": ["install"],
          "patterns": []
        },
        "uninstall": {
          "calls": ["uninstall"],
          "patterns": []
        },
        "enqueue": {
          "calls": ["enqueue"],
          "patterns": []
        },
        "flushNext": {
          "calls": ["flushNext"],
          "patterns": []
        },
        "flushAll": {
          "calls": ["flushAll"],
          "patterns": []
        },
        "cancel": {
          "calls": ["cancel"],
          "patterns": []
        },
        "withRafMock": {
          "calls": ["install", "fn", "uninstall"],
          "patterns": []
        },
        "installRAFMock": {
          "calls": ["install", "uninstall", "flushAll", "flushNext", "cancel"],
          "patterns": []
        }
      }
    },
    "tests/helpers/quoteBuilder.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/quoteBuilder.js",
        "../../src/helpers/quotes/quoteRenderer.js",
        "../../src/helpers/quotes/quoteService.js",
        "./domUtils.js"
      ],
      "functions": {
        "persistTypewriterPreference": {
          "calls": ["setItem", "stringify"],
          "patterns": []
        },
        "setupQuoteDom": {
          "calls": ["mount", "query"],
          "patterns": []
        },
        "stubRandomQuote": {
          "calls": ["mockResolvedValue", "spyOn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/pseudoJapanese.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/prdTaskStats.test.js": {
      "imports": ["vitest", "node:fs", "node:path", "../../src/helpers/prdTaskStats.js"],
      "functions": {}
    },
    "tests/helpers/prdReaderPage.test.js": {
      "imports": ["vitest", "./prdReaderPage.js", "../utils/componentTestUtils.js"],
      "functions": {
        "parser": {
          "calls": [],
          "patterns": []
        },
        "rejectionHandler": {
          "calls": ["unhandled"],
          "patterns": []
        }
      }
    },
    "tests/helpers/prdReaderPage.js": {
      "imports": [],
      "functions": {
        "basicParser": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/populateCountryList.test.js": {
      "imports": ["vitest", "./integrationHarness.js", "../../src/helpers/api/countryService.js"],
      "functions": {}
    },
    "tests/helpers/parseTooltipText.test.js": {
      "imports": ["vitest", "../../src/helpers/tooltip.js", "../../src/vendor/marked.esm.js"],
      "functions": {}
    },
    "tests/helpers/parseCssVars.js": {
      "imports": ["fs", "path", "postcss"],
      "functions": {
        "parseCssVars": {
          "calls": [
            "readFileSync",
            "resolve",
            "parse",
            "walkRules",
            "walkDecls",
            "startsWith",
            "trim"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/orientation.test.js": {
      "imports": ["vitest", "../../src/helpers/orientation.js"],
      "functions": {
        "mockMatchMedia": {
          "calls": ["mockReturnValue", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/orchestratorHandlers.roundDecisionEnter.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/orchestratorHandlers.map.test.js": {
      "imports": ["vitest", "../helpers/classicBattle/utils.js"],
      "functions": {
        "createStateTable": {
          "calls": [],
          "patterns": ["factory"]
        },
        "initMachine": {
          "calls": ["createStateTable", "initClassicBattleOrchestrator", "getBattleStateMachine"],
          "patterns": []
        },
        "registerEventSpies": {
          "calls": [
            "__resetBattleEventTarget",
            "fn",
            "spy",
            "onBattleEvent",
            "push",
            "set",
            "offBattleEvent"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["spy"],
          "patterns": []
        }
      }
    },
    "tests/helpers/orchestratorHandlers.helpers.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/orchestratorHandlers.computeOutcome.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "./classicBattle/createTestBattleDom.js"],
      "functions": {}
    },
    "tests/helpers/orchestrator.stateChange.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/mountInspectorPanel.js": {
      "imports": ["../../src/helpers/inspector/createInspectorPanel.js"],
      "functions": {
        "mountInspectorPanel": {
          "calls": ["createElement", "createInspectorPanel", "appendChild"],
          "patterns": []
        }
      }
    },
    "tests/helpers/motionUtils.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/motionUtils.js",
        "../../src/helpers/settingsStorage.js"
      ],
      "functions": {
        "matchMediaMock": {
          "calls": ["mockImplementation", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/modalComponent.test.js": {
      "imports": [
        "vitest",
        "../../src/components/Modal.js",
        "./domUtils.js",
        "./components/Button.js"
      ],
      "functions": {
        "buildContent": {
          "calls": ["createDocumentFragment", "createButton", "append"],
          "patterns": []
        }
      }
    },
    "tests/helpers/mockScheduler.js": {
      "imports": [],
      "functions": {
        "createMockScheduler": {
          "calls": ["Symbol", "push", "sort", "findIndex", "splice", "shift", "cb"],
          "patterns": ["factory"]
        },
        "setTimeoutFn": {
          "calls": ["Symbol", "push", "sort"],
          "patterns": []
        },
        "clearTimeoutFn": {
          "calls": ["findIndex", "splice"],
          "patterns": []
        },
        "tick": {
          "calls": ["sort", "shift", "cb"],
          "patterns": []
        }
      }
    },
    "tests/helpers/mockEnv.js": {
      "imports": [],
      "functions": {
        "withEnv": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/meditationContrast.test.js": {
      "imports": ["vitest", "wcag-contrast", "./parseCssVars.js"],
      "functions": {
        "resolveColorValue": {
          "calls": ["trim", "match", "has", "resolveColorValue", "add", "delete"],
          "patterns": []
        }
      }
    },
    "tests/helpers/markdownToHtml.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/markdownToHtml.js",
        "../../src/vendor/marked.esm.js"
      ],
      "functions": {}
    },
    "tests/helpers/listenerUtils.test.js": {
      "imports": ["vitest", "./listenerUtils.js"],
      "functions": {}
    },
    "tests/helpers/listenerUtils.js": {
      "imports": [],
      "functions": {
        "withListenerSpy": {
          "calls": ["push", "now", "addEventListener", "testFn", "removeEventListener"],
          "patterns": []
        },
        "spyWrapper": {
          "calls": ["push", "now"],
          "patterns": []
        },
        "expectListenerAttached": {
          "calls": ["has", "getExistingListeners"],
          "patterns": []
        },
        "wrapAddEventListener": {
          "calls": ["add", "call"],
          "patterns": []
        },
        "getExistingListeners": {
          "calls": ["isArray", "listeners"],
          "patterns": []
        }
      }
    },
    "tests/helpers/layoutDebugPanel.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "flushScheduledWork": {
          "calls": ["runAllTimersAsync", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/helpers/keyboardNavigation.test.js": {
      "imports": ["vitest", "../../src/helpers/carousel/navigation.js"],
      "functions": {}
    },
    "tests/helpers/judokaValidation.test.js": {
      "imports": ["vitest", "../../src/helpers/judokaValidation.js"],
      "functions": {}
    },
    "tests/helpers/judokaUtils.test.js": {
      "imports": ["vitest", "../utils/console.js", "../../src/helpers/judokaUtils.js"],
      "functions": {
        "importGetFallbackJudoka": {
          "calls": [],
          "patterns": []
        },
        "invokeWithConsoleErrorCapture": {
          "calls": ["withMutedConsole", "push", "callback"],
          "patterns": []
        }
      }
    },
    "tests/helpers/judokaCard.test.js": {
      "imports": [
        "vitest",
        "../../src/components/JudokaCard.js",
        "../../src/helpers/cardUtils.js",
        "../utils/componentTestUtils.js"
      ],
      "functions": {}
    },
    "tests/helpers/integrationHarness.test.js": {
      "imports": ["node:url", "vitest", "./integrationHarness.js"],
      "functions": {
        "getRegisteredModuleSpecifier": {
          "calls": ["fn", "createIntegrationHarness", "setup", "slice", "cleanup", "at"],
          "patterns": []
        }
      }
    },
    "tests/helpers/integrationHarness.js": {
      "imports": ["node:url", "vitest", "../setup/fakeTimers.js", "./rafMock.js"],
      "functions": {
        "resolveMockModuleSpecifier": {
          "calls": [
            "startsWith",
            "test",
            "pathToFileURL",
            "looksLikeUrl",
            "isBareModuleSpecifier",
            "clampModulePath"
          ],
          "patterns": []
        },
        "clampModulePath": {
          "calls": ["split", "replace", "pop", "push", "join", "includes", "startsWith"],
          "patterns": []
        },
        "looksLikeUrl": {
          "calls": ["test"],
          "patterns": []
        },
        "isBareModuleSpecifier": {
          "calls": ["startsWith", "indexOf", "test", "includes"],
          "patterns": []
        },
        "createMockFactory": {
          "calls": [],
          "patterns": ["factory"]
        },
        "createSimpleHarness": {
          "calls": [
            "resetModules",
            "useCanonicalTimers",
            "installRAFMock",
            "entries",
            "injectFixture",
            "customSetup",
            "cleanup",
            "restore",
            "restoreAllMocks",
            "clearAllMocks",
            "customTeardown",
            "clear",
            "has",
            "set",
            "get",
            "defineProperty"
          ],
          "patterns": ["factory"]
        },
        "setup": {
          "calls": [
            "entries",
            "resolveMockModuleSpecifier",
            "push",
            "mockRegistrar",
            "createMockFactory",
            "resetModules",
            "useCanonicalTimers",
            "installRAFMock",
            "injectFixture",
            "customSetup"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": [
            "cleanup",
            "restore",
            "restoreAllMocks",
            "clearAllMocks",
            "customTeardown",
            "clear"
          ],
          "patterns": []
        },
        "importModule": {
          "calls": ["has", "set", "get"],
          "patterns": []
        },
        "injectFixture": {
          "calls": ["defineProperty"],
          "patterns": []
        },
        "createIntegrationHarness": {
          "calls": [
            "entries",
            "resolveMockModuleSpecifier",
            "push",
            "mockRegistrar",
            "createMockFactory",
            "resetModules",
            "useCanonicalTimers",
            "installRAFMock",
            "injectFixture",
            "customSetup",
            "cleanup",
            "restore",
            "restoreAllMocks",
            "clearAllMocks",
            "customTeardown",
            "clear",
            "has",
            "set",
            "get",
            "defineProperty"
          ],
          "patterns": ["factory"]
        },
        "createClassicBattleHarness": {
          "calls": ["createIntegrationHarness", "fn"],
          "patterns": ["factory"]
        },
        "createSettingsHarness": {
          "calls": ["createIntegrationHarness", "fn", "mockResolvedValue"],
          "patterns": ["factory"]
        },
        "createBrowseJudokaHarness": {
          "calls": ["createIntegrationHarness", "mockResolvedValue", "fn"],
          "patterns": ["factory"]
        },
        "createTimerServiceHarness": {
          "calls": ["createClassicBattleHarness", "fn"],
          "patterns": ["factory"]
        },
        "createTooltipHarness": {
          "calls": ["createIntegrationHarness", "mockResolvedValue", "fn"],
          "patterns": ["factory"]
        },
        "createPopulateCountryListHarness": {
          "calls": ["createIntegrationHarness", "fn"],
          "patterns": ["factory"]
        },
        "createRandomJudokaPageHarness": {
          "calls": [
            "createIntegrationHarness",
            "fn",
            "mockResolvedValue",
            "mockReturnValue",
            "createElement"
          ],
          "patterns": ["factory"]
        },
        "createBattleCLIHandlersHarness": {
          "calls": ["createIntegrationHarness", "fn"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/initClassicBattleTest.newFeatures.test.js": {
      "imports": ["vitest", "./initClassicBattleTest.js"],
      "functions": {}
    },
    "tests/helpers/initClassicBattleTest.js": {
      "imports": [],
      "functions": {
        "validateOptions": {
          "calls": [],
          "patterns": []
        },
        "performInit": {
          "calls": ["log", "warn", "__resetClassicBattleBindings", "__ensureClassicBattleBindings"],
          "patterns": []
        },
        "initClassicBattleTest": {
          "calls": [
            "validateOptions",
            "warn",
            "push",
            "hook",
            "performInit",
            "setTimeout",
            "reject",
            "race",
            "shift",
            "resolve",
            "error"
          ],
          "patterns": []
        },
        "initClassicBattleTestWithRetry": {
          "calls": ["initClassicBattleTest", "warn", "setTimeout"],
          "patterns": []
        },
        "isClassicBattleInitialized": {
          "calls": [],
          "patterns": []
        },
        "getInitializationState": {
          "calls": [],
          "patterns": []
        },
        "cleanupClassicBattleTest": {
          "calls": ["__resetClassicBattleBindings", "__clearTestState", "warn"],
          "patterns": []
        },
        "beforeInit": {
          "calls": ["push", "indexOf", "splice"],
          "patterns": []
        },
        "afterInit": {
          "calls": ["push", "indexOf", "splice"],
          "patterns": []
        }
      }
    },
    "tests/helpers/idleCallbackMock.js": {
      "imports": ["vitest"],
      "functions": {
        "installIdleCallbackMock": {
          "calls": [
            "fn",
            "set",
            "now",
            "delete",
            "timeRemaining",
            "onTimeRemainingError",
            "Number",
            "next",
            "entries",
            "buildDeadline",
            "cb",
            "flushNext",
            "push",
            "clear",
            "restoreProperty"
          ],
          "patterns": []
        },
        "buildDeadline": {
          "calls": ["timeRemaining", "onTimeRemainingError", "Number"],
          "patterns": []
        },
        "flushNext": {
          "calls": ["next", "entries", "delete", "now", "buildDeadline", "cb"],
          "patterns": []
        },
        "flushAll": {
          "calls": ["flushNext", "push"],
          "patterns": []
        },
        "restore": {
          "calls": ["clear", "restoreProperty"],
          "patterns": []
        },
        "restoreProperty": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/helpers.test.js": {
      "imports": ["vitest", "../../src/helpers/utils.js"],
      "functions": {}
    },
    "tests/helpers/guardUtils.test.js": {
      "imports": ["vitest", "../../src/helpers/guardUtils.js"],
      "functions": {}
    },
    "tests/helpers/gameModeUtils.test.js": {
      "imports": [
        "vitest",
        "../../src/data/navigationItems.js",
        "../fixtures/navigationItems.js",
        "../fixtures/gameModes.json"
      ],
      "functions": {
        "cloneGameModes": {
          "calls": ["parse", "stringify"],
          "patterns": []
        },
        "setupSchemaFetch": {
          "calls": ["mockResolvedValue", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/focusHandlers.test.js": {
      "imports": ["vitest", "../../src/helpers/carousel/focus.js"],
      "functions": {}
    },
    "tests/helpers/featureFlags.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../../src/config/settingsDefaults.js"],
      "functions": {
        "captureUnhandled": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/errorUtils.test.js": {
      "imports": ["vitest", "../utils/console.js", "../../src/helpers/errorUtils.js"],
      "functions": {
        "fallback": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/engineStatsUpdated.spec.js": {
      "imports": ["vitest", "../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "tests/helpers/drawCardStateMachine.test.js": {
      "imports": ["vitest", "../../src/helpers/drawCardStateMachine.js"],
      "functions": {}
    },
    "tests/helpers/domUtils.js": {
      "imports": [],
      "functions": {
        "mount": {
          "calls": [
            "createElement",
            "setAttribute",
            "appendChild",
            "querySelector",
            "from",
            "querySelectorAll",
            "removeChild"
          ],
          "patterns": []
        },
        "clearBody": {
          "calls": [],
          "patterns": []
        },
        "createEl": {
          "calls": ["createElement", "entries", "setAttribute", "String"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/domReady.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../utils/componentTestUtils.js"],
      "functions": {}
    },
    "tests/helpers/domFactory.js": {
      "imports": ["vitest"],
      "functions": {
        "createStatButton": {
          "calls": ["createElement", "setAttribute", "bind", "fn", "originalClick"],
          "patterns": ["factory"]
        },
        "createSnackbar": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "show": {
          "calls": [],
          "patterns": []
        },
        "hide": {
          "calls": [],
          "patterns": []
        },
        "createScoreboard": {
          "calls": ["createElement", "render"],
          "patterns": ["factory"]
        },
        "updateScore": {
          "calls": ["render"],
          "patterns": []
        },
        "render": {
          "calls": [],
          "patterns": []
        },
        "attachEventSpy": {
          "calls": ["fn", "addEventListener"],
          "patterns": []
        },
        "createButton": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "createDiv": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "withMutedConsole": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/displayMode.test.js": {
      "imports": ["vitest", "../../src/helpers/displayMode.js"],
      "functions": {}
    },
    "tests/helpers/debugFlagPerformance.test.js": {
      "imports": ["vitest", "../../src/helpers/debugFlagPerformance.js"],
      "functions": {}
    },
    "tests/helpers/debugFlagHud.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/debugFlagHud.js",
        "../../src/helpers/debugFlagPerformance.js"
      ],
      "functions": {
        "listener": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/debugClassToggles.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/tooltipOverlayDebug.js",
        "../../src/helpers/settings/featureFlagSwitches.js",
        "../../src/helpers/debugState.js"
      ],
      "functions": {}
    },
    "tests/helpers/dataUtils.test.js": {
      "imports": ["vitest", "../utils/console.js"],
      "functions": {}
    },
    "tests/helpers/createInspectorPanel.test.js": {
      "imports": ["vitest", "./mountInspectorPanel.js", "../utils/componentTestUtils.js"],
      "functions": {}
    },
    "tests/helpers/createCountdownTimer.test.js": {
      "imports": ["vitest", "../../src/helpers/timerUtils.js"],
      "functions": {
        "tick": {
          "calls": ["forEach", "slice", "cb"],
          "patterns": []
        }
      }
    },
    "tests/helpers/createBattleHarness.js": {
      "imports": ["vitest", "./utils/testUtils.js", "./testDataLoader.js"],
      "functions": {
        "createBattleHarness": {
          "calls": [
            "resetDom",
            "getElementById",
            "createElement",
            "setAttribute",
            "appendChild",
            "createMockFetchJson",
            "log",
            "doMock",
            "setupClassicBattlePage",
            "subscribe",
            "push",
            "waitForState",
            "now",
            "resolve",
            "setInterval",
            "clearInterval",
            "reject",
            "join",
            "dispatch",
            "unsubscribeState"
          ],
          "patterns": ["factory"]
        },
        "setup": {
          "calls": [
            "resetDom",
            "getElementById",
            "createElement",
            "setAttribute",
            "appendChild",
            "createMockFetchJson",
            "log",
            "doMock",
            "setupClassicBattlePage",
            "subscribe",
            "push",
            "waitForState"
          ],
          "patterns": []
        },
        "waitForState": {
          "calls": ["now", "resolve", "setInterval", "clearInterval", "reject", "join"],
          "patterns": []
        },
        "getState": {
          "calls": [],
          "patterns": []
        },
        "getOrchestrator": {
          "calls": [],
          "patterns": []
        },
        "getDom": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getStateHistory": {
          "calls": [],
          "patterns": []
        },
        "dispatchEvent": {
          "calls": ["dispatch"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["unsubscribeState", "resetDom"],
          "patterns": []
        }
      }
    },
    "tests/helpers/countrySlider.test.js": {
      "imports": ["vitest", "./components/Button.js", "./integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/countryPanel.test.js": {
      "imports": ["vitest", "../../src/helpers/countryPanel.js", "../utils/componentTestUtils.js"],
      "functions": {
        "setup": {
          "calls": ["querySelector", "getElementById"],
          "patterns": []
        }
      }
    },
    "tests/helpers/countdown.spec.js": {
      "imports": ["vitest", "../../src/helpers/TimerController.js"],
      "functions": {
        "onSecondTick": {
          "calls": ["setTimeout"],
          "patterns": []
        },
        "cancel": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "onTick": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/coreUtils.test.js": {
      "imports": ["vitest", "../../src/helpers/cardRender.js", "../../src/helpers/utils.js"],
      "functions": {}
    },
    "tests/helpers/cooldown.autoAdvance.spec.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/cooldowns.js"],
      "functions": {}
    },
    "tests/helpers/colorContrast.test.js": {
      "imports": [
        "vitest",
        "fs",
        "path",
        "wcag-contrast",
        "jsdom",
        "postcss",
        "../../src/components/JudokaCard.js",
        "./parseCssVars.js"
      ],
      "functions": {
        "readCss": {
          "calls": ["readFileSync", "resolve"],
          "patterns": []
        },
        "resolveColorValue": {
          "calls": ["trim", "match", "has", "warn", "resolveColorValue", "add", "delete"],
          "patterns": []
        },
        "readComponentsCss": {
          "calls": ["readCss", "exec", "resolve", "readFileSync"],
          "patterns": []
        },
        "parseComponentStyles": {
          "calls": [
            "readComponentsCss",
            "parse",
            "map",
            "walkRules",
            "walkDecls",
            "startsWith",
            "trim",
            "get",
            "fromEntries",
            "entries",
            "resolveColorValue"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattlePage.syncScoreDisplay.test.js": {
      "imports": ["vitest", "../utils/testUtils.js"],
      "functions": {}
    },
    "tests/helpers/classicBattleHomeLink.constants.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattleBindings.idempotent.test.js": {
      "imports": ["vitest"],
      "functions": {
        "createListenerTracker": {
          "calls": [
            "restoreListeners",
            "bind",
            "get",
            "add",
            "set",
            "originalAdd",
            "originalRemove",
            "delete",
            "sort",
            "map",
            "from",
            "entries",
            "localeCompare"
          ],
          "patterns": ["factory"]
        },
        "restoreListeners": {
          "calls": [],
          "patterns": []
        },
        "assignInstrumentedTarget": {
          "calls": ["instrument", "cleanup"],
          "patterns": []
        },
        "ensureTargetBound": {
          "calls": ["getBattleEventTarget"],
          "patterns": []
        },
        "buttonSnapshot": {
          "calls": ["from", "querySelectorAll", "trim"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle.test.js": {
      "imports": ["vitest", "../../src/helpers/battle/battleUI.js"],
      "functions": {}
    },
    "tests/helpers/changeLogPage.test.js": {
      "imports": ["vitest", "./domUtils.js", "./integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/carouselController.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../utils/componentTestUtils.js"],
      "functions": {}
    },
    "tests/helpers/carouselBuilder.test.js": {
      "imports": ["vitest", "../utils/console.js", "../../src/helpers/carouselBuilder.js"],
      "functions": {}
    },
    "tests/helpers/cardUtils.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/cardUtils.js",
        "../../src/helpers/judokaValidation.js"
      ],
      "functions": {}
    },
    "tests/helpers/cardRender.test.js": {
      "imports": ["vitest", "../../src/helpers/cardRender.js"],
      "functions": {
        "parseHtmlFragment": {
          "calls": ["createElement"],
          "patterns": []
        }
      }
    },
    "tests/helpers/cardComponent.test.js": {
      "imports": ["vitest", "../../src/components/Card.js"],
      "functions": {}
    },
    "tests/helpers/cardCode.test.js": {
      "imports": ["vitest", "../../src/helpers/cardCode.js"],
      "functions": {}
    },
    "tests/helpers/cardBuilder.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/cardRender.js",
        "../../src/helpers/carousel/scroll.js",
        "../../src/helpers/cardBuilder.js",
        "../utils/console.js",
        "../utils/componentTestUtils.js"
      ],
      "functions": {
        "parseHtmlFragment": {
          "calls": ["createElement"],
          "patterns": []
        }
      }
    },
    "tests/helpers/buttonComponent.test.js": {
      "imports": ["vitest", "../../src/components/Button.js"],
      "functions": {}
    },
    "tests/helpers/browseJudokaPage.test.js": {
      "imports": [
        "vitest",
        "node:fs/promises",
        "node:path",
        "jsdom",
        "./integrationHarness.js",
        "../utils/componentTestUtils.js"
      ],
      "functions": {
        "makeOption": {
          "calls": [
            "createElement",
            "replace",
            "toLowerCase",
            "setAttribute",
            "appendChild",
            "append"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleTestUtils.js": {
      "imports": ["../utils/battleStoreAccess.js"],
      "functions": {
        "_resetForTest": {
          "calls": ["getBattleStore", "_resetForTest"],
          "patterns": []
        },
        "setTieRound": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleStateProgress.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/battleStateIndicator.test.js": {
      "imports": ["jsdom", "vitest", "../../src/helpers/battleStateIndicator"],
      "functions": {}
    },
    "tests/helpers/battleScoreboard.waiting.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/battleEvents.js", "./domUtils.js"],
      "functions": {
        "createTrackedScheduler": {
          "calls": ["fn", "Symbol", "push", "sort", "findIndex", "splice", "shift", "cb"],
          "patterns": ["factory"]
        },
        "tick": {
          "calls": ["sort", "shift", "cb"],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleScoreboard.ordering.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/battleEvents.js",
        "./domUtils.js",
        "../helpers/domFactory.js"
      ],
      "functions": {}
    },
    "tests/helpers/battleScoreboard.event-sequences.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/battleEvents.js",
        "./domUtils.js",
        "../setup/fakeTimers.js"
      ],
      "functions": {
        "mountScoreboardDom": {
          "calls": ["mount", "createElement", "createScoreboard", "appendChild"],
          "patterns": []
        },
        "snapshot": {
          "calls": ["querySelector", "trim", "replace", "getElementById"],
          "patterns": []
        },
        "dispatchSequence": {
          "calls": ["emitBattleEvent", "snapshot"],
          "patterns": []
        },
        "createAnimationScheduler": {
          "calls": [
            "setTimeout",
            "clearTimeout",
            "fn",
            "set",
            "delete",
            "values",
            "clear",
            "forEach",
            "cb"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/battleScoreboard.dom-contract.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/battleEvents.js", "./domUtils.js"],
      "functions": {}
    },
    "tests/helpers/battleScoreboard.authority.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/battleEvents.js", "./domUtils.js"],
      "functions": {}
    },
    "tests/helpers/battleScoreboard.animation-interruption.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/battleEvents.js", "./domUtils.js"],
      "functions": {
        "createAnimationScheduler": {
          "calls": ["fn", "Symbol", "set", "delete", "sort", "keys", "get", "callback"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/battleScoreboard.adapter.prd.test.js": {
      "imports": ["vitest", "../../src/helpers/classicBattle/battleEvents.js", "./domUtils.js"],
      "functions": {}
    },
    "tests/helpers/battleHeaderEllipsis.test.js": {
      "imports": ["vitest", "fs", "postcss"],
      "functions": {
        "hasEllipsisRule": {
          "calls": ["parse", "walkAtRules", "test", "walkRules", "match", "find"],
          "patterns": []
        },
        "hasWrapRule": {
          "calls": ["parse", "walkRules", "match", "find", "test"],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleEngineTimer.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/battleEngineFacade.test.js": {
      "imports": ["vitest"],
      "functions": {
        "mockTimerController": {
          "calls": ["fn", "mockReturnValue", "mockImplementation"],
          "patterns": []
        },
        "withProcessEnv": {
          "calls": ["entries", "callback", "finally", "restore"],
          "patterns": []
        },
        "restore": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleEngineFacade.onEngineCreatedExisting.test.js": {
      "imports": ["vitest"],
      "functions": {
        "mockTimerController": {
          "calls": ["fn", "mockReturnValue", "mockImplementation"],
          "patterns": []
        }
      }
    },
    "tests/helpers/battleEngine.pointsToWin.test.js": {
      "imports": ["vitest", "../../src/helpers/constants.js", "../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "tests/helpers/autoSelectStat.min.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/autoSelectHelper.test.js": {
      "imports": ["vitest", "../../playwright/helpers/autoSelectHelper.js"],
      "functions": {}
    },
    "tests/helpers/appendCards.test.js": {
      "imports": ["vitest", "./integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/addHoverZoomMarkers.test.js": {
      "imports": [
        "vitest",
        "../utils/componentTestUtils.js",
        "../../src/helpers/setupHoverZoom.js"
      ],
      "functions": {
        "renderCarouselCard": {
          "calls": ["createTestCarousel", "createElement", "appendChild"],
          "patterns": []
        }
      }
    },
    "tests/helpers/TimerController.fallback.test.js": {
      "imports": ["vitest", "../../src/helpers/fallbackCountdown.js"],
      "functions": {}
    },
    "tests/helpers/TimerController.drift.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../../src/helpers/TimerController.js"],
      "functions": {
        "onSecondTick": {
          "calls": ["set"],
          "patterns": []
        },
        "cancel": {
          "calls": ["delete"],
          "patterns": []
        }
      }
    },
    "tests/helpers/SnackbarManager.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../../src/helpers/SnackbarManager.js"],
      "functions": {}
    },
    "tests/helpers/CooldownRenderer.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/CooldownRenderer.js",
        "../../src/helpers/classicBattle/battleEvents.js",
        "../../src/helpers/setupScoreboard.js"
      ],
      "functions": {
        "createDeterministicScheduler": {
          "calls": [
            "set",
            "delete",
            "reduce",
            "from",
            "entries",
            "fn",
            "runNextTask",
            "map",
            "values"
          ],
          "patterns": ["factory"]
        },
        "schedule": {
          "calls": ["set"],
          "patterns": []
        },
        "clear": {
          "calls": ["delete"],
          "patterns": []
        },
        "runNextTask": {
          "calls": ["reduce", "from", "entries", "delete", "fn"],
          "patterns": []
        },
        "now": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/BattleEngine.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/index.js",
        "../setup/fakeTimers.js",
        "../../src/helpers/constants.js",
        "../../src/helpers/battle/engineTimer.js",
        "../../src/helpers/events/SimpleEmitter.js"
      ],
      "functions": {}
    },
    "tests/cli/statDisplay.spec.js": {
      "imports": [
        "vitest",
        "../../src/helpers/BattleEngine.js",
        "../../src/components/StatsPanel.js"
      ],
      "functions": {}
    },
    "tests/cli/selectStatLocking.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/cli/commandHistory.test.js": {
      "imports": ["vitest"],
      "functions": {
        "seedStatRows": {
          "calls": [
            "getElementById",
            "setAttribute",
            "forEach",
            "createElement",
            "String",
            "appendChild"
          ],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/validateSelectionState.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/classicBattle/selectionHandler.js",
        "../../src/helpers/classicBattle/battleEvents.js",
        "../../src/helpers/classicBattle/eventBus.js"
      ],
      "functions": {}
    },
    "tests/classicBattle/uiEventBinding.test.js": {
      "imports": ["vitest", "jsdom", "../utils/console.js"],
      "functions": {}
    },
    "tests/classicBattle/timer.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "installMockBattleMachine": {
          "calls": ["previousDebugReader"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/statButtons.test.js": {
      "imports": [
        "vitest",
        "../../src/utils/scheduler.js",
        "jsdom",
        "../../src/pages/battleClassic.init.js"
      ],
      "functions": {}
    },
    "tests/classicBattle/round-selectFallback.test.js": {
      "imports": ["node:fs", "vitest"],
      "functions": {
        "getBattleClassicHtml": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        },
        "flushMicrotasks": {
          "calls": ["resolve"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/round-select.test.js": {
      "imports": ["node:fs", "vitest", "../../src/helpers/testModeUtils.js"],
      "functions": {
        "getHtmlContent": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/resolution.test.js": {
      "imports": ["vitest", "../helpers/integrationHarness.js", "../../src/utils/scheduler.js"],
      "functions": {
        "readFromStore": {
          "calls": ["isFinite", "Number"],
          "patterns": []
        },
        "readFromDom": {
          "calls": ["querySelectorAll", "Number", "isFinite"],
          "patterns": []
        },
        "renderCard": {
          "calls": ["join", "map"],
          "patterns": []
        },
        "setupDom": {
          "calls": ["renderCard"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/quit-flow.test.js": {
      "imports": ["node:fs", "vitest"],
      "functions": {
        "getHtmlContent": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/page-scaffold.test.js": {
      "imports": [
        "vitest",
        "../../src/utils/scheduler.js",
        "../helpers/classicBattle/setupTestEnv.js",
        "../../src/helpers/timerUtils.js",
        "../../src/helpers/battle/battleUI.js"
      ],
      "functions": {
        "composite": {
          "calls": ["existing", "handler"],
          "patterns": []
        },
        "notifyEngineCreated": {
          "calls": ["listener"],
          "patterns": []
        },
        "resetReadyPromise": {
          "calls": [],
          "patterns": []
        },
        "attachButtonHandlers": {
          "calls": [
            "getElementById",
            "from",
            "querySelectorAll",
            "removeAttribute",
            "onSelect",
            "setAttribute",
            "resolveReady",
            "disable",
            "isArray",
            "filter",
            "clear",
            "has",
            "add",
            "delete",
            "get",
            "removeEventListener",
            "handleSelection",
            "finally",
            "set",
            "addEventListener"
          ],
          "patterns": []
        },
        "handleSelection": {
          "calls": ["onSelect", "setAttribute", "resolveReady", "disable"],
          "patterns": []
        },
        "listener": {
          "calls": ["handleSelection", "finally", "get", "delete"],
          "patterns": []
        },
        "resolve": {
          "calls": ["resolver", "resolve", "forEach"],
          "patterns": []
        },
        "findStatButtons": {
          "calls": ["from", "querySelectorAll"],
          "patterns": []
        },
        "findStatContainers": {
          "calls": ["from", "querySelectorAll", "forEach", "closest", "add"],
          "patterns": []
        },
        "selectPrimaryContainer": {
          "calls": ["forEach", "querySelectorAll", "remove"],
          "patterns": []
        },
        "createReadyState": {
          "calls": ["forEach", "resolver", "resolve"],
          "patterns": ["factory"]
        },
        "setPending": {
          "calls": ["forEach"],
          "patterns": []
        },
        "setButtonsDisabled": {
          "calls": ["forEach", "removeAttribute"],
          "patterns": []
        },
        "preventDisabledEvent": {
          "calls": ["preventDefault", "stopImmediatePropagation", "stopPropagation"],
          "patterns": []
        },
        "createCleanupHandler": {
          "calls": ["reverse", "splice", "forEach", "fn"],
          "patterns": ["factory"]
        },
        "tryModernDescriptor": {
          "calls": ["getAssignedClick", "setAssignedClick", "defineProperty", "push"],
          "patterns": []
        },
        "restoreLegacyAccessors": {
          "calls": ["__defineGetter__", "__defineSetter__"],
          "patterns": []
        },
        "tryLegacyAccessors": {
          "calls": [
            "__lookupGetter__",
            "__lookupSetter__",
            "__defineGetter__",
            "call",
            "getAssignedClick",
            "__defineSetter__",
            "setAssignedClick",
            "push",
            "restoreLegacyAccessors"
          ],
          "patterns": []
        },
        "handleDirectAssignment": {
          "calls": ["setAssignedClick", "push", "getAssignedClick"],
          "patterns": []
        },
        "installOnclickTracker": {
          "calls": [
            "tryModernDescriptor",
            "createCleanupHandler",
            "tryLegacyAccessors",
            "handleDirectAssignment"
          ],
          "patterns": []
        },
        "cleanupDetachFns": {
          "calls": ["forEach", "fn"],
          "patterns": []
        },
        "initializeOnclickState": {
          "calls": ["installOnclickTracker", "setAssignedClick"],
          "patterns": []
        },
        "getAssignedClick": {
          "calls": [],
          "patterns": []
        },
        "setAssignedClick": {
          "calls": [],
          "patterns": []
        },
        "createRunSelection": {
          "calls": ["preventDefault", "getAttribute", "handler", "current", "emitBattleEvent"],
          "patterns": ["factory"]
        },
        "createProxyClick": {
          "calls": ["runSelection", "getAssignedClick", "call"],
          "patterns": ["factory"]
        },
        "createButtonListener": {
          "calls": ["preventDisabledEvent", "getAssignedClick", "setAssignedClick", "proxyClick"],
          "patterns": ["factory"]
        },
        "registerSingleButton": {
          "calls": [
            "initializeOnclickState",
            "createRunSelection",
            "createProxyClick",
            "createButtonListener",
            "addEventListener",
            "push",
            "removeEventListener",
            "restoreOnclick",
            "getAssignedClick"
          ],
          "patterns": []
        },
        "createAttachState": {
          "calls": [],
          "patterns": ["factory"]
        },
        "registerAllButtons": {
          "calls": ["forEach", "registerSingleButton"],
          "patterns": []
        },
        "createDetachHandler": {
          "calls": ["splice", "cleanupDetachFns"],
          "patterns": ["factory"]
        },
        "createButtonLifecycle": {
          "calls": [
            "createAttachState",
            "registerAllButtons",
            "cleanupDetachFns",
            "createDetachHandler",
            "run"
          ],
          "patterns": ["factory"]
        },
        "attach": {
          "calls": [
            "createAttachState",
            "registerAllButtons",
            "cleanupDetachFns",
            "createDetachHandler"
          ],
          "patterns": []
        },
        "detach": {
          "calls": ["run"],
          "patterns": []
        },
        "createEmptyStatControls": {
          "calls": ["fn", "resolve"],
          "patterns": ["factory"]
        },
        "createStatButtonControls": {
          "calls": [
            "createReadyState",
            "createButtonLifecycle",
            "fn",
            "setButtonsDisabled",
            "setPending",
            "detach",
            "attach",
            "resolve",
            "disable"
          ],
          "patterns": ["factory"]
        },
        "stubGlobal": {
          "calls": [],
          "patterns": []
        },
        "captureMicrotaskQueue": {
          "calls": ["stubGlobal", "push", "splice", "callback", "restoreQueueMicrotask"],
          "patterns": []
        },
        "drain": {
          "calls": ["splice", "callback"],
          "patterns": []
        },
        "ensureElement": {
          "calls": ["getElementById", "createElement", "appendChild", "contains", "initializer"],
          "patterns": []
        },
        "mountScaffoldDom": {
          "calls": [
            "createElement",
            "appendChild",
            "querySelector",
            "setAttribute",
            "append",
            "prepend",
            "ensureElement",
            "removeAttribute"
          ],
          "patterns": []
        },
        "initBattle": {
          "calls": [
            "createElement",
            "append",
            "initClassicBattleTest",
            "createBattleStore",
            "setupNextButton",
            "initStatButtons",
            "toHaveBeenCalled",
            "expect",
            "startRound",
            "toBe",
            "at"
          ],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/opponent-message-handler.improved.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "../../src/helpers/showSnackbar.js",
        "../../src/helpers/classicBattle/snackbar.js",
        "../../src/helpers/classicBattle/uiEventHandlers.js",
        "../../src/helpers/classicBattle/battleEvents.js",
        "../../src/helpers/classicBattle/opponentController.js",
        "../../src/helpers/classicBattle/opponentPromptTracker.js",
        "../../src/helpers/classicBattle/uiHelpers.js",
        "../../src/helpers/classicBattle/debugPanel.js",
        "../../src/helpers/setupScoreboard.js"
      ],
      "functions": {}
    },
    "tests/classicBattle/opponent-delay-behavior.test.js": {
      "imports": ["vitest", "../helpers/integrationHarness.js", "../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/classicBattle/init-complete.test.js": {
      "imports": ["vitest", "jsdom", "fs", "../../src/pages/battleClassic.init.js"],
      "functions": {
        "getHtmlContentInit": {
          "calls": ["cwd", "readFileSync"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/eventDispatcher.stdout.test.js": {
      "imports": ["vitest", "../helpers/integrationHarness.js", "../utils/process.js"],
      "functions": {}
    },
    "tests/classicBattle/eventDispatcher.machineGetter.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../utils/console.js"],
      "functions": {}
    },
    "tests/classicBattle/end-modal.test.js": {
      "imports": ["node:fs", "vitest", "../setup/fakeTimers.js"],
      "functions": {
        "getHtmlContent": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/element-identity.test.js": {
      "imports": ["node:fs", "vitest"],
      "functions": {
        "getHtmlContent": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/cooldown.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js", "../helpers/integrationHarness.js"],
      "functions": {}
    },
    "tests/classicBattle/cooldown-suppression.test.js": {
      "imports": ["vitest", "../helpers/integrationHarness.js"],
      "functions": {}
    },
    "tests/classicBattle/bootstrap.test.js": {
      "imports": ["node:fs", "vitest"],
      "functions": {
        "getBattleClassicHtml": {
          "calls": ["readFileSync", "cwd"],
          "patterns": []
        }
      }
    },
    "tests/classicBattle/autoSelectHandlers.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/carousel/metrics.test.js": {
      "imports": ["vitest", "../../src/helpers/carousel/metrics.js"],
      "functions": {
        "makeCard": {
          "calls": ["createElement", "defineProperty"],
          "patterns": []
        },
        "setClientWidth": {
          "calls": ["defineProperty"],
          "patterns": []
        }
      }
    },
    "tests/card/judokaZeroId.test.js": {
      "imports": ["../../src/components/JudokaCard.js"],
      "functions": {}
    },
    "tests/card/judokaCardWeightClass.test.js": {
      "imports": [
        "vitest",
        "../../src/helpers/cardSections.js",
        "../../src/helpers/cardRender.js",
        "../../src/helpers/cardTopBar.js",
        "../utils/console.js"
      ],
      "functions": {}
    },
    "tests/card/judokaCardSignatureMove.test.js": {
      "imports": ["../../src/components/JudokaCard.js"],
      "functions": {}
    },
    "tests/card/judokaCardInspector.test.js": {
      "imports": ["vitest", "../../src/components/JudokaCard.js"],
      "functions": {}
    },
    "tests/card/judokaCardHtmlFallback.test.js": {
      "imports": [
        "vitest",
        "../../src/components/JudokaCard.js",
        "../utils/console.js",
        "../../src/helpers/cardRender.js",
        "../../src/components/StatsPanel.js"
      ],
      "functions": {}
    },
    "tests/card/judokaCardFlip.test.js": {
      "imports": ["vitest", "../../src/components/JudokaCard.js", "../utils/componentTestUtils.js"],
      "functions": {}
    },
    "tests/card/judokaCardAccessibility.test.js": {
      "imports": ["../../src/components/JudokaCard.js"],
      "functions": {}
    },
    "tests/card/epicCardBadge.test.js": {
      "imports": ["vitest", "../../src/components/EpicCard.js"],
      "functions": {}
    },
    "tests/card/cardTopBar.test.js": {
      "imports": ["vitest", "../../src/utils/countryCodes.js", "../../src/helpers/cardTopBar.js"],
      "functions": {}
    },
    "tests/accessibility/statButtons.aria.test.js": {
      "imports": ["vitest", "../../src/helpers/BattleEngine.js", "../utils/componentTestUtils.js"],
      "functions": {}
    },
    "src/pages/battleCLI/testSupport.js": {
      "imports": [],
      "functions": {
        "coerceScoreForTest": {
          "calls": ["isFinite", "Number", "isNaN"],
          "patterns": []
        },
        "normalizeRoundDetailForTest": {
          "calls": ["coerceScoreForTest", "getStore"],
          "patterns": []
        },
        "waitForNextFrameForTest": {
          "calls": ["requestAnimationFrame", "resolve"],
          "patterns": []
        },
        "ensureOpponentCardVisibleForTest": {
          "calls": ["now", "getElementById", "contains", "waitForNextFrameForTest"],
          "patterns": []
        },
        "removeOpponentHiddenClass": {
          "calls": ["getElementById", "remove"],
          "patterns": []
        },
        "handleOpponentRevealForTest": {
          "calls": [
            "emitOpponentReveal",
            "waitForNextFrameForTest",
            "removeOpponentHiddenClass",
            "ensureOpponentCardVisibleForTest",
            "logDebug"
          ],
          "patterns": []
        },
        "handleDispatchForTest": {
          "calls": ["dispatch", "logDebug"],
          "patterns": []
        },
        "handleEmitForTest": {
          "calls": ["emit", "logDebug"],
          "patterns": []
        },
        "resolveRoundForTest": {
          "calls": [
            "normalizeRoundDetailForTest",
            "debug",
            "handleOpponentRevealForTest",
            "handleDispatchForTest",
            "handleEmitForTest"
          ],
          "patterns": []
        },
        "logDebug": {
          "calls": ["debug"],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI/state.js": {
      "imports": [],
      "functions": {
        "getEscapeHandledPromise": {
          "calls": [],
          "patterns": []
        },
        "resolveEscapeHandled": {
          "calls": ["escapeHandledResolve"],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI/init.js": {
      "imports": [
        "../../helpers/classicBattle/roundManager.js",
        "../../helpers/classicBattle/orchestrator.js",
        "../../helpers/classicBattle/battleEvents.js",
        "../../helpers/BattleEngine.js",
        "../../data/statNames.js",
        "../../helpers/dataUtils.js",
        "../../components/Modal.js",
        "../../components/Button.js",
        "../../helpers/showSnackbar.js",
        "../../helpers/detailsToggle.js",
        "../../helpers/featureFlags.js",
        "../../helpers/debugFlagHud.js",
        "../../helpers/classicBattle/uiHelpers.js",
        "../../helpers/classicBattle/battleDebug.js",
        "../../helpers/classicBattle/autoSelectStat.js",
        "../../helpers/timers/createRoundTimer.js",
        "../../helpers/testModeUtils.js",
        "../../helpers/storage.js",
        "../../config/storageKeys.js",
        "../../config/battleDefaults.js",
        "../../helpers/classicBattle/debugHooks.js",
        "../../helpers/classicBattle/orchestratorHandlers.js",
        "../../helpers/classicBattle/roundSelectModal.js",
        "../../helpers/classicBattle/stateTransitionListeners.js",
        "../../helpers/classicBattle/roundUI.js",
        "../../helpers/classicBattle/roundFlowController.js",
        "../../helpers/testApi.js",
        "../../helpers/setupScoreboard.js",
        "../../helpers/battleScoreboard.js",
        "../../helpers/classicBattle/stateCatalog.js",
        "./state.js",
        "./events.js",
        "./battleHandlers.js",
        "./dom.js",
        "./cliDomTemplate.js",
        "./testSupport.js"
      ],
      "functions": {
        "getSafeDocument": {
          "calls": [],
          "patterns": []
        },
        "getActiveElement": {
          "calls": ["getSafeDocument"],
          "patterns": []
        },
        "handleShortcutsToggle": {
          "calls": ["byId", "setAttribute", "setItem", "pauseTimers", "resumeTimers", "focus"],
          "patterns": []
        },
        "handleGlobalEscape": {
          "calls": [
            "hideCliShortcuts",
            "from",
            "querySelectorAll",
            "at",
            "dispatchEvent",
            "close",
            "queueMicrotask",
            "resolveEscapeHandled",
            "then",
            "resolve"
          ],
          "patterns": []
        },
        "disposeClassicBattleOrchestrator": {
          "calls": ["disposeClassicBattleOrchestrator"],
          "patterns": []
        },
        "safeGetPointsToWinFromStorage": {
          "calls": ["getItem", "Number", "isFinite", "isInteger", "String"],
          "patterns": []
        },
        "safeDispatch": {
          "calls": [
            "parse",
            "getItem",
            "push",
            "toISOString",
            "shift",
            "setItem",
            "stringify",
            "log",
            "debugLog",
            "readDebugState",
            "getter",
            "dispatch",
            "fn"
          ],
          "patterns": []
        },
        "debugLog": {
          "calls": [
            "parse",
            "getItem",
            "push",
            "toISOString",
            "shift",
            "setItem",
            "stringify",
            "log"
          ],
          "patterns": []
        },
        "getMachine": {
          "calls": ["readDebugState", "getter"],
          "patterns": []
        },
        "applyScanlinesFromFlags": {
          "calls": [],
          "patterns": []
        },
        "updateVerboseFromFlags": {
          "calls": [],
          "patterns": []
        },
        "getCliShortcutsEnabled": {
          "calls": ["isEnabled"],
          "patterns": []
        },
        "updateShortcutsFallback": {
          "calls": ["byId", "removeAttribute", "setAttribute"],
          "patterns": []
        },
        "handleShortcutsCloseClick": {
          "calls": ["preventDefault", "byId", "querySelector", "hideCliShortcuts"],
          "patterns": []
        },
        "handleVerboseToggleChange": {
          "calls": ["byId", "toggleVerboseFromFlags"],
          "patterns": []
        },
        "handleFeatureFlagsChange": {
          "calls": [
            "isEnabled",
            "Number",
            "byId",
            "updateRoundHeader",
            "getPointsToWin",
            "updateVerboseFromFlags",
            "updateStateBadgeVisibility",
            "updateCliShortcutsVisibility",
            "updateControlsHint",
            "applyScanlinesFromFlags",
            "refreshVerboseScrollIndicators"
          ],
          "patterns": []
        },
        "cleanupFlagsListeners": {
          "calls": ["forEach", "cleanup"],
          "patterns": []
        },
        "wireFlagsListeners": {
          "calls": ["byId", "addEventListener", "push", "removeEventListener"],
          "patterns": []
        },
        "focusMainRegion": {
          "calls": ["byId", "hasAttribute", "setAttribute", "focus"],
          "patterns": []
        },
        "bindSkipLinkFocusTarget": {
          "calls": ["querySelector", "focusMainRegion", "preventDefault", "addEventListener"],
          "patterns": []
        },
        "handleSkipLinkActivate": {
          "calls": ["focusMainRegion", "preventDefault"],
          "patterns": []
        },
        "ensureCliDomForTest": {
          "calls": [
            "getElementById",
            "createCliDomFragment",
            "replaceChildren",
            "normalizeShortcutCopy",
            "updateControlsHint",
            "ensureVerboseScrollHandling",
            "keys",
            "querySelector",
            "removeAttribute",
            "bindSkipLinkFocusTarget"
          ],
          "patterns": []
        },
        "resolveRoundForTest": {
          "calls": ["resolveRoundForTestHelper", "safeDispatch", "emitBattleEvent"],
          "patterns": []
        },
        "ensureVerboseSectionForTest": {
          "calls": ["byId", "ensureVerboseScrollHandling"],
          "patterns": []
        },
        "appendTranscriptForTest": {
          "calls": [
            "isArray",
            "ensureVerboseSectionForTest",
            "normalizeTranscriptEntryForTest",
            "logStateChange",
            "push"
          ],
          "patterns": []
        },
        "normalizeTranscriptEntryForTest": {
          "calls": ["String"],
          "patterns": []
        },
        "resetMatch": {
          "calls": [
            "resetBattleEventDedupeState",
            "stopSelectionCountdown",
            "handleCountdownFinished",
            "clearVerboseLog",
            "remove",
            "getElementById",
            "updateRoundHeader",
            "getPointsToWin",
            "updateScoreLine",
            "setRoundMessage",
            "byId",
            "forEach",
            "querySelectorAll",
            "setAttribute",
            "initSeed",
            "safeGetPointsToWinFromStorage",
            "warn",
            "disposeClassicBattleOrchestrator",
            "resetGame",
            "then",
            "initClassicBattleOrchestrator",
            "error",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "startCallback": {
          "calls": [],
          "patterns": []
        },
        "triggerMatchStart": {
          "calls": [
            "emitBattleEvent",
            "readDebugState",
            "getter",
            "dispatch",
            "safeDispatch",
            "Boolean",
            "warn",
            "setTimeout",
            "wait",
            "debug"
          ],
          "patterns": []
        },
        "wait": {
          "calls": ["setTimeout"],
          "patterns": []
        },
        "announceMatchReady": {
          "calls": ["showSnackbar", "byId", "hasAttribute", "setAttribute", "focus"],
          "patterns": []
        },
        "initSeed": {
          "calls": [
            "byId",
            "get",
            "getItem",
            "setTestMode",
            "setItem",
            "String",
            "Number",
            "isNaN",
            "apply",
            "addEventListener",
            "trim",
            "removeItem"
          ],
          "patterns": []
        },
        "apply": {
          "calls": ["setTestMode", "setItem", "String"],
          "patterns": []
        },
        "updateStateBadgeVisibility": {
          "calls": ["byId", "isEnabled"],
          "patterns": []
        },
        "updateCliShortcutsVisibility": {
          "calls": [
            "byId",
            "getItem",
            "debug",
            "isEnabled",
            "setDetailsOpen",
            "setItem",
            "updateShortcutsFallback",
            "updateControlsHint"
          ],
          "patterns": []
        },
        "showCliShortcuts": {
          "calls": ["byId", "setDetailsOpen", "dispatchEvent"],
          "patterns": []
        },
        "hideCliShortcuts": {
          "calls": ["byId", "setDetailsOpen", "focus", "dispatchEvent"],
          "patterns": []
        },
        "showBottomLine": {
          "calls": ["showSnackbar"],
          "patterns": []
        },
        "sanitizeHintText": {
          "calls": ["slice", "replace"],
          "patterns": []
        },
        "showHint": {
          "calls": ["showSnackbar", "sanitizeHintText"],
          "patterns": []
        },
        "ensureModalContainer": {
          "calls": ["byId", "createElement", "appendChild"],
          "patterns": []
        },
        "pauseTimer": {
          "calls": [
            "stop",
            "clearTimeout",
            "clearInterval",
            "byId",
            "Number",
            "querySelector",
            "match"
          ],
          "patterns": []
        },
        "pauseTimers": {
          "calls": ["log", "pauseTimer"],
          "patterns": []
        },
        "resumeTimers": {
          "calls": [
            "log",
            "startSelectionCountdown",
            "showBottomLine",
            "setInterval",
            "setTimeout",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "showQuitModal": {
          "calls": [
            "pauseTimers",
            "createElement",
            "createButton",
            "append",
            "createDocumentFragment",
            "createModal",
            "addEventListener",
            "resumeTimers",
            "close",
            "clearBottomLine",
            "safeDispatch",
            "appendChild",
            "ensureModalContainer",
            "open"
          ],
          "patterns": []
        },
        "clearBottomLine": {
          "calls": ["showBottomLine"],
          "patterns": []
        },
        "stopSelectionCountdown": {
          "calls": ["off", "clearTimeout", "clearInterval", "byId", "now"],
          "patterns": []
        },
        "clearStoreTimer": {
          "calls": ["clearTimeout", "clearInterval", "error"],
          "patterns": []
        },
        "recordCommandHistory": {
          "calls": ["parse", "getItem", "isArray", "push", "shift", "setItem", "stringify", "log"],
          "patterns": []
        },
        "selectStat": {
          "calls": [
            "parse",
            "getItem",
            "push",
            "toISOString",
            "shift",
            "setItem",
            "stringify",
            "clearHistoryPreview",
            "stopSelectionCountdown",
            "clearStoreTimer",
            "byId",
            "forEach",
            "querySelectorAll",
            "remove",
            "setAttribute",
            "indexOf",
            "String",
            "querySelector",
            "add",
            "getActiveElement",
            "contains",
            "focus",
            "error",
            "log",
            "recordCommandHistory",
            "showBottomLine",
            "toUpperCase",
            "charAt",
            "slice",
            "emitBattleEvent",
            "resolve",
            "safeDispatch"
          ],
          "patterns": []
        },
        "startSelectionCountdown": {
          "calls": [
            "byId",
            "stopSelectionCountdown",
            "Number",
            "isFinite",
            "max",
            "round",
            "isEnabled",
            "autoSelectStat",
            "emitBattleEvent",
            "String",
            "setCountdown",
            "applyCountdownText",
            "createRoundTimer",
            "finish",
            "on",
            "start",
            "setInterval"
          ],
          "patterns": []
        },
        "finish": {
          "calls": ["stopSelectionCountdown", "isEnabled", "autoSelectStat", "emitBattleEvent"],
          "patterns": []
        },
        "applyCountdownText": {
          "calls": ["String"],
          "patterns": []
        },
        "autostartBattle": {
          "calls": ["get", "set", "replaceState", "triggerMatchStart"],
          "patterns": []
        },
        "setActiveStatRow": {
          "calls": [
            "byId",
            "from",
            "querySelectorAll",
            "forEach",
            "setAttribute",
            "indexOf",
            "focus"
          ],
          "patterns": []
        },
        "handleStatListArrowKey": {
          "calls": [
            "clearHistoryPreview",
            "byId",
            "from",
            "querySelectorAll",
            "getActiveElement",
            "closest",
            "indexOf",
            "setActiveStatRow"
          ],
          "patterns": []
        },
        "loadStatDefs": {
          "calls": ["fetchJson", "isArray"],
          "patterns": []
        },
        "buildStatRows": {
          "calls": [
            "forEach",
            "sort",
            "slice",
            "Number",
            "createElement",
            "setAttribute",
            "String",
            "isFinite",
            "push"
          ],
          "patterns": []
        },
        "renderHelpMapping": {
          "calls": [
            "byId",
            "error",
            "join",
            "map",
            "sort",
            "slice",
            "createElement",
            "appendChild"
          ],
          "patterns": []
        },
        "normalizeShortcutCopy": {
          "calls": [
            "replace",
            "byId",
            "querySelector",
            "replaceRangeToken",
            "createTreeWalker",
            "nextNode"
          ],
          "patterns": []
        },
        "replaceRangeToken": {
          "calls": ["replace"],
          "patterns": []
        },
        "updateControlsHint": {
          "calls": [
            "byId",
            "isEnabled",
            "querySelectorAll",
            "forEach",
            "trim",
            "split",
            "every",
            "remove",
            "removeAttribute",
            "add",
            "setAttribute",
            "updateShortcutsFallback"
          ],
          "patterns": []
        },
        "handleStatListClick": {
          "calls": ["byId", "closest", "contains", "setActiveStatRow", "handleStatClick"],
          "patterns": []
        },
        "handleStatClick": {
          "calls": [
            "getSafeDocument",
            "parse",
            "getItem",
            "push",
            "shift",
            "setItem",
            "stringify",
            "preventDefault",
            "getStatByIndex",
            "selectStat"
          ],
          "patterns": []
        },
        "ensureStatClickBinding": {
          "calls": ["has", "addEventListener", "add"],
          "patterns": []
        },
        "getStatRowByKey": {
          "calls": ["byId", "querySelector"],
          "patterns": []
        },
        "captureHistoryAnchorStat": {
          "calls": ["byId", "querySelector", "getAttribute", "closest", "getActiveElement"],
          "patterns": []
        },
        "applyHistoryPreview": {
          "calls": [
            "byId",
            "querySelector",
            "remove",
            "getStatRowByKey",
            "add",
            "setActiveStatRow"
          ],
          "patterns": []
        },
        "clearHistoryPreview": {
          "calls": ["byId", "querySelector", "remove", "getStatRowByKey", "setActiveStatRow"],
          "patterns": []
        },
        "renderStatList": {
          "calls": [
            "byId",
            "loadStatDefs",
            "keys",
            "buildStatRows",
            "forEach",
            "appendChild",
            "setAttribute",
            "setActiveStatRow",
            "ensureStatClickBinding",
            "clearSkeletonStats",
            "error",
            "renderHelpMapping"
          ],
          "patterns": []
        },
        "renderHiddenPlayerStats": {
          "calls": [
            "byId",
            "createElement",
            "forEach",
            "Number",
            "isFinite",
            "String",
            "appendChild",
            "createTextNode"
          ],
          "patterns": []
        },
        "restorePointsToWin": {
          "calls": [
            "byId",
            "filter",
            "map",
            "from",
            "Number",
            "isFinite",
            "wrap",
            "safeGetPointsToWinFromStorage",
            "warn",
            "has",
            "setPointsToWin",
            "String",
            "updateRoundHeader",
            "getPointsToWin",
            "addEventListener",
            "createDocumentFragment",
            "createElement",
            "setAttribute",
            "appendChild",
            "createModal",
            "close",
            "finally",
            "then",
            "resolve",
            "settle",
            "closeModal",
            "cancel",
            "open",
            "set",
            "resetMatch",
            "announceMatchReady",
            "destroy"
          ],
          "patterns": []
        },
        "closeModal": {
          "calls": ["close"],
          "patterns": []
        },
        "settle": {
          "calls": ["resolve"],
          "patterns": []
        },
        "cancel": {
          "calls": ["settle", "closeModal"],
          "patterns": []
        },
        "startRoundWrapper": {
          "calls": [
            "startRoundCore",
            "renderStatList",
            "renderHiddenPlayerStats",
            "setRoundMessage",
            "showBottomLine",
            "updateRoundHeader",
            "getPointsToWin"
          ],
          "patterns": []
        },
        "getStatByIndex": {
          "calls": ["Number"],
          "patterns": []
        },
        "handleGlobalKey": {
          "calls": ["fn"],
          "patterns": []
        },
        "__scheduleMicrotask": {
          "calls": ["then", "resolve"],
          "patterns": []
        },
        "handleWaitingForPlayerActionKey": {
          "calls": [
            "log",
            "isEnabled",
            "getStatByIndex",
            "showHint",
            "__scheduleMicrotask",
            "selectStat",
            "debug",
            "getActiveElement"
          ],
          "patterns": []
        },
        "handleWaitingForMatchStartKey": {
          "calls": ["triggerMatchStart"],
          "patterns": []
        },
        "handleRoundOverKey": {
          "calls": ["emitBattleEvent", "fn", "safeDispatch"],
          "patterns": []
        },
        "handleCooldownKey": {
          "calls": ["clearCooldownTimers", "safeDispatch"],
          "patterns": []
        },
        "handleCommandHistory": {
          "calls": [
            "log",
            "parse",
            "getItem",
            "isArray",
            "captureHistoryAnchorStat",
            "applyHistoryPreview",
            "showBottomLine",
            "clearHistoryPreview"
          ],
          "patterns": []
        },
        "clearCooldownTimers": {
          "calls": ["clearTimeout", "clearInterval", "clearBottomLine"],
          "patterns": []
        },
        "recordDispatchError": {
          "calls": ["String"],
          "patterns": []
        },
        "advanceRoundOver": {
          "calls": ["getMachine", "dispatch", "recordDispatchError"],
          "patterns": []
        },
        "advanceCooldown": {
          "calls": ["clearCooldownTimers", "getMachine", "dispatch", "recordDispatchError"],
          "patterns": []
        },
        "onClickAdvance": {
          "calls": ["byId", "closest", "handler"],
          "patterns": []
        },
        "handleStatSelectionStalled": {
          "calls": ["isEnabled", "showBottomLine"],
          "patterns": []
        },
        "handleCountdownStart": {
          "calls": [
            "skipRoundCooldownIfEnabled",
            "emitBattleEvent",
            "updateScoreLine",
            "Number",
            "clearTimeout",
            "clearInterval",
            "showBottomLine",
            "setInterval",
            "setTimeout"
          ],
          "patterns": []
        },
        "handleCountdownFinished": {
          "calls": ["clearTimeout", "clearInterval", "clearBottomLine"],
          "patterns": []
        },
        "handleRoundEvaluated": {
          "calls": [
            "recordCommandHistory",
            "toUpperCase",
            "String",
            "setRoundMessage",
            "getScores",
            "updateScoreLine",
            "isEnabled",
            "byId",
            "Number",
            "ensureVerboseScrollHandling",
            "refreshVerboseScrollIndicators"
          ],
          "patterns": []
        },
        "handleMatchOver": {
          "calls": [
            "byId",
            "createElement",
            "createButton",
            "addEventListener",
            "resetMatch",
            "remove",
            "triggerMatchStart",
            "append",
            "getAttribute",
            "querySelector"
          ],
          "patterns": []
        },
        "handleScoreboardShowMessage": {
          "calls": ["setRoundMessage", "String"],
          "patterns": []
        },
        "handleScoreboardClearMessage": {
          "calls": ["setRoundMessage"],
          "patterns": []
        },
        "syncControlsHintVisibility": {
          "calls": ["byId", "updateShortcutsFallback", "getCliShortcutsEnabled"],
          "patterns": []
        },
        "updateUiForState": {
          "calls": [
            "updateBattleStateBadge",
            "syncControlsHintVisibility",
            "remove",
            "getElementById",
            "clearVerboseLog",
            "startSelectionCountdown",
            "focus",
            "byId",
            "stopSelectionCountdown",
            "getAutoContinue",
            "showBottomLine"
          ],
          "patterns": []
        },
        "ensureNextRoundButton": {
          "calls": [
            "byId",
            "getElementById",
            "createElement",
            "setAttribute",
            "addEventListener",
            "clearCooldownTimers",
            "safeDispatch",
            "appendChild",
            "focus",
            "error"
          ],
          "patterns": []
        },
        "logStateChange": {
          "calls": [
            "byId",
            "padStart",
            "String",
            "getHours",
            "getMinutes",
            "getSeconds",
            "info",
            "filter",
            "split",
            "push",
            "shift",
            "join",
            "ensureVerboseScrollHandling",
            "refreshVerboseScrollIndicators"
          ],
          "patterns": []
        },
        "handleBattleState": {
          "calls": [
            "String",
            "setAttribute",
            "updateUiForState",
            "getAutoContinue",
            "ensureNextRoundButton",
            "logStateChange"
          ],
          "patterns": []
        },
        "forEachBattleSubscription": {
          "calls": ["forEach", "entries", "callback"],
          "patterns": []
        },
        "installEventBindings": {
          "calls": ["forEachBattleSubscription", "onBattleEvent"],
          "patterns": []
        },
        "uninstallEventBindings": {
          "calls": ["forEachBattleSubscription", "offBattleEvent"],
          "patterns": []
        },
        "parseUrlFlags": {
          "calls": ["forEach", "has", "get", "setFlag"],
          "patterns": []
        },
        "setupFlags": {
          "calls": [
            "byId",
            "isEnabled",
            "toggle",
            "setAttribute",
            "scrollIntoView",
            "focus",
            "ensureVerboseScrollHandling",
            "refreshVerboseScrollIndicators",
            "Number",
            "isNaN",
            "getter",
            "debug",
            "parseHeaderTarget",
            "updateVerbose",
            "updateRoundHeader",
            "setFlag",
            "setter",
            "initFeatureFlags",
            "initDebugFlagHud",
            "applyScanlines",
            "setAutoContinue",
            "has",
            "get",
            "toggleVerbose",
            "updateStateBadgeVisibility",
            "updateBattleStateBadge",
            "getStateSnapshot",
            "wireFlagsListeners",
            "updateCliShortcutsVisibility",
            "updateControlsHint"
          ],
          "patterns": []
        },
        "applyScanlines": {
          "calls": ["isEnabled", "toggle"],
          "patterns": []
        },
        "updateVerbose": {
          "calls": [
            "byId",
            "setAttribute",
            "scrollIntoView",
            "focus",
            "ensureVerboseScrollHandling",
            "refreshVerboseScrollIndicators"
          ],
          "patterns": []
        },
        "parseHeaderTarget": {
          "calls": ["Number", "isNaN"],
          "patterns": []
        },
        "toggleVerbose": {
          "calls": [
            "getter",
            "debug",
            "byId",
            "Number",
            "parseHeaderTarget",
            "updateVerbose",
            "updateRoundHeader",
            "setFlag",
            "setter"
          ],
          "patterns": []
        },
        "subscribeEngine": {
          "calls": ["on", "byId", "now", "String", "setRoundMessage"],
          "patterns": []
        },
        "handleBattleStateChange": {
          "calls": ["byId"],
          "patterns": []
        },
        "handleVisibilityChange": {
          "calls": ["pauseTimers", "handleTabInactive", "log", "resumeTimers", "handleTabActive"],
          "patterns": []
        },
        "handlePageShow": {
          "calls": ["resumeTimers"],
          "patterns": []
        },
        "handlePageHide": {
          "calls": ["pauseTimers"],
          "patterns": []
        },
        "unwireEvents": {
          "calls": ["uninstallEventBindings", "removeEventListener", "cleanupFlagsListeners"],
          "patterns": []
        },
        "wireEvents": {
          "calls": [
            "installEventBindings",
            "bindRoundFlowControllerOnce",
            "bindRoundUIEventHandlersDynamic",
            "addEventListener"
          ],
          "patterns": []
        },
        "init": {
          "calls": [
            "parse",
            "getItem",
            "initSeed",
            "createBattleStore",
            "normalizeShortcutCopy",
            "bindSkipLinkFocusTarget",
            "updateControlsHint",
            "ensureVerboseScrollHandling",
            "exposeTestAPI",
            "startRoundCore",
            "getStateSnapshot",
            "resolveRoundForTest",
            "warn",
            "emitBattleEvent",
            "domStateListener",
            "renderStatList",
            "restorePointsToWin",
            "parseUrlFlags",
            "setupFlags",
            "subscribeEngine",
            "getEngine",
            "resetMatch",
            "setupScoreboard",
            "initBattleScoreboardAdapter",
            "resolveRoundStartPolicy",
            "announceMatchReady",
            "hasAttribute",
            "wireEvents"
          ],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI/events.js": {
      "imports": ["../../helpers/featureFlags.js", "./battleHandlers.js"],
      "functions": {
        "byId": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "handleArrowNav": {
          "calls": ["byId", "has", "contains", "preventDefault", "handleStatListArrowKey"],
          "patterns": []
        },
        "shouldProcessKey": {
          "calls": ["isEnabled"],
          "patterns": []
        },
        "routeKeyByState": {
          "calls": [
            "getAttribute",
            "querySelector",
            "getBattleState",
            "handleGlobalKey",
            "handler"
          ],
          "patterns": []
        },
        "onKeyDown": {
          "calls": [
            "isEnabled",
            "handleCommandHistory",
            "preventDefault",
            "stopPropagation",
            "handleArrowNav",
            "toLowerCase",
            "shouldProcessKey",
            "byId",
            "Number",
            "isFinite",
            "routeKeyByState"
          ],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI/dom.js": {
      "imports": ["../../helpers/BattleEngine.js"],
      "functions": {
        "assignSharedScoreboardHelpers": {
          "calls": [],
          "patterns": []
        },
        "waitForSharedScoreboard": {
          "calls": ["catch"],
          "patterns": []
        },
        "byId": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "updateRoundHeader": {
          "calls": ["updateRoundCounter", "byId", "getter", "isNaN", "Number", "String"],
          "patterns": []
        },
        "setRoundMessage": {
          "calls": ["replace", "String", "Boolean", "byId", "stripEmoji", "showMessage"],
          "patterns": []
        },
        "stripEmoji": {
          "calls": ["replace", "String"],
          "patterns": []
        },
        "updateScoreLine": {
          "calls": ["getScores", "updateScore", "byId", "String", "querySelector"],
          "patterns": []
        },
        "clearVerboseLog": {
          "calls": ["byId", "refreshVerboseScrollIndicators"],
          "patterns": []
        },
        "getVerboseElements": {
          "calls": ["byId"],
          "patterns": []
        },
        "refreshVerboseScrollIndicators": {
          "calls": ["getVerboseElements"],
          "patterns": []
        },
        "ensureVerboseScrollHandling": {
          "calls": ["getVerboseElements", "addEventListener", "refreshVerboseScrollIndicators"],
          "patterns": []
        }
      }
    },
    "src/pages/battleCLI/cliDomTemplate.js": {
      "imports": [],
      "functions": {
        "createCliDomFragment": {
          "calls": ["createElement", "cloneNode"],
          "patterns": ["factory"]
        }
      }
    },
    "src/pages/battleCLI/battleHandlers.js": {
      "imports": [],
      "functions": {
        "registerBattleHandlers": {
          "calls": ["assign"],
          "patterns": []
        },
        "handleGlobalKey": {
          "calls": ["handleGlobalKey"],
          "patterns": []
        },
        "handleWaitingForPlayerActionKey": {
          "calls": ["handleWaitingForPlayerActionKey"],
          "patterns": []
        },
        "handleWaitingForMatchStartKey": {
          "calls": ["handleWaitingForMatchStartKey"],
          "patterns": []
        },
        "handleRoundOverKey": {
          "calls": ["handleRoundOverKey"],
          "patterns": []
        },
        "handleCooldownKey": {
          "calls": ["handleCooldownKey"],
          "patterns": []
        },
        "handleStatListArrowKey": {
          "calls": ["handleStatListArrowKey"],
          "patterns": []
        },
        "handleCommandHistory": {
          "calls": ["handleCommandHistory"],
          "patterns": []
        }
      }
    },
    "src/components/layoutEditor/index.js": {
      "imports": [
        "../../helpers/layoutEngine/layoutRegistry.js",
        "../../helpers/layoutEngine/loadLayout.js",
        "../../helpers/layoutEngine/applyLayout.js",
        "./EditorCanvas.js",
        "./PropertyInspector.js",
        "./StorageManager.js",
        "./ValidationOverlay.js",
        "./ConsolePanel.js"
      ],
      "functions": {
        "setupCanvas": {
          "calls": ["destroy", "getElementById"],
          "patterns": []
        },
        "initializeEditor": {
          "calls": [
            "setupCanvas",
            "populateModeSelector",
            "attachEventListeners",
            "loadDefaultLayout",
            "info"
          ],
          "patterns": []
        },
        "populateModeSelector": {
          "calls": ["sort", "keys", "warn", "forEach", "createElement", "appendChild"],
          "patterns": []
        },
        "loadDefaultLayout": {
          "calls": ["restoreDraft", "applyLayoutToEditor", "info"],
          "patterns": []
        },
        "attachEventListeners": {
          "calls": ["addEventListener", "on", "error"],
          "patterns": []
        },
        "handleModeChange": {
          "calls": [
            "resolveLayout",
            "join",
            "error",
            "parse",
            "stringify",
            "applyLayoutToEditor",
            "info"
          ],
          "patterns": []
        },
        "applyLayoutToEditor": {
          "calls": [
            "validateLayoutDefinition",
            "error",
            "join",
            "showErrors",
            "setLayout",
            "clear",
            "saveDraft"
          ],
          "patterns": []
        },
        "handleRegionSelected": {
          "calls": ["find", "setRegion"],
          "patterns": []
        },
        "handleRegionChanged": {
          "calls": ["find", "assign", "updateValues", "saveDraft", "validateCurrentLayout"],
          "patterns": []
        },
        "handlePropertyUpdate": {
          "calls": ["find", "assign", "updateRegion", "saveDraft", "validateCurrentLayout"],
          "patterns": []
        },
        "handleReset": {
          "calls": ["confirm", "warn", "handleModeChange"],
          "patterns": []
        },
        "handleExportJson": {
          "calls": ["error", "stringify", "downloadFile", "now", "info"],
          "patterns": []
        },
        "handleExportAscii": {
          "calls": ["error", "generateAsciiPreview", "showAsciiModal"],
          "patterns": []
        },
        "handleImport": {
          "calls": ["showImportModal"],
          "patterns": []
        },
        "generateAsciiPreview": {
          "calls": [
            "map",
            "fill",
            "Array",
            "forEach",
            "toUpperCase",
            "charAt",
            "push",
            "repeat",
            "join"
          ],
          "patterns": []
        },
        "validateCurrentLayout": {
          "calls": ["validateLayoutDefinition", "showErrors", "clear"],
          "patterns": []
        },
        "downloadFile": {
          "calls": [
            "createObjectURL",
            "createElement",
            "appendChild",
            "click",
            "removeChild",
            "revokeObjectURL"
          ],
          "patterns": []
        },
        "showAsciiModal": {
          "calls": ["getElementById", "writeText", "info", "downloadFile", "now", "showModal"],
          "patterns": []
        },
        "populateImportRegistryOptions": {
          "calls": ["getElementById", "sort", "keys", "forEach", "createElement", "appendChild"],
          "patterns": []
        },
        "setupImportModalHandlers": {
          "calls": [
            "getElementById",
            "trim",
            "error",
            "parse",
            "applyLayoutToEditor",
            "close",
            "info",
            "text",
            "handleModeChange"
          ],
          "patterns": []
        },
        "showImportModal": {
          "calls": [
            "getElementById",
            "populateImportRegistryOptions",
            "setupImportModalHandlers",
            "showModal"
          ],
          "patterns": []
        }
      }
    },
    "src/components/layoutEditor/ValidationOverlay.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/layoutEditor/StorageManager.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/layoutEditor/PropertyInspector.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/layoutEditor/EditorCanvas.js": {
      "imports": [],
      "functions": {}
    },
    "src/components/layoutEditor/ConsolePanel.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/utils/positiveNumbers.js": {
      "imports": [],
      "functions": {
        "toPositiveNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "clampToPositiveTimestamp": {
          "calls": ["toPositiveNumber"],
          "patterns": []
        }
      }
    },
    "src/helpers/tooltipViewer/renderList.js": {
      "imports": ["../tooltip.js", "../../components/SidebarList.js"],
      "functions": {
        "renderList": {
          "calls": [
            "filter",
            "split",
            "toLowerCase",
            "forEach",
            "entries",
            "every",
            "includes",
            "trim",
            "test",
            "parseTooltipText",
            "push",
            "String",
            "select",
            "querySelector",
            "from",
            "querySelectorAll",
            "createElement",
            "setAttribute",
            "append",
            "replaceWith"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/tooltipViewer/extractLineAndColumn.js": {
      "imports": [],
      "functions": {
        "extractLineAndColumn": {
          "calls": ["exec", "Number"],
          "patterns": []
        }
      }
    },
    "src/helpers/timers/createRoundTimer.js": {
      "imports": ["../BattleEngine.js", "../classicBattle/debugHooks.js"],
      "functions": {
        "validateOptions": {
          "calls": [],
          "patterns": []
        },
        "createRoundTimer": {
          "calls": [
            "validateOptions",
            "fn",
            "error",
            "includes",
            "join",
            "add",
            "off",
            "delete",
            "handler",
            "on",
            "isFinite",
            "clearTimeout",
            "Number",
            "starter",
            "emitExpired",
            "ceil",
            "emitTick",
            "setTimeout",
            "emit",
            "exposeDebugState",
            "onDriftFail",
            "start",
            "stopTimer",
            "warn",
            "once",
            "stop",
            "clear"
          ],
          "patterns": ["factory", "observer"]
        },
        "emit": {
          "calls": ["fn", "error"],
          "patterns": []
        },
        "on": {
          "calls": ["includes", "join", "add", "off"],
          "patterns": []
        },
        "off": {
          "calls": ["includes", "join", "delete"],
          "patterns": []
        },
        "once": {
          "calls": ["includes", "join", "off", "handler", "on"],
          "patterns": []
        },
        "wrapper": {
          "calls": ["off", "handler"],
          "patterns": []
        },
        "start": {
          "calls": [
            "isFinite",
            "clearTimeout",
            "Number",
            "starter",
            "emitExpired",
            "ceil",
            "emitTick",
            "setTimeout"
          ],
          "patterns": []
        },
        "tick": {
          "calls": ["emitTick", "setTimeout", "emitExpired", "clearTimeout"],
          "patterns": []
        },
        "emitTick": {
          "calls": ["Number", "isFinite", "emit"],
          "patterns": []
        },
        "emitExpired": {
          "calls": ["exposeDebugState", "emit"],
          "patterns": []
        },
        "handleDrift": {
          "calls": ["onDriftFail", "emitExpired", "emit", "start"],
          "patterns": []
        },
        "stop": {
          "calls": ["clearTimeout", "stopTimer"],
          "patterns": []
        },
        "pause": {
          "calls": ["warn", "clearTimeout", "stopTimer"],
          "patterns": []
        },
        "resume": {
          "calls": ["warn", "start"],
          "patterns": []
        },
        "getState": {
          "calls": [],
          "patterns": []
        },
        "isPaused": {
          "calls": [],
          "patterns": []
        },
        "isRunning": {
          "calls": [],
          "patterns": []
        },
        "getRemaining": {
          "calls": [],
          "patterns": []
        },
        "getRetries": {
          "calls": [],
          "patterns": []
        },
        "waitForExpiration": {
          "calls": ["once"],
          "patterns": []
        },
        "waitForNextTick": {
          "calls": ["once"],
          "patterns": []
        },
        "dispose": {
          "calls": ["stop", "clear"],
          "patterns": []
        }
      }
    },
    "src/helpers/timers/computeNextRoundCooldown.js": {
      "imports": ["../testModeUtils.js"],
      "functions": {
        "computeNextRoundCooldown": {
          "calls": ["isTestModeEnabled", "max", "round", "warn"],
          "patterns": []
        }
      }
    },
    "src/helpers/testing/statButtonTracker.js": {
      "imports": [],
      "functions": {
        "createEmptySnapshot": {
          "calls": [],
          "patterns": ["factory"]
        },
        "cloneSnapshot": {
          "calls": ["createEmptySnapshot", "map"],
          "patterns": []
        },
        "ensureIdentity": {
          "calls": ["has", "get", "push", "String", "join", "toString", "now", "random", "set"],
          "patterns": []
        },
        "isElement": {
          "calls": [],
          "patterns": []
        },
        "normalizeButtons": {
          "calls": ["isArray", "filter", "isElement", "from"],
          "patterns": []
        },
        "toButtonSnapshot": {
          "calls": ["getAttribute", "ensureIdentity", "Boolean", "contains", "isFinite", "trim"],
          "patterns": []
        },
        "createSnapshot": {
          "calls": ["now", "map", "toButtonSnapshot"],
          "patterns": ["factory"]
        },
        "storeSnapshot": {
          "calls": [],
          "patterns": []
        },
        "captureStatButtonSnapshot": {
          "calls": ["normalizeButtons", "createSnapshot", "storeSnapshot", "cloneSnapshot"],
          "patterns": []
        },
        "readStatButtonSnapshot": {
          "calls": ["cloneSnapshot"],
          "patterns": []
        },
        "refreshStatButtonSnapshotFromDom": {
          "calls": [
            "readStatButtonSnapshot",
            "querySelector",
            "getElementById",
            "createSnapshot",
            "storeSnapshot",
            "cloneSnapshot",
            "querySelectorAll",
            "normalizeButtons"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/testing/exposeClassicBattleTestApi.js": {
      "imports": ["../featureFlags.js"],
      "functions": {
        "exposeClassicBattleTestAPI": {
          "calls": ["shouldExposeTestAPI", "exposeTestAPI"],
          "patterns": []
        },
        "shouldExposeTestAPI": {
          "calls": [
            "isNodeTestEnvironment",
            "getWindow",
            "hasBrowserTestFlags",
            "isLocalhostOrigin",
            "getNavigator",
            "isNavigatorAutomated",
            "isTestUserAgent",
            "isTestModeFlagEnabled"
          ],
          "patterns": []
        },
        "isNodeTestEnvironment": {
          "calls": [],
          "patterns": []
        },
        "hasBrowserTestFlags": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "getWindow": {
          "calls": [],
          "patterns": []
        },
        "getNavigator": {
          "calls": [],
          "patterns": []
        },
        "isNavigatorAutomated": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "isTestUserAgent": {
          "calls": ["getNormalizedUserAgent", "some", "includes"],
          "patterns": []
        },
        "isLocalhostOrigin": {
          "calls": ["getLocation", "normalizeHostname"],
          "patterns": []
        },
        "getLocation": {
          "calls": [],
          "patterns": []
        },
        "normalizeHostname": {
          "calls": [
            "toLowerCase",
            "trim",
            "startsWith",
            "normalizeBracketedIpv6Hostname",
            "stripIpv4PortIfPresent"
          ],
          "patterns": []
        },
        "normalizeBracketedIpv6Hostname": {
          "calls": ["indexOf", "slice"],
          "patterns": []
        },
        "stripIpv4PortIfPresent": {
          "calls": ["indexOf", "lastIndexOf", "slice"],
          "patterns": []
        },
        "getNormalizedUserAgent": {
          "calls": ["isArray", "toLowerCase", "join", "map"],
          "patterns": []
        },
        "isTestModeFlagEnabled": {
          "calls": ["isEnabled"],
          "patterns": []
        }
      }
    },
    "src/helpers/quotes/quoteService.js": {
      "imports": ["../constants.js", "../testModeUtils.js"],
      "functions": {
        "fetchFables": {
          "calls": ["all", "fetch", "json", "map", "get"],
          "patterns": []
        },
        "displayRandomQuote": {
          "calls": ["fetchFables", "max", "map", "floor", "seededRandom", "find", "error"],
          "patterns": []
        }
      }
    },
    "src/helpers/quotes/quoteRenderer.js": {
      "imports": ["../utils.js"],
      "functions": {
        "checkAssetsReady": {
          "calls": ["remove", "querySelector"],
          "patterns": []
        },
        "formatFableStory": {
          "calls": ["replace", "String", "join", "map", "filter", "split", "trim"],
          "patterns": []
        },
        "renderQuote": {
          "calls": ["getElementById", "querySelector", "formatFableStory", "escapeHTML"],
          "patterns": []
        },
        "renderFallback": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "notifyQuoteReady": {
          "calls": ["resolveQuoteReady", "dispatchEvent"],
          "patterns": []
        },
        "displayFable": {
          "calls": [
            "getElementById",
            "querySelector",
            "checkAssetsReady",
            "renderQuote",
            "renderFallback",
            "add",
            "remove",
            "setAttribute",
            "focus",
            "notifyQuoteReady"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/syncFeatureFlags.js": {
      "imports": ["../../config/settingsDefaults.js"],
      "functions": {
        "syncFeatureFlags": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/syncDisplayMode.js": {
      "imports": ["../displayMode.js", "../viewTransition.js"],
      "functions": {
        "syncDisplayMode": {
          "calls": [
            "querySelector",
            "normalizeDisplayMode",
            "catch",
            "handleUpdate",
            "withViewTransition",
            "applyDisplayMode"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/renderGameModes.js": {
      "imports": ["./gameModeSwitches.js"],
      "functions": {
        "renderGameModes": {
          "calls": [
            "getElementById",
            "isArray",
            "forEach",
            "querySelectorAll",
            "remove",
            "renderGameModeSwitches"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/renderFeatureFlags.js": {
      "imports": [
        "./featureFlagSwitches.js",
        "./syncFeatureFlags.js",
        "./filterAdvancedSettings.js"
      ],
      "functions": {
        "renderFeatureFlags": {
          "calls": [
            "getElementById",
            "forEach",
            "querySelectorAll",
            "remove",
            "syncFeatureFlags",
            "renderFeatureFlagSwitches",
            "reapplyAdvancedSettingsFilter"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/makeHandleUpdate.js": {
      "imports": ["../settingsStorage.js"],
      "functions": {
        "makeHandleUpdate": {
          "calls": [
            "catch",
            "then",
            "updateSetting",
            "setCurrentSettings",
            "onUpdate",
            "error",
            "showErrorAndRevert"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/listenerUtils.js": {
      "imports": [
        "../displayMode.js",
        "../viewTransition.js",
        "../motionUtils.js",
        "../showSnackbar.js"
      ],
      "functions": {
        "attachToggleListeners": {
          "calls": [
            "from",
            "find",
            "getCurrentSettings",
            "normalizeDisplayMode",
            "forEach",
            "syncHeaderRadios",
            "withViewTransition",
            "applyDisplayMode",
            "catch",
            "then",
            "resolve",
            "handleUpdate",
            "toUpperCase",
            "charAt",
            "slice",
            "showSnackbar",
            "addEventListener",
            "applyMotionPreference",
            "applyDisplayRadioSelection"
          ],
          "patterns": []
        },
        "syncHeaderRadios": {
          "calls": ["find", "getCurrentSettings", "normalizeDisplayMode", "forEach"],
          "patterns": []
        },
        "applyDisplayRadioSelection": {
          "calls": [
            "getCurrentSettings",
            "normalizeDisplayMode",
            "forEach",
            "syncHeaderRadios",
            "withViewTransition",
            "applyDisplayMode",
            "catch",
            "then",
            "resolve",
            "handleUpdate",
            "find",
            "toUpperCase",
            "charAt",
            "slice",
            "showSnackbar"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/index.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/settings/gameModeSwitches.js": {
      "imports": [
        "../../components/ToggleSwitch.js",
        "../../data/navigationItems.js",
        "../gameModeUtils.js",
        "../showSettingsError.js",
        "../showSnackbar.js"
      ],
      "functions": {
        "resolveNavigationModeId": {
          "calls": ["isSafeInteger", "has", "parseInt"],
          "patterns": []
        },
        "handleGameModeChange": {
          "calls": [
            "getCurrentSettings",
            "resolveNavigationModeId",
            "catch",
            "then",
            "resolve",
            "handleUpdate",
            "showSnackbar",
            "error",
            "updateNavigationItemHidden",
            "revert",
            "showSettingsError",
            "all"
          ],
          "patterns": []
        },
        "revert": {
          "calls": [],
          "patterns": []
        },
        "renderGameModeSwitches": {
          "calls": [
            "isArray",
            "warn",
            "sort",
            "forEach",
            "resolveNavigationModeId",
            "getCurrentSettings",
            "hasOwn",
            "trim",
            "isFinite",
            "String",
            "createElement",
            "appendChild",
            "setAttribute",
            "addEventListener",
            "handleGameModeChange"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/filterAdvancedSettings.js": {
      "imports": [],
      "functions": {
        "normalize": {
          "calls": ["trim", "toLowerCase", "replace", "normalize", "String"],
          "patterns": []
        },
        "getSearchableTokens": {
          "calls": ["querySelector", "map"],
          "patterns": []
        },
        "announceSearchStatus": {
          "calls": [],
          "patterns": []
        },
        "filterFeatureFlags": {
          "calls": [
            "normalize",
            "from",
            "querySelectorAll",
            "forEach",
            "getSearchableTokens",
            "some",
            "includes",
            "announceSearchStatus"
          ],
          "patterns": []
        },
        "setupAdvancedSettingsSearch": {
          "calls": ["filterFeatureFlags", "preventDefault", "applyFilter", "addEventListener"],
          "patterns": []
        },
        "applyFilter": {
          "calls": ["filterFeatureFlags"],
          "patterns": []
        },
        "handleEscape": {
          "calls": ["preventDefault", "applyFilter"],
          "patterns": []
        },
        "reapplyAdvancedSettingsFilter": {
          "calls": ["latestFilter"],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/featureFlagSwitches.js": {
      "imports": [
        "../../components/ToggleSwitch.js",
        "../showSnackbar.js",
        "../tooltipOverlayDebug.js",
        "../layoutDebugPanel.js"
      ],
      "functions": {
        "handleFeatureFlagChange": {
          "calls": [
            "getCurrentSettings",
            "catch",
            "then",
            "resolve",
            "handleUpdate",
            "showSnackbar",
            "toggleTooltipOverlayDebug",
            "toggleLayoutDebugPanel"
          ],
          "patterns": []
        },
        "formatFlagLabel": {
          "calls": ["replace", "String", "toUpperCase"],
          "patterns": []
        },
        "resolveFlagLabel": {
          "calls": ["formatFlagLabel"],
          "patterns": []
        },
        "renderFeatureFlagSwitches": {
          "calls": [
            "forEach",
            "keys",
            "toLowerCase",
            "replace",
            "resolveFlagLabel",
            "getDescription",
            "Boolean",
            "getCurrentSettings",
            "createElement",
            "appendChild",
            "setAttribute",
            "removeAttribute",
            "querySelector",
            "insertBefore",
            "addEventListener",
            "handleFeatureFlagChange"
          ],
          "patterns": []
        },
        "getDescription": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/createResetModal.js": {
      "imports": ["../../components/Modal.js", "../../components/Button.js", "../showSnackbar.js"],
      "functions": {
        "createResetModal": {
          "calls": [
            "createElement",
            "createButton",
            "append",
            "createDocumentFragment",
            "createModal",
            "addEventListener",
            "close",
            "onConfirm",
            "showSnackbar",
            "appendChild"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/settings/attachResetListener.js": {
      "imports": [],
      "functions": {
        "attachResetListener": {
          "calls": ["addEventListener", "open"],
          "patterns": []
        }
      }
    },
    "src/helpers/settings/applyInitialValues.js": {
      "imports": [
        "../../config/settingsDefaults.js",
        "../../config/loadSettings.js",
        "../displayMode.js"
      ],
      "functions": {
        "applyInitialControlValues": {
          "calls": [
            "Boolean",
            "forEach",
            "applyInputState",
            "querySelector",
            "closest",
            "getElementById",
            "normalizeDisplayMode"
          ],
          "patterns": []
        },
        "applyInputState": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "applyInitialValues": {
          "calls": ["catch", "loadSettings", "applyInitialControlValues"],
          "patterns": []
        }
      }
    },
    "src/helpers/prdReader/history.js": {
      "imports": [],
      "functions": {
        "pushHistory": {
          "calls": ["set", "pushState"],
          "patterns": []
        },
        "replaceHistory": {
          "calls": ["set", "replaceState"],
          "patterns": []
        },
        "bindHistory": {
          "calls": ["selectDoc", "addEventListener", "removeEventListener"],
          "patterns": []
        },
        "handler": {
          "calls": ["selectDoc"],
          "patterns": []
        }
      }
    },
    "src/helpers/pseudoJapanese/ui.js": {
      "imports": ["./converter.js"],
      "functions": {
        "convertElementToPseudoJapanese": {
          "calls": [
            "createTreeWalker",
            "nextNode",
            "push",
            "allSettled",
            "map",
            "convertToPseudoJapanese",
            "forEach",
            "error"
          ],
          "patterns": []
        },
        "setupLanguageToggle": {
          "calls": [
            "getElementById",
            "add",
            "setAttribute",
            "addEventListener",
            "setTimeout",
            "cloneNode",
            "convertElementToPseudoJapanese",
            "toggle",
            "remove",
            "String",
            "error"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/pseudoJapanese/converter.js": {
      "imports": ["../testModeUtils.js", "../../data/japaneseConverter.js"],
      "functions": {
        "convertToPseudoJapanese": {
          "calls": [
            "replace",
            "String",
            "flat",
            "values",
            "test",
            "join",
            "map",
            "split",
            "toLowerCase",
            "floor",
            "seededRandom"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/layoutEngine/loadLayout.js": {
      "imports": ["./applyLayout.js", "./layoutRegistry.js"],
      "functions": {
        "getDocument": {
          "calls": [],
          "patterns": []
        },
        "parseInlineFallback": {
          "calls": ["trim", "parse"],
          "patterns": []
        },
        "resolveInlineFallback": {
          "calls": ["getDocument", "getElementById", "parseInlineFallback", "warn"],
          "patterns": []
        },
        "resolveRegistryLayout": {
          "calls": ["getLayoutModule", "String", "error"],
          "patterns": []
        },
        "loadLayout": {
          "calls": [
            "errorLogger",
            "resolveRegistryLayout",
            "validateLayoutDefinition",
            "forEach",
            "warn",
            "push",
            "resolveInlineFallback"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/layoutEngine/layoutRegistry.js": {
      "imports": [],
      "functions": {
        "getLayoutModule": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/layoutEngine/applyLayout.js": {
      "imports": ["../featureFlags.js", "../telemetry.js"],
      "functions": {
        "getNow": {
          "calls": ["now"],
          "patterns": []
        },
        "resolveRoot": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "toPercent": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "evaluateVisibility": {
          "calls": ["Boolean", "isFeatureFlagEnabled"],
          "patterns": []
        },
        "hideElement": {
          "calls": ["setAttribute"],
          "patterns": []
        },
        "showElement": {
          "calls": ["setAttribute", "removeAttribute"],
          "patterns": []
        },
        "applyRegionStyle": {
          "calls": ["toPercent", "isFinite"],
          "patterns": []
        },
        "buildAnchorIndex": {
          "calls": ["querySelectorAll", "forEach", "getAttribute", "has", "set", "push", "get"],
          "patterns": []
        },
        "getAnimationFrameProvider": {
          "calls": ["bind", "callback"],
          "patterns": []
        },
        "enqueueMutation": {
          "calls": ["push"],
          "patterns": []
        },
        "emitSkippedRegionTelemetry": {
          "calls": ["map", "filter", "from", "logEvent"],
          "patterns": []
        },
        "flushMutations": {
          "calls": ["isArray", "forEach", "mutation", "schedule", "runMutations"],
          "patterns": []
        },
        "runMutations": {
          "calls": ["forEach", "mutation"],
          "patterns": []
        },
        "validateLayoutDefinition": {
          "calls": ["push", "isFinite", "isArray", "forEach", "trim", "has", "add"],
          "patterns": []
        },
        "annotateRoot": {
          "calls": ["setProperty"],
          "patterns": []
        },
        "finalizeResult": {
          "calls": ["getNow"],
          "patterns": []
        },
        "processRegion": {
          "calls": [
            "warn",
            "get",
            "push",
            "delete",
            "evaluateVisibility",
            "forEach",
            "enqueueMutation",
            "hideElement",
            "showElement",
            "applyRegionStyle"
          ],
          "patterns": []
        },
        "applyLayout": {
          "calls": [
            "getNow",
            "resolveRoot",
            "push",
            "error",
            "finalizeResult",
            "validateLayoutDefinition",
            "forEach",
            "getAnimationFrameProvider",
            "enqueueMutation",
            "annotateRoot",
            "buildAnchorIndex",
            "keys",
            "processRegion",
            "from",
            "warn",
            "emitSkippedRegionTelemetry",
            "flushMutations"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/inspector/createInspectorPanel.js": {
      "imports": [],
      "functions": {
        "createInspectorPanel": {
          "calls": [
            "stringify",
            "error",
            "createElement",
            "setAttribute",
            "appendChild",
            "removeAttribute",
            "addEventListener",
            "shift",
            "add",
            "updateDataset",
            "push",
            "queueMicrotask",
            "delete"
          ],
          "patterns": ["factory"]
        },
        "updateDataset": {
          "calls": ["setAttribute", "removeAttribute"],
          "patterns": []
        }
      }
    },
    "src/helpers/events/SimpleEmitter.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/country/search.js": {
      "imports": [],
      "functions": {
        "setupCountrySearch": {
          "calls": [
            "toLowerCase",
            "trim",
            "querySelector",
            "from",
            "querySelectorAll",
            "forEach",
            "getAttribute",
            "includes",
            "addEventListener",
            "getElementById",
            "hasAttribute",
            "filterOptions",
            "observe"
          ],
          "patterns": []
        },
        "filterOptions": {
          "calls": [
            "toLowerCase",
            "trim",
            "querySelector",
            "from",
            "querySelectorAll",
            "forEach",
            "getAttribute",
            "includes"
          ],
          "patterns": []
        },
        "setupKeyboardNavigation": {
          "calls": [
            "addEventListener",
            "toLowerCase",
            "test",
            "preventDefault",
            "now",
            "querySelector",
            "from",
            "querySelectorAll",
            "filter",
            "getAttribute",
            "startsWith",
            "focus",
            "dispatchEvent"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/country/list.js": {
      "imports": ["../constants.js", "../dataUtils.js", "../api/countryService.js"],
      "functions": {
        "fetchActiveCountries": {
          "calls": [
            "fetchJson",
            "isArray",
            "filter",
            "map",
            "trim",
            "loadCountryMapping",
            "values",
            "has",
            "set",
            "localeCompare",
            "bind",
            "sort",
            "keys",
            "get"
          ],
          "patterns": []
        },
        "compare": {
          "calls": ["localeCompare"],
          "patterns": []
        },
        "ensureRadioGroup": {
          "calls": [
            "querySelector",
            "createElement",
            "appendChild",
            "add",
            "prepend",
            "forEach",
            "querySelectorAll",
            "remove"
          ],
          "patterns": []
        },
        "createRadioOption": {
          "calls": [
            "String",
            "replace",
            "normalize",
            "toLowerCase",
            "join",
            "filter",
            "map",
            "from",
            "toString",
            "codePointAt",
            "querySelector",
            "createElement",
            "appendChild",
            "setAttribute",
            "removeAttribute",
            "replaceChildren",
            "append"
          ],
          "patterns": ["factory"]
        },
        "renderAllButton": {
          "calls": ["ensureRadioGroup", "createRadioOption", "setAttribute"],
          "patterns": []
        },
        "determineBatchSize": {
          "calls": ["test"],
          "patterns": []
        },
        "initLazyFlagLoader": {
          "calls": ["unobserve"],
          "patterns": []
        },
        "renderCountryBatch": {
          "calls": [
            "get",
            "createRadioOption",
            "getFlagUrl",
            "setAttribute",
            "removeAttribute",
            "observe",
            "warn"
          ],
          "patterns": []
        },
        "loadNextCountryBatch": {
          "calls": ["get", "ensureRadioGroup", "slice", "renderCountryBatch"],
          "patterns": []
        },
        "populateCountryList": {
          "calls": [
            "fetchActiveCountries",
            "createElement",
            "replaceChildren",
            "isArray",
            "trim",
            "set",
            "get",
            "renderAllButton",
            "determineBatchSize",
            "initLazyFlagLoader",
            "loadNextCountryBatch",
            "removeEventListener",
            "addEventListener",
            "error"
          ],
          "patterns": []
        },
        "handleScroll": {
          "calls": ["loadNextCountryBatch", "removeEventListener"],
          "patterns": []
        }
      }
    },
    "src/helpers/country/codes.js": {
      "imports": ["../api/countryService.js"],
      "functions": {
        "getCountryNameFromCode": {
          "calls": ["getCountryName"],
          "patterns": []
        },
        "getFlagUrl": {
          "calls": ["serviceGetFlagUrl"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/winTargetSync.js": {
      "imports": ["../BattleEngine.js"],
      "functions": {
        "byId": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "sanitizeTarget": {
          "calls": ["Number", "isFinite", "trunc"],
          "patterns": []
        },
        "getCurrentRoundNumber": {
          "calls": ["byId", "Number", "isFinite"],
          "patterns": []
        },
        "updateRoundHeader": {
          "calls": ["byId", "String"],
          "patterns": []
        },
        "readPointsToWin": {
          "calls": ["sanitizeTarget", "getPointsToWin"],
          "patterns": []
        },
        "syncWinTargetDropdown": {
          "calls": [
            "byId",
            "readPointsToWin",
            "some",
            "from",
            "Number",
            "createElement",
            "String",
            "appendChild",
            "getCurrentRoundNumber",
            "updateRoundHeader"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/view.js": {
      "imports": [
        "./uiHelpers.js",
        "./setupScheduler.js",
        "./setupUIBindings.js",
        "./setupDebugHooks.js",
        "../orientation.js",
        "../setupDisplaySettings.js",
        "../setupSvgFallback.js",
        "../setupClassicBattleHomeLink.js"
      ],
      "functions": {
        "handleFeatureFlagsChange": {
          "calls": [
            "setBattleStateBadgeEnabled",
            "isEnabled",
            "setSkipRoundCooldownFeatureMarker",
            "getElementById",
            "applyBattleFeatureFlags"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/uiService.js": {
      "imports": [
        "../setupScoreboard.js",
        "./debugPanel.js",
        "./battleEvents.js",
        "./roundState.js"
      ],
      "functions": {
        "extractSeconds": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "parseRoundNumber": {
          "calls": ["isFinite", "trim", "Number"],
          "patterns": []
        },
        "isCliMode": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "handleRoundStart": {
          "calls": [
            "clearMessage",
            "parseRoundNumber",
            "setRoundNumber",
            "isCliMode",
            "updateRoundCounter",
            "warn",
            "clearRoundCounter"
          ],
          "patterns": []
        },
        "handleRoundOutcome": {
          "calls": ["String", "showMessage"],
          "patterns": []
        },
        "handleRoundMessage": {
          "calls": ["String", "showMessage"],
          "patterns": []
        },
        "handleMessageClear": {
          "calls": ["clearMessage"],
          "patterns": []
        },
        "handleTimerShow": {
          "calls": ["extractSeconds", "updateTimer"],
          "patterns": []
        },
        "handleTimerTick": {
          "calls": ["extractSeconds", "updateTimer"],
          "patterns": []
        },
        "handleTimerHide": {
          "calls": ["clearTimer"],
          "patterns": []
        },
        "handleScoreUpdate": {
          "calls": ["isFinite", "updateScore"],
          "patterns": []
        },
        "extractScorePair": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "handleDomainScoreUpdate": {
          "calls": ["extractScorePair", "handleScoreUpdate"],
          "patterns": []
        },
        "handleAutoSelectShow": {
          "calls": ["showAutoSelect"],
          "patterns": []
        },
        "handleTempMessage": {
          "calls": ["showTemporaryMessage"],
          "patterns": []
        },
        "bindScoreboardEventHandlers": {
          "calls": [
            "onBattleEvent",
            "isCliMode",
            "updateRoundCounter",
            "wireIntoScoreboardAdapter"
          ],
          "patterns": []
        },
        "wrappedUpdateRoundCounter": {
          "calls": ["isCliMode", "updateRoundCounter"],
          "patterns": []
        },
        "bindUIServiceEventHandlers": {
          "calls": [
            "onBattleEvent",
            "clearMessage",
            "error",
            "showMessage",
            "updateDebugPanel",
            "querySelector",
            "close",
            "removeAttribute",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "bindScoreboardEventHandlersOnce": {
          "calls": ["getBattleEventTarget", "has", "add", "bindScoreboardEventHandlers"],
          "patterns": []
        },
        "bindUIServiceEventHandlersOnce": {
          "calls": ["getBattleEventTarget", "has", "add", "bindUIServiceEventHandlers"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/uiHelpers.js": {
      "imports": [
        "../featureFlags.js",
        "../BattleEngine.js",
        "../showSnackbar.js",
        "../i18n.js",
        "../roundStatusDisplay.js",
        "../battle/index.js",
        "../motionUtils.js",
        "../../utils/scheduler.js",
        "./selectionHandler.js",
        "./cardStatUtils.js",
        "./timerService.js",
        "../stats.js",
        "../../components/JudokaCard.js",
        "../lazyPortrait.js",
        "./roundState.js",
        "../../components/Modal.js",
        "../../components/Button.js",
        "./selectionState.js",
        "./statButtons.js",
        "./guard.js",
        "./debugPanel.js",
        "./statButtonTestSignals.js",
        "./scoreDisplay.js",
        "./uiEventHandlers.js",
        "./battleDebug.js",
        "../testModeUtils.js"
      ],
      "functions": {
        "skipRoundCooldownIfEnabled": {
          "calls": ["isEnabled", "setSkipRoundCooldownFeatureMarker", "onSkip", "warn"],
          "patterns": []
        },
        "setSkipRoundCooldownFeatureMarker": {
          "calls": ["setAttribute", "getElementById", "querySelector"],
          "patterns": []
        },
        "applyBattleFeatureFlags": {
          "calls": [
            "isEnabled",
            "setDebugPanelEnabled",
            "setAttribute",
            "removeAttribute",
            "getCurrentSeed",
            "String"
          ],
          "patterns": []
        },
        "renderOpponentCard": {
          "calls": [
            "render",
            "guard",
            "debug",
            "querySelector",
            "appendChild",
            "setupLazyPortraits"
          ],
          "patterns": []
        },
        "showRoundOutcome": {
          "calls": [
            "trim",
            "isFinite",
            "toUpperCase",
            "charAt",
            "slice",
            "showResult",
            "showMessage"
          ],
          "patterns": []
        },
        "setupNextButton": {
          "calls": [
            "getElementById",
            "guard",
            "warn",
            "querySelector",
            "addEventListener",
            "hasAttribute"
          ],
          "patterns": []
        },
        "enableNextRoundButton": {
          "calls": ["getElementById", "querySelector", "removeAttribute", "setAttribute", "debug"],
          "patterns": []
        },
        "disableNextRoundButton": {
          "calls": ["getElementById", "querySelector", "debug"],
          "patterns": []
        },
        "readVisibleRoundNumber": {
          "calls": ["getElementById", "match", "String", "Number", "isFinite"],
          "patterns": []
        },
        "updateHighestDisplayedRoundDiagnostic": {
          "calls": ["Number", "isFinite", "max"],
          "patterns": []
        },
        "applyButtonFinalizedState": {
          "calls": ["removeAttribute", "setAttribute"],
          "patterns": []
        },
        "applyNextButtonFinalizedState": {
          "calls": [
            "log",
            "setSelectionFinalized",
            "getCurrentRound",
            "updateHighestDisplayedRoundDiagnostic",
            "getElementById",
            "querySelector",
            "applyButtonFinalizedState"
          ],
          "patterns": []
        },
        "setNextButtonFinalizedState": {
          "calls": [
            "getElementById",
            "querySelector",
            "readVisibleRoundNumber",
            "setSelectionFinalized",
            "updateHighestDisplayedRoundDiagnostic",
            "applyButtonFinalizedState"
          ],
          "patterns": []
        },
        "showStatComparison": {
          "calls": [
            "getElementById",
            "cancelFrame",
            "toUpperCase",
            "charAt",
            "slice",
            "match",
            "Number",
            "shouldReduceMotionSync",
            "now",
            "min",
            "round",
            "scheduleFrame"
          ],
          "patterns": []
        },
        "step": {
          "calls": ["min", "round", "cancelFrame", "scheduleFrame"],
          "patterns": []
        },
        "watchBattleOrientation": {
          "calls": [
            "resolve",
            "callback",
            "scheduleFrame",
            "then",
            "invoke",
            "cancelFrame",
            "pollIfMissing",
            "requestAnimationFrame",
            "addEventListener",
            "removeEventListener",
            "cancelAnimationFrame"
          ],
          "patterns": []
        },
        "invoke": {
          "calls": ["resolve", "callback"],
          "patterns": []
        },
        "pollIfMissing": {
          "calls": ["scheduleFrame", "then", "invoke", "cancelFrame"],
          "patterns": []
        },
        "onChange": {
          "calls": ["then", "invoke", "pollIfMissing", "requestAnimationFrame"],
          "patterns": []
        },
        "showRetryModal": {
          "calls": [
            "getElementById",
            "createElement",
            "createButton",
            "appendChild",
            "createDocumentFragment",
            "append",
            "createModal",
            "addEventListener",
            "close",
            "destroy",
            "retryFn",
            "open"
          ],
          "patterns": []
        },
        "registerRoundStartErrorHandler": {
          "calls": ["showMessage", "showRetryModal", "addEventListener", "removeEventListener"],
          "patterns": []
        },
        "onError": {
          "calls": ["showMessage", "showRetryModal"],
          "patterns": []
        },
        "selectStat": {
          "calls": [
            "guard",
            "debug",
            "querySelector",
            "trim",
            "toUpperCase",
            "charAt",
            "slice",
            "emitStatButtonTestEvent",
            "String",
            "getElementById",
            "querySelectorAll",
            "disableStatButtons",
            "add",
            "getCardStatValue",
            "isEnabled",
            "resolve",
            "handleStatSelection",
            "catch",
            "shouldDisplaySelectionSnackbar",
            "showSnackbar"
          ],
          "patterns": []
        },
        "shouldDisplaySelectionSnackbar": {
          "calls": ["call"],
          "patterns": []
        },
        "registerStatButtonClickHandler": {
          "calls": ["closest", "selectStat", "guard", "warn", "addEventListener", "defineProperty"],
          "patterns": []
        },
        "handler": {
          "calls": ["closest", "selectStat", "guard", "warn"],
          "patterns": []
        },
        "removeBackdrops": {
          "calls": ["forEach", "querySelectorAll", "remove", "destroy"],
          "patterns": []
        },
        "resetNextButton": {
          "calls": ["getElementById", "cloneNode", "addEventListener", "replaceWith"],
          "patterns": []
        },
        "resetQuitButton": {
          "calls": ["getElementById", "replaceWith", "cloneNode"],
          "patterns": []
        },
        "clearScoreboardAndMessages": {
          "calls": ["clearMessage", "clearTimer", "getElementById", "syncScoreDisplay"],
          "patterns": []
        },
        "initStatButtons": {
          "calls": [
            "getElementById",
            "from",
            "querySelectorAll",
            "guard",
            "warn",
            "resolveStatButtonsReady",
            "createStatButtonListenerRegistry",
            "registerStatButtonClickHandler",
            "enableStatButtons",
            "wireStatHotkeys",
            "disableStatButtons",
            "disposeHotkeys",
            "disable"
          ],
          "patterns": []
        },
        "enable": {
          "calls": ["enableStatButtons", "resolveStatButtonsReady", "wireStatHotkeys"],
          "patterns": []
        },
        "disable": {
          "calls": ["disableStatButtons", "disposeHotkeys"],
          "patterns": []
        },
        "createStatButtonListenerRegistry": {
          "calls": ["now", "forEach", "push", "String", "trim"],
          "patterns": ["factory"]
        },
        "applyStatLabels": {
          "calls": [
            "catch",
            "loadStatNames",
            "replace",
            "toLowerCase",
            "String",
            "isArray",
            "keys",
            "querySelector",
            "toUpperCase",
            "charAt",
            "slice",
            "setAttribute",
            "getElementById",
            "createElement",
            "t",
            "after"
          ],
          "patterns": []
        },
        "updateBattleStateBadge": {
          "calls": ["getElementById", "String"],
          "patterns": []
        },
        "setBattleStateBadgeEnabled": {
          "calls": [
            "setAttribute",
            "getElementById",
            "removeAttribute",
            "remove",
            "querySelector",
            "createElement",
            "appendChild",
            "getStateSnapshot",
            "updateBattleStateBadge"
          ],
          "patterns": []
        },
        "resetBattleUI": {
          "calls": [
            "removeBackdrops",
            "resetNextButton",
            "resetQuitButton",
            "clearScoreboardAndMessages",
            "updateDebugPanelImpl"
          ],
          "patterns": []
        },
        "bindUIHelperEventHandlers": {
          "calls": ["bindUIHelperEventHandlersDynamic", "warn"],
          "patterns": []
        },
        "showFatalInitError": {
          "calls": [
            "String",
            "getElementById",
            "createElement",
            "append",
            "appendChild",
            "requestAnimationFrame",
            "add",
            "addEventListener",
            "reload"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/uiEventHandlers.js": {
      "imports": [
        "./battleEvents.js",
        "./opponentController.js",
        "../setupScoreboard.js",
        "../i18n.js",
        "./uiHelpers.js",
        "./debugPanel.js",
        "./opponentPromptTracker.js",
        "./opponentPlaceholder.js",
        "./globalState.js",
        "./timerSchedule.js",
        "../SnackbarManager.js",
        "../featureFlags.js",
        "./snackbar.js"
      ],
      "functions": {
        "clearOpponentSnackbarTimeout": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "clearOpponentSnackbar": {
          "calls": ["clearOpponentSnackbarTimeout", "remove"],
          "patterns": []
        },
        "clearFallbackPromptTimer": {
          "calls": [
            "getOpponentPromptFallbackTimerId",
            "clearScheduled",
            "setOpponentPromptFallbackTimerId"
          ],
          "patterns": []
        },
        "createPendingOpponentCardDataToken": {
          "calls": [],
          "patterns": ["factory"]
        },
        "setPendingOpponentCardData": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "clearPendingOpponentCardData": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "finalizeRevealContainerState": {
          "calls": ["remove", "querySelector", "setAttribute"],
          "patterns": []
        },
        "waitForNextFrame": {
          "calls": ["requestAnimationFrame", "resolve", "setTimeout"],
          "patterns": []
        },
        "now": {
          "calls": ["now", "isFinite"],
          "patterns": []
        },
        "getMinOpponentObscureDuration": {
          "calls": ["isFinite", "Number"],
          "patterns": []
        },
        "waitForMinimumOpponentObscureDuration": {
          "calls": ["isFinite", "max", "getMinOpponentObscureDuration", "now", "setTimeout"],
          "patterns": []
        },
        "bindUIHelperEventHandlersDynamic": {
          "calls": [
            "getElementById",
            "clearPendingOpponentCardData",
            "getOpponentCardDataFn",
            "isCurrentReveal",
            "renderOpponentCardFn",
            "waitForMinimumOpponentObscureDuration",
            "waitForNextFrame",
            "finalizeRevealContainerState",
            "emitBattleEvent",
            "onBattleEvent",
            "createPendingOpponentCardDataToken",
            "setPendingOpponentCardData",
            "querySelector",
            "applyOpponentCardPlaceholderFn",
            "now",
            "add",
            "remove",
            "isCurrentHandler",
            "clearTimer",
            "call",
            "clearOpponentSnackbar",
            "clearFallbackPromptTimer",
            "error",
            "isEnabledFn",
            "Number",
            "getOpponentDelayFn",
            "isFinite",
            "getOpponentPromptMinDurationFn",
            "show",
            "tFn",
            "markOpponentPromptNowFn",
            "max",
            "setTimeout",
            "revealOpponentCardAfterResolution",
            "showStatComparisonFn",
            "updateDebugPanelFn"
          ],
          "patterns": []
        },
        "revealOpponentCardAfterResolution": {
          "calls": [
            "getElementById",
            "clearPendingOpponentCardData",
            "getOpponentCardDataFn",
            "isCurrentReveal",
            "renderOpponentCardFn",
            "waitForMinimumOpponentObscureDuration",
            "waitForNextFrame",
            "finalizeRevealContainerState",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "isCurrentReveal": {
          "calls": [],
          "patterns": []
        },
        "isCurrentHandler": {
          "calls": [],
          "patterns": []
        },
        "getStatSelectedHandlerPromise": {
          "calls": [],
          "patterns": []
        },
        "awaitStatSelectedHandler": {
          "calls": [],
          "patterns": []
        },
        "dismissOpponentSnackbar": {
          "calls": ["clearOpponentSnackbar"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/timerUtils.js": {
      "imports": ["./battleDebug.js"],
      "functions": {
        "resolveDelay": {
          "calls": [],
          "patterns": []
        },
        "safeGetSnapshot": {
          "calls": ["getStateSnapshot"],
          "patterns": []
        },
        "isNextReady": {
          "calls": [],
          "patterns": []
        },
        "resetReadiness": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/timerService.js": {
      "imports": [
        "../timerUtils.js",
        "../BattleEngine.js",
        "../setupScoreboard.js",
        "../showSnackbar.js",
        "../i18n.js",
        "./skipHandler.js",
        "./autoSelectStat.js",
        "./battleEvents.js",
        "../featureFlags.js",
        "./uiHelpers.js",
        "./debugLogger.js",
        "./selectionState.js",
        "../CooldownRenderer.js",
        "./countdownCoordinator.js",
        "../scheduler.js",
        "./eventDispatcher.js",
        "../timers/createRoundTimer.js",
        "./opponentPromptWaiter.js",
        "./opponentPromptTracker.js",
        "./roundManager.js",
        "./guard.js",
        "./timerUtils.js",
        "./autoSelectHandlers.js"
      ],
      "functions": {
        "clearActiveCountdown": {
          "calls": ["detach", "stop"],
          "patterns": []
        },
        "handleCountdownExpired": {
          "calls": ["setSkipHandler", "emitBattleEvent"],
          "patterns": []
        },
        "resolveOpponentPromptWait": {
          "calls": ["isOpponentPromptReady", "computeOpponentPromptWaitBudget", "isFinite"],
          "patterns": []
        },
        "waitForOpponentPrompt": {
          "calls": [
            "waitForDelayedOpponentPromptDisplay",
            "Number",
            "isFinite",
            "setTimeout",
            "race",
            "warn",
            "clearTimeout"
          ],
          "patterns": []
        },
        "startCountdownSequence": {
          "calls": [
            "clearActiveCountdown",
            "createRoundTimer",
            "resolveOpponentPromptWait",
            "attachCountdownCoordinator",
            "handleCountdownExpired",
            "onFinished",
            "waitForOpponentPrompt",
            "start"
          ],
          "patterns": []
        },
        "handleCountdownStartEvent": {
          "calls": [
            "skipRoundCooldownIfEnabled",
            "emitCountdownFinished",
            "handleCountdownExpired",
            "startCountdownSequence",
            "error"
          ],
          "patterns": []
        },
        "bindCountdownEventHandlers": {
          "calls": ["onBattleEvent"],
          "patterns": []
        },
        "bindCountdownEventHandlersOnce": {
          "calls": ["getBattleEventTarget", "has", "add", "bindCountdownEventHandlers"],
          "patterns": []
        },
        "resolveActiveBattleStore": {
          "calls": [],
          "patterns": []
        },
        "onNextButtonClick": {
          "calls": [
            "resolveActiveBattleStore",
            "getElementById",
            "querySelector",
            "debug",
            "emitBattleEvent",
            "clearTimeout",
            "setTimeout",
            "safeGetSnapshot",
            "guard",
            "warn",
            "resolve",
            "error",
            "resetSelectionFinalized"
          ],
          "patterns": []
        },
        "resolveRoundTimerDuration": {
          "calls": ["call", "getDefaultTimer", "showTemporaryMessage", "t"],
          "patterns": []
        },
        "restore": {
          "calls": [],
          "patterns": []
        },
        "primeTimerDisplay": {
          "calls": ["isFinite", "emitBattleEvent"],
          "patterns": []
        },
        "configureTimerCallbacks": {
          "calls": [
            "emitEvent",
            "Number",
            "on",
            "max",
            "getElementById",
            "querySelector",
            "translate",
            "showSnack",
            "showMessage"
          ],
          "patterns": []
        },
        "tickHandler": {
          "calls": ["emitEvent", "Number"],
          "patterns": []
        },
        "handleTimerExpiration": {
          "calls": [
            "logTimerOperation",
            "setSkip",
            "clearTimer",
            "emitEvent",
            "warn",
            "isFeatureEnabled",
            "Boolean",
            "autoSelect",
            "resolve",
            "dispatchEvent",
            "onExpiredSelect"
          ],
          "patterns": []
        },
        "startTimer": {
          "calls": [
            "resolveDuration",
            "info",
            "primeTimerDisplay",
            "handleTimerExpiration",
            "createRoundTimer",
            "forceAutoSelectAndDispatch",
            "configureTimerCallbacks",
            "pause",
            "resume",
            "addEventListener",
            "unsubscribeExpired",
            "removeEventListener",
            "cleanup",
            "on",
            "bind",
            "warn",
            "originalStop",
            "setSkip",
            "stop",
            "start",
            "restore"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["unsubscribeExpired", "removeEventListener"],
          "patterns": []
        },
        "handleExpired": {
          "calls": ["cleanup"],
          "patterns": []
        },
        "advanceWhenReady": {
          "calls": ["dispatchBattleEvent", "setSkipHandler", "resolveReady", "error"],
          "patterns": []
        },
        "cancelTimerOrAdvance": {
          "calls": ["stop", "error", "dispatchBattleEvent", "resolveReady"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/timerSchedule.js": {
      "imports": [],
      "functions": {
        "getCurrentTimestamp": {
          "calls": ["now"],
          "patterns": []
        },
        "scheduleDelayed": {
          "calls": ["setTimeout", "Number", "isFinite"],
          "patterns": []
        },
        "clearScheduled": {
          "calls": ["Number", "isFinite", "clearTimeout"],
          "patterns": []
        },
        "calculateRemaining": {
          "calls": ["getCurrentTimestamp", "max"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/testHooks.js": {
      "imports": [
        "./battleEvents.js",
        "../BattleEngine.js",
        "./roundUI.js",
        "./uiService.js",
        "./uiEventHandlers.js",
        "./roundFlowController.js",
        "./promises.js",
        "./cardSelection.js",
        "./cardStatUtils.js",
        "./selectionHandler.js",
        "./eventDispatcher.js",
        "./autoSelectStat.js",
        "./autoSelectHandlers.js",
        "./timerService.js",
        "../../components/Scoreboard.js",
        "../../components/StatsPanel.js"
      ],
      "functions": {
        "readStatFromCard": {
          "calls": [
            "hasAttribute",
            "querySelector",
            "getAttribute",
            "parse",
            "Number",
            "isFinite",
            "getCardStatValue"
          ],
          "patterns": []
        },
        "deriveSelectionValues": {
          "calls": [
            "getElementById",
            "readStatFromCard",
            "isFinite",
            "getOpponentJudoka",
            "Number"
          ],
          "patterns": []
        },
        "mergeTestCardData": {
          "calls": [],
          "patterns": []
        },
        "renderStatsCardForTest": {
          "calls": [
            "mergeTestCardData",
            "toLowerCase",
            "String",
            "createStatsPanel",
            "createElement",
            "stringify",
            "warn",
            "trim",
            "appendChild",
            "replaceChildren"
          ],
          "patterns": []
        },
        "setCardStatValuesForTest": {
          "calls": ["getElementById", "all", "renderStatsCardForTest"],
          "patterns": []
        },
        "ensureBindings": {
          "calls": [
            "bindRoundFlowControllerOnce",
            "bindRoundUIEventHandlersDynamic",
            "bindUIServiceEventHandlersOnce",
            "bindCountdownEventHandlersOnce",
            "__resetBattleEventTarget",
            "bindUIHelperEventHandlersDynamic",
            "resetBattlePromises"
          ],
          "patterns": []
        },
        "resetBindings": {
          "calls": [],
          "patterns": []
        },
        "triggerRoundTimeoutNow": {
          "calls": [
            "deriveSelectionValues",
            "handleStatSelection",
            "stopTimer",
            "emitBattleEvent",
            "autoSelectStat",
            "catch",
            "dispatchBattleEvent"
          ],
          "patterns": []
        },
        "onExpiredSelect": {
          "calls": ["deriveSelectionValues", "handleStatSelection"],
          "patterns": []
        },
        "triggerStallPromptNow": {
          "calls": [
            "deriveSelectionValues",
            "handleStatSelection",
            "handleStatSelectionTimeout",
            "showMessage",
            "getElementById",
            "emitBattleEventFn"
          ],
          "patterns": []
        },
        "onSelect": {
          "calls": ["deriveSelectionValues", "handleStatSelection"],
          "patterns": []
        },
        "initializeTestBindingsLight": {
          "calls": ["push", "now", "reset", "addEventListener", "resolve", "setupPromise"],
          "patterns": []
        },
        "setupPromise": {
          "calls": ["push", "now", "reset", "addEventListener", "resolve"],
          "patterns": []
        },
        "reset": {
          "calls": ["push", "now"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/storeGuard.js": {
      "imports": [],
      "functions": {
        "enterStoreGuard": {
          "calls": ["call", "defineProperty"],
          "patterns": []
        },
        "getHiddenStoreValue": {
          "calls": [],
          "patterns": []
        },
        "setHiddenStoreValue": {
          "calls": ["call", "defineProperty"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateTransitionListeners.js": {
      "imports": ["./battleEvents.js", "./battleDebug.js", "./debugHooks.js"],
      "functions": {
        "createDomStateListener": {
          "calls": ["warn"],
          "patterns": ["factory"]
        },
        "createDebugLogListener": {
          "calls": [
            "warn",
            "logStateTransition",
            "getTimerState",
            "exposeDebugState",
            "emitBattleEvent"
          ],
          "patterns": ["factory"]
        },
        "registerStateTransitionListeners": {
          "calls": [
            "createDomStateListener",
            "createDebugLogListener",
            "onBattleEvent",
            "offBattleEvent"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateTable.js": {
      "imports": [],
      "functions": {
        "mergeStateTables": {
          "calls": ["map", "isArray", "get", "push"],
          "patterns": []
        },
        "buildClassicBattleStateTable": {
          "calls": ["mergeStateTables"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateManager.js": {
      "imports": ["./stateTable.js", "./debugLog.js", "../logger.js", "../featureFlags.js"],
      "functions": {
        "resolveGuardToggle": {
          "calls": ["call", "isEnabled"],
          "patterns": []
        },
        "isAutoSelectEnabled": {
          "calls": ["resolveGuardToggle"],
          "patterns": []
        },
        "isRoundModifyEnabled": {
          "calls": ["resolveGuardToggle"],
          "patterns": []
        },
        "isWinConditionMet": {
          "calls": ["logWarn", "getScores"],
          "patterns": []
        },
        "evaluateGuard": {
          "calls": ["isAutoSelectEnabled", "isRoundModifyEnabled", "isWinConditionMet", "logWarn"],
          "patterns": []
        },
        "initializeStateTable": {
          "calls": ["isArray", "set"],
          "patterns": []
        },
        "getAvailableTriggers": {
          "calls": ["map"],
          "patterns": []
        },
        "validateStateTable": {
          "calls": ["isArray", "logError", "stringify"],
          "patterns": []
        },
        "validateContext": {
          "calls": ["logError"],
          "patterns": []
        },
        "validateStateTransition": {
          "calls": ["get", "logError", "find", "logWarn"],
          "patterns": []
        },
        "runOnEnter": {
          "calls": ["debugLog", "fn", "shouldSuppressDebugOutput", "logDebug", "logWarn"],
          "patterns": []
        },
        "validateHandlerMap": {
          "calls": ["filter", "from", "logWarn", "join", "debugLog"],
          "patterns": []
        },
        "resolveWaitingForMatchStartTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveMatchStartTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveRoundWaitTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveRoundPromptTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveRoundSelectTransition": {
          "calls": ["isAutoSelectEnabled"],
          "patterns": []
        },
        "resolveRoundResolveTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveRoundDisplayTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveMatchEvaluateTransition": {
          "calls": ["isWinConditionMet"],
          "patterns": []
        },
        "resolveMatchDecisionTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveMatchOverTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveInterruptRoundTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveInterruptMatchTransition": {
          "calls": [],
          "patterns": []
        },
        "resolveClassicBattleTransition": {
          "calls": [
            "resolveWaitingForMatchStartTransition",
            "resolveMatchStartTransition",
            "resolveRoundWaitTransition",
            "resolveRoundPromptTransition",
            "resolveRoundSelectTransition",
            "resolveRoundResolveTransition",
            "resolveRoundDisplayTransition",
            "resolveMatchEvaluateTransition",
            "resolveMatchDecisionTransition",
            "resolveMatchOverTransition",
            "resolveInterruptRoundTransition",
            "resolveInterruptMatchTransition"
          ],
          "patterns": []
        },
        "executeTransition": {
          "calls": [
            "validateStateTransition",
            "logError",
            "debugLog",
            "updateCurrentState",
            "onTransition",
            "runOnEnter"
          ],
          "patterns": []
        },
        "getAvailableTransitions": {
          "calls": ["get", "map"],
          "patterns": []
        },
        "debugStateTable": {
          "calls": ["logFn"],
          "patterns": []
        },
        "createStateManager": {
          "calls": [
            "validateStateTable",
            "validateContext",
            "initializeStateTable",
            "keys",
            "validateHandlerMap",
            "debugLog",
            "getAvailableTransitions",
            "get",
            "getAvailableTriggers",
            "filter",
            "evaluateGuard",
            "resolveClassicBattleTransition",
            "has",
            "logError",
            "executeTransition",
            "onTransition",
            "runOnEnter"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers.js": {
      "imports": [
        "./stateHandlers/waitingForMatchStartEnter.js",
        "./stateHandlers/matchStartEnter.js",
        "./stateHandlers/roundWaitEnter.js",
        "./stateHandlers/roundPromptEnter.js",
        "./stateHandlers/roundSelectEnter.js",
        "./stateHandlers/roundSelectExit.js",
        "./stateHandlers/roundResolveEnter.js",
        "./stateHandlers/roundResolveExit.js",
        "./stateHandlers/roundDisplayEnter.js",
        "./stateHandlers/matchEvaluateEnter.js",
        "./stateHandlers/matchDecisionEnter.js",
        "./stateHandlers/matchOverEnter.js",
        "./stateHandlers/interruptRoundEnter.js",
        "./stateHandlers/interruptMatchEnter.js",
        "./stateHandlers/roundModificationEnter.js"
      ],
      "functions": {}
    },
    "src/helpers/classicBattle/stateGuards.js": {
      "imports": [],
      "functions": {
        "withStateGuard": {
          "calls": ["isArray", "debug", "getState", "includes", "onInvalidState", "callback"],
          "patterns": []
        },
        "withStateGuardAsync": {
          "calls": ["isArray", "getState", "includes", "onInvalidState", "callback", "debug"],
          "patterns": []
        },
        "guardWindowAssignment": {
          "calls": ["debug"],
          "patterns": []
        },
        "guardStoreAssignment": {
          "calls": ["debug"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateCatalog.js": {
      "imports": [],
      "functions": {
        "buildStateCatalog": {
          "calls": ["slice", "indexOf", "reduce"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/statValuesHelper.js": {
      "imports": ["./cardStatUtils.js", "./cardSelection.js"],
      "functions": {
        "resolveStatValues": {
          "calls": ["getCardStatValue", "getOpponentJudoka", "Number", "isFinite"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/statButtons.js": {
      "imports": [
        "../featureFlags.js",
        "../testing/statButtonTracker.js",
        "./statButtonTestSignals.js"
      ],
      "functions": {
        "toButtonArray": {
          "calls": ["isArray", "filter", "from"],
          "patterns": []
        },
        "applyDisabledState": {
          "calls": ["setAttribute", "removeAttribute", "add", "remove", "warn"],
          "patterns": []
        },
        "enableStatButtons": {
          "calls": [
            "toButtonArray",
            "push",
            "forEach",
            "applyDisabledState",
            "remove",
            "removeProperty",
            "captureStatButtonSnapshot"
          ],
          "patterns": []
        },
        "disableStatButtons": {
          "calls": [
            "toButtonArray",
            "forEach",
            "applyDisabledState",
            "captureStatButtonSnapshot",
            "emitStatButtonTestEvent",
            "filter",
            "map"
          ],
          "patterns": []
        },
        "resolveStatButtonsReady": {
          "calls": ["__resolveStatButtonsReady", "resolve"],
          "patterns": []
        },
        "setStatButtonsEnabled": {
          "calls": ["enableStatButtons", "resolveReady", "disableStatButtons", "resetReady"],
          "patterns": []
        },
        "resetStatButtons": {
          "calls": [
            "from",
            "querySelectorAll",
            "forEach",
            "remove",
            "removeProperty",
            "enableStatButtons"
          ],
          "patterns": []
        },
        "exposeHotkeyTestHook": {
          "calls": ["click"],
          "patterns": []
        },
        "createHotkeyHandler": {
          "calls": ["isEnabled", "has", "Number", "preventDefault", "click"],
          "patterns": ["factory"]
        },
        "subscribeToFlagChanges": {
          "calls": ["addEventListener", "removeEventListener"],
          "patterns": []
        },
        "wireStatHotkeys": {
          "calls": [
            "exposeHotkeyTestHook",
            "createHotkeyHandler",
            "isEnabled",
            "addEventListener",
            "removeEventListener",
            "attachHotkeys",
            "detachHotkeys",
            "syncHotkeyBinding",
            "subscribeToFlagChanges",
            "unsubscribe"
          ],
          "patterns": []
        },
        "attachHotkeys": {
          "calls": ["isEnabled", "addEventListener"],
          "patterns": []
        },
        "detachHotkeys": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "syncHotkeyBinding": {
          "calls": ["isEnabled", "attachHotkeys", "detachHotkeys"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/statButtonTestSignals.js": {
      "imports": [],
      "functions": {
        "toEventObject": {
          "calls": ["String", "now"],
          "patterns": []
        },
        "emitStatButtonTestEvent": {
          "calls": ["toEventObject", "push", "splice", "from", "listener"],
          "patterns": []
        },
        "subscribeToStatButtonTestEvents": {
          "calls": ["add", "delete"],
          "patterns": []
        },
        "getStatButtonEventHistory": {
          "calls": ["slice"],
          "patterns": []
        },
        "getLastStatButtonTestEvent": {
          "calls": [],
          "patterns": []
        },
        "serializeEvent": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "matchesEvent": {
          "calls": ["has"],
          "patterns": []
        },
        "findMatchingEvent": {
          "calls": ["matchesEvent"],
          "patterns": []
        },
        "waitForStatButtonEventInternal": {
          "calls": [
            "isArray",
            "map",
            "String",
            "isFinite",
            "Number",
            "clearTimeout",
            "unsubscribe",
            "cleanup",
            "serializeEvent",
            "reject",
            "resolve",
            "findMatchingEvent",
            "finish",
            "subscribeToStatButtonTestEvents",
            "matchesEvent",
            "setTimeout"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["clearTimeout", "unsubscribe"],
          "patterns": []
        },
        "finish": {
          "calls": ["cleanup", "serializeEvent", "reject", "resolve"],
          "patterns": []
        },
        "createStatButtonTestApi": {
          "calls": [
            "getLastStatButtonTestEvent",
            "serializeEvent",
            "getStatButtonEventHistory",
            "isFinite",
            "map",
            "Number",
            "slice",
            "max",
            "waitForStatButtonEventInternal"
          ],
          "patterns": ["factory"]
        },
        "ensureGlobalStatButtonApi": {
          "calls": ["createStatButtonTestApi"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/statButtonCache.js": {
      "imports": [],
      "functions": {
        "createStatButtonCache": {
          "calls": [
            "disconnect",
            "getElementById",
            "invalidate",
            "observe",
            "every",
            "from",
            "querySelectorAll",
            "setupObserver",
            "isValid",
            "refresh"
          ],
          "patterns": ["factory"]
        },
        "invalidate": {
          "calls": ["disconnect"],
          "patterns": []
        },
        "setupObserver": {
          "calls": ["getElementById", "invalidate", "observe"],
          "patterns": []
        },
        "isValid": {
          "calls": ["every"],
          "patterns": []
        },
        "refresh": {
          "calls": ["from", "querySelectorAll", "setupObserver"],
          "patterns": []
        },
        "get": {
          "calls": ["isValid", "refresh"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/snackbar.js": {
      "imports": [
        "../showSnackbar.js",
        "../i18n.js",
        "./battleEvents.js",
        "../testModeUtils.js",
        "./safeCall.js",
        "../documentHelper.js"
      ],
      "functions": {
        "setOpponentDelay": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "getOpponentDelay": {
          "calls": [],
          "patterns": []
        },
        "showSelectionPrompt": {
          "calls": [
            "safeGetElementById",
            "showSnackbar",
            "t",
            "safeCall",
            "emitBattleEvent",
            "isTestModeEnabled",
            "warn"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/skipHandler.js": {
      "imports": [],
      "functions": {
        "setSkipHandler": {
          "calls": ["dispatchEvent", "Boolean", "skipHandler"],
          "patterns": []
        },
        "skipCurrentPhase": {
          "calls": ["setSkipHandler", "setTimeout", "fn"],
          "patterns": []
        },
        "resetSkipState": {
          "calls": ["dispatchEvent"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/setupUIBindings.js": {
      "imports": [
        "../setupScoreboard.js",
        "./quitButton.js",
        "./interruptHandlers.js",
        "./uiHelpers.js",
        "./battleEvents.js",
        "../battleStateProgress.js",
        "../featureFlags.js",
        "../tooltip.js",
        "./roundManager.js"
      ],
      "functions": {
        "cleanupStatButtonEventBindings": {
          "calls": ["offBattleEvent"],
          "patterns": []
        },
        "isReplayControlTarget": {
          "calls": ["Boolean", "closest"],
          "patterns": []
        },
        "onDocumentReplayClick": {
          "calls": ["isReplayControlTarget", "handleReplay"],
          "patterns": []
        },
        "bindReplayClickListener": {
          "calls": ["addEventListener"],
          "patterns": []
        },
        "unbindReplayClickListener": {
          "calls": [
            "cleanupStatButtonEventBindings",
            "cleanupBattleOrientationWatcher",
            "cleanupInterruptHandlers",
            "removeEventListener"
          ],
          "patterns": []
        },
        "setupUIBindings": {
          "calls": [
            "setupScoreboard",
            "initQuitButton",
            "initInterruptHandlers",
            "bindReplayClickListener",
            "cleanupBattleOrientationWatcher",
            "watchBattleOrientation",
            "applyBattleOrientation",
            "setupNextButton",
            "initStatButtons",
            "cleanupStatButtonEventBindings",
            "getElementById",
            "enable",
            "querySelector",
            "focus",
            "disable",
            "onBattleEvent",
            "isEnabled",
            "initBattleStateProgress",
            "addEventListener",
            "applyStatLabels",
            "initTooltips",
            "debug"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/setupTestHelpers.js": {
      "imports": [
        "./statButtons.js",
        "./skipHandler.js",
        "../../utils/scheduler.js",
        "./battleEvents.js",
        "./roundState.js"
      ],
      "functions": {
        "createClassicBattleDebugAPI": {
          "calls": [
            "from",
            "querySelectorAll",
            "click",
            "getCurrentRound",
            "toLowerCase",
            "String",
            "find",
            "includes",
            "setAttribute",
            "getStatButtons",
            "skipCurrentPhase",
            "resetStatButtons",
            "warn",
            "resolve",
            "startRound",
            "pauseTimer",
            "stopScheduler",
            "startScheduler",
            "resumeTimer",
            "isReady",
            "selectByIndex",
            "queueMicrotask",
            "emitBattleEvent",
            "skipBattlePhase",
            "getElementById",
            "querySelector",
            "now",
            "getAttribute",
            "setTimeout",
            "assign"
          ],
          "patterns": ["factory"]
        },
        "getStatButtons": {
          "calls": ["from", "querySelectorAll"],
          "patterns": []
        },
        "skipBattlePhase": {
          "calls": ["skipCurrentPhase", "resetStatButtons", "querySelectorAll", "warn", "resolve"],
          "patterns": []
        },
        "startRoundOverride": {
          "calls": ["startRound"],
          "patterns": []
        },
        "freezeBattleHeader": {
          "calls": ["pauseTimer", "stopScheduler"],
          "patterns": []
        },
        "resumeBattleHeader": {
          "calls": ["startScheduler", "resumeTimer"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/setupScheduler.js": {
      "imports": ["../../utils/scheduler.js", "../testModeUtils.js"],
      "functions": {
        "visibilityHandler": {
          "calls": ["pause", "resume"],
          "patterns": []
        },
        "teardownScheduler": {
          "calls": ["removeEventListener", "stopScheduler"],
          "patterns": []
        },
        "resetSchedulerState": {
          "calls": ["teardownScheduler"],
          "patterns": []
        },
        "shouldStartScheduler": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "setupScheduler": {
          "calls": [
            "isTestModeEnabled",
            "shouldStartScheduler",
            "startScheduler",
            "addEventListener"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/setupFallbackTimer.js": {
      "imports": ["../scheduler.js"],
      "functions": {
        "setupFallbackTimer": {
          "calls": ["setTimeout"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/setupDebugHooks.js": {
      "imports": ["./debugPanel.js", "./uiHelpers.js"],
      "functions": {
        "setupDebugHooks": {
          "calls": ["initDebugPanel", "registerRoundStartErrorHandler", "startRound"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/selectionState.js": {
      "imports": [],
      "functions": {
        "setSelectionFinalized": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "getSelectionFinalized": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "resetSelectionFinalized": {
          "calls": ["setSelectionFinalized"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/selectionHandler.js": {
      "imports": [
        "../BattleEngine.js",
        "../api/battleUI.js",
        "./battleEvents.js",
        "./eventDispatcher.js",
        "./roundResolver.js",
        "./cardStatUtils.js",
        "./eventBus.js",
        "./promises.js",
        "../setupScoreboard.js",
        "./scoreDisplay.js",
        "./roundState.js",
        "../scheduler.js",
        "../debug.js",
        "../testModeUtils.js",
        "../guardUtils.js"
      ],
      "functions": {
        "createDeferred": {
          "calls": [],
          "patterns": ["factory"]
        },
        "INVALID_STATE_WARNING": {
          "calls": [],
          "patterns": []
        },
        "getCurrentBattleState": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setBattleStateDataset": {
          "calls": ["String"],
          "patterns": []
        },
        "logSelectionDebug": {
          "calls": ["debugLog"],
          "patterns": []
        },
        "logSelectionMutation": {
          "calls": ["debugLog", "push"],
          "patterns": []
        },
        "trackDebugInfo": {
          "calls": ["push"],
          "patterns": []
        },
        "normalizeScore": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "isOrchestratorActive": {
          "calls": ["getCurrentBattleState", "getAttribute", "querySelector"],
          "patterns": []
        },
        "syncRoundsPlayedFromEngine": {
          "calls": ["getRoundsPlayed", "isFinite"],
          "patterns": []
        },
        "shouldClearSelectionForNextRound": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "simulateOpponentStat": {
          "calls": ["isArray", "map", "Number", "chooseOpponentStat"],
          "patterns": []
        },
        "getPlayerAndOpponentValues": {
          "calls": ["resolveStatSide", "Number"],
          "patterns": []
        },
        "resolveStatSide": {
          "calls": [
            "isNaN",
            "Number",
            "readStoreStat",
            "getStatContainer",
            "getCardStatValue",
            "isFinite"
          ],
          "patterns": []
        },
        "readStoreStat": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "getStatContainer": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "resolveRoundDirect": {
          "calls": ["resolveRound"],
          "patterns": []
        },
        "validateSelectionState": {
          "calls": [
            "now",
            "trackDebugInfo",
            "logSelectionDebug",
            "emitBattleEvent",
            "getBattleState",
            "find",
            "includes",
            "debugLog",
            "INVALID_STATE_WARNING"
          ],
          "patterns": []
        },
        "applySelectionToStore": {
          "calls": [
            "logSelectionDebug",
            "isFinite",
            "Number",
            "logSelectionMutation",
            "setSelectedStat",
            "getPlayerAndOpponentValues"
          ],
          "patterns": []
        },
        "clearNextRoundTimerFallback": {
          "calls": ["clearTimer", "getElementById", "querySelector", "removeChild"],
          "patterns": []
        },
        "clearRoundMessageFallback": {
          "calls": ["clearMessage", "getElementById", "querySelector"],
          "patterns": []
        },
        "shouldClearRoundArtifactsInTests": {
          "calls": ["Boolean", "isTestModeEnabled"],
          "patterns": []
        },
        "collectSelectionSchedulers": {
          "calls": ["push", "getScheduler"],
          "patterns": []
        },
        "clearTimerHandle": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "cleanupTimers": {
          "calls": [
            "stopTimer",
            "clearTimer",
            "__battleClassicStopSelectionTimer",
            "clearNextRoundTimerFallback",
            "collectSelectionSchedulers",
            "clearTimerHandle"
          ],
          "patterns": []
        },
        "emitSelectionEvent": {
          "calls": [
            "setAttribute",
            "emitBattleEvent",
            "shouldClearRoundArtifactsInTests",
            "clearRoundMessageFallback",
            "clearNextRoundTimerFallback"
          ],
          "patterns": []
        },
        "validateAndApplySelection": {
          "calls": [
            "logSelectionDebug",
            "validateSelectionState",
            "getBattleState",
            "debugLog",
            "dispatchBattleEvent",
            "applySelectionToStore"
          ],
          "patterns": []
        },
        "dispatchStatSelected": {
          "calls": [
            "logSelectionDebug",
            "cleanupTimers",
            "emitSelectionEvent",
            "dispatchBattleEvent"
          ],
          "patterns": []
        },
        "handleFallbackResolution": {
          "calls": [
            "getCurrentBattleState",
            "startsWith",
            "setBattleStateDataset",
            "emitBattleEvent",
            "syncResultDisplay"
          ],
          "patterns": []
        },
        "resolveWithFallback": {
          "calls": [
            "getCurrentBattleState",
            "isOrchestratorActive",
            "logSelectionDebug",
            "collectSelectionSchedulers",
            "clearTimerHandle",
            "setTimeout",
            "handleFallbackResolution",
            "catch",
            "then",
            "getRoundEvaluatedPromise",
            "clearTimeout"
          ],
          "patterns": []
        },
        "syncResultDisplay": {
          "calls": [
            "enterGuard",
            "getHiddenStoreValue",
            "resolveRoundDirect",
            "setHiddenStoreValue",
            "querySelector",
            "writeScoreDisplay",
            "normalizeScore",
            "getScores",
            "updateScore",
            "dispatchBattleEvent",
            "release"
          ],
          "patterns": []
        },
        "handleStatSelection": {
          "calls": [
            "createDeferred",
            "resolve",
            "logSelectionDebug",
            "enterGuard",
            "emitBattleEvent",
            "resolveSelectionApplied",
            "getHiddenStoreValue",
            "validateAndApplySelection",
            "logSelectionMutation",
            "dispatchStatSelected",
            "resolveWithFallback",
            "getRoundEvaluatedPromise",
            "race",
            "setTimeout",
            "syncRoundsPlayedFromEngine",
            "syncResultDisplay",
            "release"
          ],
          "patterns": []
        },
        "resolveSelectionApplied": {
          "calls": ["resolve"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/selectionDelayCalculator.js": {
      "imports": [],
      "functions": {
        "getBaseSelectionReadyDelay": {
          "calls": ["max", "isFinite"],
          "patterns": []
        },
        "getSelectionDelayOverride": {
          "calls": ["Number"],
          "patterns": []
        },
        "computeDelayWithOpponentBuffer": {
          "calls": ["isFinite"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/scoreDisplay.js": {
      "imports": ["../BattleEngine.js", "../setupScoreboard.js"],
      "functions": {
        "normalizeScore": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "normalizeScores": {
          "calls": ["normalizeScore"],
          "patterns": []
        },
        "ensureScoreSpacing": {
          "calls": ["insertBefore", "createTextNode", "test"],
          "patterns": []
        },
        "ensureSideSpacing": {
          "calls": ["querySelector", "insertBefore", "createTextNode", "test"],
          "patterns": []
        },
        "ensureScoreNode": {
          "calls": [
            "querySelector",
            "createElement",
            "appendChild",
            "insertBefore",
            "ensureSideSpacing"
          ],
          "patterns": []
        },
        "renderScoreDisplay": {
          "calls": ["getElementById", "ensureScoreNode", "String", "ensureScoreSpacing"],
          "patterns": []
        },
        "writeScoreDisplay": {
          "calls": ["normalizeScores", "renderScoreDisplay"],
          "patterns": []
        },
        "syncScoreboardDisplay": {
          "calls": ["normalizeScores", "updateScoreboard", "renderScoreDisplay"],
          "patterns": []
        },
        "syncScoreDisplay": {
          "calls": [
            "getScores",
            "normalizeScores",
            "log",
            "syncScoreboardDisplay",
            "getElementById"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/safeExecute.js": {
      "imports": [],
      "functions": {
        "safeExecute": {
          "calls": ["fn", "getLogger", "logger"],
          "patterns": []
        },
        "getLogger": {
          "calls": [],
          "patterns": []
        },
        "safeExecuteAsync": {
          "calls": ["fn", "getLogger", "logger"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/safeCall.js": {
      "imports": [],
      "functions": {
        "safeCall": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundUI.js": {
      "imports": [
        "./debugPanel.js",
        "./snackbar.js",
        "./timerService.js",
        "./autoSelectHandlers.js",
        "../setupScoreboard.js",
        "../CooldownRenderer.js",
        "./countdownCoordinator.js",
        "./selectionHandler.js",
        "./roundManager.js",
        "./battleEvents.js",
        "./battleLogger.js",
        "./eventValidators.js",
        "./statButtonCache.js",
        "./statValuesHelper.js",
        "../showSnackbar.js",
        "../timers/computeNextRoundCooldown.js",
        "./uiHelpers.js",
        "./statButtons.js",
        "./idleCallback.js",
        "../../utils/rafUtils.js",
        "./opponentPromptTracker.js",
        "../roundStatusDisplay.js",
        "./opponentPromptWaiter.js",
        "./cooldownResolver.js",
        "./frameScheduler.js"
      ],
      "functions": {
        "preloadMatchSummaryModal": {
          "calls": ["catch", "then"],
          "patterns": []
        },
        "collectStatButtons": {
          "calls": ["filter", "values", "get"],
          "patterns": []
        },
        "hydrateStatButtons": {
          "calls": ["reduce", "collectStatButtons"],
          "patterns": []
        },
        "clearStatButtonSelections": {
          "calls": ["collectStatButtons", "forEach", "remove", "removeProperty", "blur"],
          "patterns": []
        },
        "scheduleMatchSummaryPreload": {
          "calls": ["runWhenIdle", "preloadMatchSummaryModal"],
          "patterns": []
        },
        "resolveCooldownDependencies": {
          "calls": ["selectTimerFactory", "selectRendererFactory", "instantiateTimer"],
          "patterns": []
        },
        "startRoundCooldown": {
          "calls": [
            "extractTimer",
            "selectRenderer",
            "normalizeRendererOptions",
            "attachCountdownCoordinator",
            "emitBattleEvent",
            "shouldWaitForOpponentPrompt",
            "derivePromptWaitOptions",
            "waitForOpponentPrompt",
            "Number",
            "isFinite",
            "startTimerSafely",
            "getBattleEventTarget",
            "removeEventListener",
            "addEventListener",
            "setTimeout",
            "max"
          ],
          "patterns": []
        },
        "onStart": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "extractTimer": {
          "calls": [],
          "patterns": []
        },
        "selectRenderer": {
          "calls": [],
          "patterns": []
        },
        "shouldWaitForOpponentPrompt": {
          "calls": ["Number", "getTimestamp", "isFinite"],
          "patterns": []
        },
        "derivePromptWaitOptions": {
          "calls": ["Number"],
          "patterns": []
        },
        "waitForOpponentPrompt": {
          "calls": ["runWithRetry", "waitFn"],
          "patterns": []
        },
        "runWithRetry": {
          "calls": ["executor"],
          "patterns": []
        },
        "startTimerSafely": {
          "calls": ["start"],
          "patterns": []
        },
        "applyRoundUI": {
          "calls": [
            "resetStatButtons",
            "getElementById",
            "syncScoreDisplay",
            "updateRoundCounter",
            "showSelectionPrompt",
            "hydrateStatButtons",
            "startTimer",
            "resolveStatValues",
            "handleStatSelection",
            "handleStatSelectionTimeout",
            "updateDebugPanel",
            "Number",
            "isFinite",
            "max",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "handleRoundStartedEvent": {
          "calls": [
            "validateRoundStartedEvent",
            "trace",
            "now",
            "applyRoundUiFn",
            "dismissCountdownSnackbar",
            "then",
            "dismissOpponentSnackbar"
          ],
          "patterns": []
        },
        "handleStatSelectedEvent": {
          "calls": [
            "trace",
            "now",
            "validateStatSelectedEvent",
            "hydrateStatButtons",
            "add",
            "disableStatButtons",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "handleRoundResolvedEvent": {
          "calls": [
            "validateRoundEvaluatedEvent",
            "removeAttribute",
            "updateScore",
            "syncScoreDisplayFn",
            "disableStatButtons",
            "emitBattleEvent",
            "lockStatButtons",
            "clearStatButtonSelections",
            "createPostResetScheduler",
            "markLocked",
            "handleFailure",
            "ensureSafetyLock",
            "runReset",
            "runAfterFrames",
            "clearTimeout",
            "runResetOnce",
            "setTimeout",
            "clearRoundCounter",
            "showMatchSummary",
            "handleReplayFn",
            "isOrchestratedFn",
            "call",
            "Number",
            "isFinite",
            "computeCooldown",
            "parseSecondsFromResult",
            "max",
            "resolveOpponentPromptBuffer",
            "computeOpponentPromptWaitBudget",
            "resolveCooldownDependencies",
            "startRoundCooldown",
            "updateDebugPanelFn"
          ],
          "patterns": []
        },
        "lockStatButtons": {
          "calls": ["disableStatButtons", "emitBattleEvent"],
          "patterns": []
        },
        "runReset": {
          "calls": [
            "clearStatButtonSelections",
            "createPostResetScheduler",
            "disableStatButtons",
            "markLocked",
            "handleFailure",
            "ensureSafetyLock"
          ],
          "patterns": []
        },
        "runResetOnce": {
          "calls": ["runReset"],
          "patterns": []
        },
        "parseSecondsFromResult": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "bindRoundStarted": {
          "calls": [],
          "patterns": []
        },
        "bindStatSelected": {
          "calls": ["onBattleEvent", "handleStatSelectedEvent"],
          "patterns": []
        },
        "bindRoundResolved": {
          "calls": ["onBattleEvent", "catch", "handleRoundResolvedEvent"],
          "patterns": []
        },
        "bindRoundUIEventHandlers": {
          "calls": [
            "bindRoundStarted",
            "bindRoundResolved",
            "onBattleEvent",
            "emitBattleEvent",
            "getBattleEventTarget",
            "addEventListener"
          ],
          "patterns": []
        },
        "shouldBindRoundUIHandlers": {
          "calls": ["getBattleEventTarget", "has", "add"],
          "patterns": []
        },
        "bindRoundUIEventHandlersOnce": {
          "calls": [
            "scheduleMatchSummaryPreload",
            "shouldBindRoundUIHandlers",
            "bindRoundUIEventHandlers"
          ],
          "patterns": []
        },
        "bindRoundUIEventHandlersDynamic": {
          "calls": [
            "scheduleMatchSummaryPreload",
            "shouldBindRoundUIHandlers",
            "onBattleEvent",
            "dismissCountdownSnackbar",
            "dismissOpponentSnackbar",
            "setAttribute",
            "handleStatSelectedEvent",
            "emitBattleEvent"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundTracker.js": {
      "imports": ["./globalState.js", "../BattleEngine.js"],
      "functions": {
        "getVisibleRoundNumber": {
          "calls": ["getElementById", "match", "String", "Number", "isFinite"],
          "patterns": []
        },
        "calculateEngineRound": {
          "calls": ["Number", "getRoundsPlayed", "isFinite"],
          "patterns": []
        },
        "computeBaselineRound": {
          "calls": ["Number", "max"],
          "patterns": []
        },
        "shouldForceAdvancement": {
          "calls": ["Number"],
          "patterns": []
        },
        "resolveNextRound": {
          "calls": ["shouldForceAdvancement", "max", "Number"],
          "patterns": []
        },
        "updateRoundCounterState": {
          "calls": ["debug", "max", "getHighestRoundGlobal", "setHighestRoundGlobal"],
          "patterns": []
        },
        "updateRoundCounterFromEngine": {
          "calls": [
            "getVisibleRoundNumber",
            "isFinite",
            "setHighestRoundGlobal",
            "max",
            "getHighestRoundGlobal",
            "Number",
            "calculateEngineRound",
            "computeBaselineRound",
            "resolveNextRound",
            "debug",
            "getRoundsPlayed",
            "updateRoundCounterFn",
            "updateRoundCounterState",
            "handleRoundCounterFallback"
          ],
          "patterns": []
        },
        "handleRoundCounterFallback": {
          "calls": [
            "isFinite",
            "getHighestRoundGlobal",
            "max",
            "Number",
            "updateRoundCounterFn",
            "setHighestRoundGlobal",
            "debug"
          ],
          "patterns": []
        },
        "resetRoundCounterTracking": {
          "calls": ["setHighestRoundGlobal", "getHighestRoundGlobal"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundState.js": {
      "imports": ["./guard.js"],
      "functions": {
        "applyRoundNumber": {
          "calls": ["isFinite", "guard", "safeUpdate", "safeClear"],
          "patterns": []
        },
        "scoreboardRoundNumberHandler": {
          "calls": ["applyRoundNumber", "guard", "existingRoundNumberCallback"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundSelectModal.js": {
      "imports": [
        "../../components/Button.js",
        "../../components/Modal.js",
        "../BattleEngine.js",
        "../tooltip.js",
        "../testModeUtils.js",
        "./battleEvents.js",
        "./eventDispatcher.js",
        "../storage.js",
        "../../config/battleDefaults.js",
        "../../config/storageKeys.js",
        "../../config/roundSelectConstants.js",
        "../telemetry.js",
        "../i18n.js",
        "../../data/battleRounds.js",
        "./winTargetSync.js",
        "../SnackbarManager.js",
        "./modalPositioning.js"
      ],
      "functions": {
        "shouldAutostart": {
          "calls": ["get"],
          "patterns": []
        },
        "persistRoundSelection": {
          "calls": ["set"],
          "patterns": []
        },
        "logMatchStartTelemetry": {
          "calls": ["logEvent", "warn", "queueMicrotask", "setTimeout"],
          "patterns": []
        },
        "safelyLogTelemetry": {
          "calls": ["logEvent", "warn"],
          "patterns": []
        },
        "startMatch": {
          "calls": [
            "logMatchStartTelemetry",
            "deriveTelemetryTrigger",
            "setPointsToWin",
            "String",
            "syncWinTargetDropdown",
            "show",
            "winTarget",
            "onStart",
            "emitBattleEvent",
            "dispatchBattleEvent",
            "logEvent"
          ],
          "patterns": []
        },
        "deriveTelemetryTrigger": {
          "calls": ["startsWith"],
          "patterns": []
        },
        "resolveEnvironmentFlags": {
          "calls": ["includes", "Boolean"],
          "patterns": []
        },
        "resolvePointsToWin": {
          "calls": ["Number", "getPointsToWin", "isFinite", "loadPersistedSelection"],
          "patterns": []
        },
        "resolveAutostartPolicy": {
          "calls": [],
          "patterns": []
        },
        "loadPersistedSelection": {
          "calls": ["get", "Number", "includes"],
          "patterns": []
        },
        "createRoundSelectModal": {
          "calls": ["createElement", "t", "createDocumentFragment", "append", "createModal"],
          "patterns": ["factory"]
        },
        "createCleanupRegistry": {
          "calls": [],
          "patterns": ["factory"]
        },
        "createIdempotentCleanup": {
          "calls": ["callback"],
          "patterns": ["factory"]
        },
        "registerModalLifecycleCleanup": {
          "calls": [
            "createIdempotentCleanup",
            "keyboard",
            "tooltips",
            "removeEventListener",
            "close",
            "runCleanup",
            "preventDefault",
            "requestClose",
            "bind",
            "originalClose",
            "originalDestroy",
            "addEventListener"
          ],
          "patterns": []
        },
        "requestClose": {
          "calls": ["close", "runCleanup"],
          "patterns": []
        },
        "handleClose": {
          "calls": ["runCleanup"],
          "patterns": []
        },
        "handleCancel": {
          "calls": ["preventDefault", "requestClose"],
          "patterns": []
        },
        "handleBackdropClick": {
          "calls": ["requestClose"],
          "patterns": []
        },
        "handleEscapeKey": {
          "calls": ["preventDefault", "requestClose"],
          "patterns": []
        },
        "wireRoundSelectionButtons": {
          "calls": [
            "forEach",
            "createButton",
            "addEventListener",
            "setAttribute",
            "removeAttribute",
            "handleRoundSelect",
            "appendChild",
            "push",
            "Number"
          ],
          "patterns": []
        },
        "handleNumberKey": {
          "calls": ["preventDefault", "click"],
          "patterns": []
        },
        "handleArrowNavigation": {
          "calls": ["preventDefault", "indexOf", "focus"],
          "patterns": []
        },
        "handleEnterKey": {
          "calls": ["preventDefault", "includes", "click"],
          "patterns": []
        },
        "setupKeyboardNavigation": {
          "calls": [
            "handleNumberKey",
            "handleArrowNavigation",
            "handleEnterKey",
            "preventDefault",
            "close",
            "handler",
            "addEventListener",
            "removeEventListener"
          ],
          "patterns": []
        },
        "handleKeyDown": {
          "calls": [
            "handleNumberKey",
            "handleArrowNavigation",
            "handleEnterKey",
            "preventDefault",
            "close",
            "handler"
          ],
          "patterns": []
        },
        "setupTooltipLifecycle": {
          "calls": ["catch", "then", "initTooltips", "cleanupFn", "logEvent"],
          "patterns": []
        },
        "cleanupFn": {
          "calls": [],
          "patterns": []
        },
        "handleRoundSelect": {
          "calls": ["close", "tooltips", "keyboard", "destroy", "onSelect"],
          "patterns": []
        },
        "loadRoundSelectModal": {
          "calls": [
            "createRoundSelectModal",
            "createCleanupRegistry",
            "registerModalLifecycleCleanup",
            "apply",
            "wireRoundSelectionButtons",
            "appendChild",
            "createIdempotentCleanup",
            "setupKeyboardNavigation",
            "setupTooltipLifecycle",
            "open",
            "setAttribute",
            "focus",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "startMatchFromModalFallback": {
          "calls": ["resolvePointsToWin", "logEvent", "show", "startMatch"],
          "patterns": []
        },
        "resolveRoundStartPolicy": {
          "calls": [
            "resolveEnvironmentFlags",
            "wrap",
            "shouldAutostart",
            "isTestModeEnabled",
            "resolveAutostartPolicy",
            "resolvePointsToWin",
            "persistRoundSelection",
            "startMatch",
            "loadPersistedSelection",
            "loadRoundSelectModal",
            "startMatchFromModalFallback"
          ],
          "patterns": []
        },
        "onSelect": {
          "calls": ["persistRoundSelection", "startMatch"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundResolver.js": {
      "imports": [
        "../api/battleUI.js",
        "./eventDispatcher.js",
        "./battleEvents.js",
        "../BattleEngine.js",
        "../featureFlags.js",
        "./debugHooks.js",
        "../debug.js",
        "../setupScoreboard.js",
        "./scoreDisplay.js",
        "./stateHandlers/guardCancellation.js",
        "./autoContinue.js"
      ],
      "functions": {
        "evaluateRoundData": {
          "calls": ["evaluateRoundApi"],
          "patterns": []
        },
        "evaluateRound": {
          "calls": ["evaluateRoundData"],
          "patterns": []
        },
        "resolveStatsSnapshot": {
          "calls": ["isArray"],
          "patterns": []
        },
        "evaluateOutcome": {
          "calls": [
            "debugLog",
            "isFinite",
            "Number",
            "resolveStatsSnapshot",
            "handleStatSelection",
            "getOutcomeMessage"
          ],
          "patterns": []
        },
        "dispatchOutcomeEvents": {
          "calls": ["debugLog", "dispatchBattleEvent", "getAutoContinue"],
          "patterns": []
        },
        "updateScoreboard": {
          "calls": ["updateScore", "querySelector", "writeScoreDisplay", "Number"],
          "patterns": []
        },
        "emitRoundResolved": {
          "calls": ["Number", "emitBattleEvent", "Boolean"],
          "patterns": []
        },
        "computeRoundResult": {
          "calls": [
            "evaluateOutcome",
            "emitRoundResolved",
            "dispatchOutcomeEvents",
            "updateScoreboard",
            "waitForRoundUILocks"
          ],
          "patterns": []
        },
        "usingFakeTimers": {
          "calls": ["isFakeTimers", "Boolean"],
          "patterns": []
        },
        "waitForRoundUILocks": {
          "calls": ["usingFakeTimers", "runAllTimersAsync", "isEnabled", "setTimeoutFn", "resolve"],
          "patterns": []
        },
        "ensureRoundResolveState": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        },
        "delayAndRevealOpponent": {
          "calls": ["debugLog", "exposeDebugState", "emitBattleEvent"],
          "patterns": []
        },
        "finalizeRoundResult": {
          "calls": [
            "computeRoundResult",
            "cancelRoundResolveGuard",
            "readDebugState",
            "now",
            "debugLog"
          ],
          "patterns": []
        },
        "resolveRound": {
          "calls": [
            "ensureRoundResolveState",
            "delayAndRevealOpponent",
            "resolve",
            "finalizeRoundResult"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundReadyState.js": {
      "imports": ["./eventDispatcher.js", "./roundState.js"],
      "functions": {
        "setReadyDispatchedForCurrentCooldown": {
          "calls": ["markReadyDispatched", "resetReadyDispatch"],
          "patterns": []
        },
        "hasReadyBeenDispatchedForCurrentCooldown": {
          "calls": ["isReadyDispatched"],
          "patterns": []
        },
        "resetReadyDispatchState": {
          "calls": ["resetReadyDispatch", "resetDispatchHistory"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundModificationOverlay.js": {
      "imports": ["../featureFlags.js"],
      "functions": {
        "isRoundModificationOverlayEnabled": {
          "calls": ["call", "Boolean", "isEnabled"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundManager.js": {
      "imports": [
        "./cardSelection.js",
        "../BattleEngine.js",
        "./selectionHandler.js",
        "../../utils/scheduler.js",
        "./skipHandler.js",
        "./battleEvents.js",
        "./roundState.js",
        "./debugHooks.js",
        "./scoreDisplay.js",
        "../setupScoreboard.js",
        "../logger.js",
        "./eventDispatcher.js",
        "../timers/computeNextRoundCooldown.js",
        "../testModeUtils.js",
        "./battleDebug.js",
        "./eventBusUtils.js",
        "./debugPanel.js",
        "./uiHelpers.js",
        "../showSnackbar.js",
        "../i18n.js",
        "./storeGuard.js",
        "./selectionState.js",
        "./domHelpers.js",
        "./readyDispatcherUtils.js",
        "./nextRound/expirationHandlers.js",
        "./cooldownOrchestrator.js",
        "./nextRound/session.js",
        "./roundReadyState.js",
        "./matchDeckManager.js"
      ],
      "functions": {
        "buildEngineConfig": {
          "calls": [],
          "patterns": []
        },
        "createBattleStore": {
          "calls": [],
          "patterns": ["factory"]
        },
        "persistLastJudokaStats": {
          "calls": [],
          "patterns": []
        },
        "getStartRound": {
          "calls": ["readDebugState", "startRound"],
          "patterns": []
        },
        "handleReplay": {
          "calls": [
            "persistLastJudokaStats",
            "resetMatchDeckState",
            "resetBattleEnginePreservingConfig",
            "warn",
            "createBattleEngine",
            "buildEngineConfig",
            "safeRound",
            "syncScoreboardDisplay",
            "dispatchEvent",
            "emitBattleEvent",
            "setRoundNumber",
            "getStartRound",
            "startRoundFn"
          ],
          "patterns": []
        },
        "resetEngine": {
          "calls": [
            "resetBattleEnginePreservingConfig",
            "warn",
            "createBattleEngine",
            "buildEngineConfig"
          ],
          "patterns": []
        },
        "applyZeroScores": {
          "calls": ["syncScoreboardDisplay"],
          "patterns": []
        },
        "startRound": {
          "calls": [
            "enterStoreGuard",
            "getHiddenStoreValue",
            "shouldClearSelectionForNextRound",
            "logSelectionMutation",
            "clearTimeout",
            "resetSelectionFlags",
            "resetSelectionFinalized",
            "hideOpponentCardIfRealVisible",
            "getOpponentCardContainer",
            "createMatchDeckHooks",
            "drawCards",
            "randomJudoka",
            "onCandidateAccepted",
            "onCandidateRejected",
            "ensureOpponentPlaceholderVisibility",
            "persistLastJudokaStats",
            "queueMicrotask",
            "safeRound",
            "getScores",
            "writeScoreDisplay",
            "syncScoreboardDisplay",
            "Number",
            "fn",
            "isFinite",
            "isArray",
            "push",
            "now",
            "onRoundStart",
            "setRoundNumber",
            "setRoundState",
            "setHiddenStoreValue",
            "release"
          ],
          "patterns": []
        },
        "resetSelectionFlags": {
          "calls": ["shouldClearSelectionForNextRound", "logSelectionMutation"],
          "patterns": []
        },
        "startCooldown": {
          "calls": [
            "resetReadyDispatchState",
            "stop",
            "warn",
            "resolveActiveScheduler",
            "initializeCooldownTelemetry",
            "createEventBus",
            "createCooldownControls",
            "skipCurrentPhase",
            "onBattleEvent",
            "offBattleEvent",
            "catch",
            "then",
            "detachSkipCooldown",
            "detectOrchestratorContext",
            "isOrchestrated",
            "resolveReadinessTarget",
            "setupNonOrchestratedReady",
            "setupOrchestratedReady",
            "computeNextRoundCooldown",
            "debug",
            "now",
            "appendReadyTrace",
            "safeRound",
            "emit",
            "max",
            "Number",
            "instantiateCooldownTimer",
            "t",
            "trim",
            "showSnackbar",
            "hasReadyBeenDispatchedForCurrentCooldown",
            "createExpirationDispatcher",
            "registerSkipHandlerForTimer",
            "startTimerWithDiagnostics",
            "scheduleCooldownFallbacks",
            "createNextRoundSession",
            "exposeDebugState"
          ],
          "patterns": []
        },
        "handleSkipCooldown": {
          "calls": ["skipCurrentPhase"],
          "patterns": []
        },
        "detachSkipCooldown": {
          "calls": ["offBattleEvent"],
          "patterns": []
        },
        "getReadyDispatched": {
          "calls": ["hasReadyBeenDispatchedForCurrentCooldown"],
          "patterns": []
        },
        "getNextRoundControls": {
          "calls": ["safeRound", "getElementById", "querySelector", "getAttribute", "resolve"],
          "patterns": []
        },
        "createExpirationTelemetryContext": {
          "calls": ["bind", "safeRound", "createExpirationTelemetryEmitter", "emit"],
          "patterns": ["factory"]
        },
        "debugBagFactory": {
          "calls": ["safeRound"],
          "patterns": ["factory"]
        },
        "guardReadyInFlight": {
          "calls": ["emitTelemetry", "getDebugBag", "push", "now"],
          "patterns": []
        },
        "prepareCooldownContext": {
          "calls": [
            "safeRound",
            "clearSkipHandler",
            "clearTimer",
            "createEventBus",
            "createMachineReader",
            "isOrchestratorReadyState",
            "createMachineStateInspector"
          ],
          "patterns": []
        },
        "isCooldownSafeState": {
          "calls": ["isOrchestratorReadyState"],
          "patterns": []
        },
        "handleReadyDispatchEarlyExit": {
          "calls": [
            "hasReadyBeenDispatchedForCurrentCooldown",
            "setReadyDispatchedForCurrentCooldown",
            "emitTelemetry",
            "getDebugBag",
            "push",
            "now",
            "finalizeReadyControls"
          ],
          "patterns": []
        },
        "evaluateMachineReadyPropagation": {
          "calls": ["markMachineHandled", "shouldPropagateAfterMachine"],
          "patterns": []
        },
        "createReadyDispatchConfiguration": {
          "calls": [
            "has",
            "includes",
            "readReadyDispatcherSignature",
            "push",
            "add",
            "registerFallbackDispatcher",
            "hasReadyBeenDispatchedForCurrentCooldown",
            "orchestrated",
            "isOrchestratedActive",
            "shouldShortCircuitReadyDispatch",
            "machineReader",
            "now",
            "dispatchReadyDirectly",
            "evaluateMachineReadyPropagation",
            "setReadyDispatchedForCurrentCooldown",
            "emitTelemetry",
            "addMachineStrategy",
            "dispatchReadyWithOptions",
            "dispatchReadyViaBus"
          ],
          "patterns": ["factory"]
        },
        "registerFallbackDispatcher": {
          "calls": ["has", "includes", "readReadyDispatcherSignature", "push", "add"],
          "patterns": []
        },
        "shouldShortCircuitReadyDispatch": {
          "calls": ["hasReadyBeenDispatchedForCurrentCooldown"],
          "patterns": []
        },
        "isOrchestratedActive": {
          "calls": ["orchestrated"],
          "patterns": []
        },
        "shouldPropagateAfterMachine": {
          "calls": ["isOrchestratedActive"],
          "patterns": []
        },
        "machineStrategy": {
          "calls": [
            "shouldShortCircuitReadyDispatch",
            "isOrchestratedActive",
            "machineReader",
            "now",
            "dispatchReadyDirectly",
            "evaluateMachineReadyPropagation",
            "setReadyDispatchedForCurrentCooldown",
            "emitTelemetry"
          ],
          "patterns": []
        },
        "addMachineStrategy": {
          "calls": ["push"],
          "patterns": []
        },
        "finalizeReadyControls": {
          "calls": [
            "Boolean",
            "getClassicBattleMachine",
            "getState",
            "log",
            "setNextButtonFinalizedState",
            "resolver"
          ],
          "patterns": []
        },
        "handleNextRoundExpiration": {
          "calls": [
            "safeRound",
            "appendReadyTrace",
            "createExpirationTelemetryContext",
            "handleReadyDispatchEarlyExit",
            "guardReadyInFlight",
            "prepareCooldownContext",
            "waitForCooldown",
            "updateExpirationUi",
            "updatePanel",
            "createReadyDispatchConfiguration",
            "isArray",
            "runReadyDispatchStrategies",
            "hasReadyBeenDispatchedForCurrentCooldown",
            "setReadyDispatchedForCurrentCooldown",
            "emitBattleEvent",
            "finalizeReadyControls"
          ],
          "patterns": []
        },
        "_resetForTest": {
          "calls": [
            "resetSkipState",
            "resetSelection",
            "resetMatchDeckState",
            "safeRound",
            "getScores",
            "createBattleEngine",
            "buildEngineConfig",
            "stopScheduler",
            "getElementById",
            "readDebugState",
            "clearTimeout",
            "for",
            "resetSelectionFinalized",
            "cancelFrame",
            "dispatchEvent"
          ],
          "patterns": []
        },
        "isOrchestrated": {
          "calls": ["safeRound"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundFlowController.js": {
      "imports": [
        "./battleEvents.js",
        "./roundUI.js",
        "./uiHelpers.js",
        "../featureFlags.js",
        "./snackbar.js",
        "./selectionDelayCalculator.js"
      ],
      "functions": {
        "bindRoundFlowController": {
          "calls": [
            "clearTimeout",
            "getSelectionDelayOverride",
            "isFinite",
            "Number",
            "getOpponentDelay",
            "clearPendingOutcomeDelay",
            "isEnabled",
            "resolveOpponentDelayMs",
            "showRoundOutcome",
            "setTimeout",
            "onBattleEvent",
            "catch",
            "handleRoundStartedEvent",
            "handleRoundResolvedEvent",
            "scheduleRoundOutcomeDisplay"
          ],
          "patterns": []
        },
        "clearPendingOutcomeDelay": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "resolveOpponentDelayMs": {
          "calls": ["getSelectionDelayOverride", "isFinite", "Number", "getOpponentDelay"],
          "patterns": []
        },
        "scheduleRoundOutcomeDisplay": {
          "calls": [
            "clearPendingOutcomeDelay",
            "isEnabled",
            "resolveOpponentDelayMs",
            "isFinite",
            "showRoundOutcome",
            "setTimeout"
          ],
          "patterns": []
        },
        "bindRoundFlowControllerOnce": {
          "calls": ["getBattleEventTarget", "has", "add", "bindRoundFlowController"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/roundCycleHistoryTracker.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "getCurrentTimestamp": {
          "calls": ["now"],
          "patterns": []
        },
        "sanitizeDetailValue": {
          "calls": [],
          "patterns": []
        },
        "snapshotDetail": {
          "calls": ["fromEntries", "filter", "entries", "sanitizeDetailValue"],
          "patterns": []
        },
        "appendHistoryEntry": {
          "calls": ["entries", "snapshotDetail", "isArray", "push", "call"],
          "patterns": []
        },
        "handleRoundStart": {
          "calls": ["getCurrentTimestamp", "appendHistoryEntry", "Boolean"],
          "patterns": []
        },
        "handleReady": {
          "calls": ["getCurrentTimestamp", "isFinite", "appendHistoryEntry"],
          "patterns": []
        },
        "initRoundCycleHistoryTracker": {
          "calls": ["onBattleEvent"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/readyDispatcherUtils.js": {
      "imports": [],
      "functions": {
        "readReadyDispatcherSignature": {
          "calls": ["String"],
          "patterns": []
        },
        "getReadyDispatcherIdentitySymbol": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/quitModal.js": {
      "imports": [
        "../../components/Modal.js",
        "../../components/Button.js",
        "../BattleEngine.js",
        "../battle/index.js",
        "./endModal.js",
        "../api/battleUI.js",
        "../navUtils.js",
        "./eventDispatcher.js",
        "./eventBus.js",
        "../i18n.js"
      ],
      "functions": {
        "createQuitConfirmation": {
          "calls": [
            "createElement",
            "t",
            "createButton",
            "append",
            "createDocumentFragment",
            "createModal",
            "addEventListener",
            "close",
            "onConfirm",
            "showResult",
            "getOutcomeMessage",
            "dispatchBattleEvent",
            "getBattleState",
            "destroy",
            "querySelectorAll",
            "forEach",
            "navigateToHome",
            "appendChild"
          ],
          "patterns": ["factory"]
        },
        "quitMatch": {
          "calls": [
            "createQuitConfirmation",
            "quitMatch",
            "showEndModal",
            "getElementById",
            "open",
            "resolveBtn",
            "requestAnimationFrame",
            "check"
          ],
          "patterns": []
        },
        "check": {
          "calls": ["getElementById", "resolveBtn", "requestAnimationFrame"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/quitButton.js": {
      "imports": ["./quitModal.js"],
      "functions": {
        "initQuitButton": {
          "calls": ["getElementById", "addEventListener", "quitMatch"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/promises.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "setupPromise": {
          "calls": ["push", "now", "reset", "onBattleEvent", "resolve"],
          "patterns": []
        },
        "reset": {
          "calls": ["push", "now"],
          "patterns": []
        },
        "resetBattlePromises": {
          "calls": ["setupPromise"],
          "patterns": []
        },
        "latest": {
          "calls": ["resolve"],
          "patterns": []
        },
        "getRoundPromptPromise": {
          "calls": ["latest"],
          "patterns": []
        },
        "getCountdownStartedPromise": {
          "calls": ["latest"],
          "patterns": []
        },
        "getRoundEvaluatedPromise": {
          "calls": ["latest"],
          "patterns": []
        },
        "getRoundTimeoutPromise": {
          "calls": ["latest"],
          "patterns": []
        },
        "getStatSelectionStalledPromise": {
          "calls": ["latest"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/pollingThrottle.js": {
      "imports": ["../scheduler.js"],
      "functions": {
        "resolveScheduler": {
          "calls": ["getScheduler"],
          "patterns": []
        },
        "createPollingThrottle": {
          "calls": [
            "Number",
            "isFinite",
            "max",
            "resolveScheduler",
            "resolve",
            "setTimeout",
            "finish",
            "queueMicrotask",
            "then"
          ],
          "patterns": ["factory"]
        },
        "wait": {
          "calls": [
            "Number",
            "isFinite",
            "max",
            "resolve",
            "setTimeout",
            "finish",
            "queueMicrotask",
            "then"
          ],
          "patterns": []
        },
        "finish": {
          "calls": ["resolve"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/orchestratorHandlers.js": {
      "imports": ["./stateHandlers.js", "./autoContinue.js"],
      "functions": {
        "getOnEnterHandler": {
          "calls": [],
          "patterns": []
        },
        "getOnExitHandler": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/orchestratorApi.js": {
      "imports": ["./orchestrator.js", "./eventDispatcher.js"],
      "functions": {
        "confirmReadiness": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        },
        "requestInterrupt": {
          "calls": ["dispatchBattleEvent"],
          "patterns": []
        },
        "getState": {
          "calls": [
            "getBattleStateMachine",
            "getState",
            "Number",
            "getRoundsPlayed",
            "getSeed",
            "getTimerState"
          ],
          "patterns": []
        },
        "injectFakeTimers": {
          "calls": ["getBattleStateMachine"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/orchestrator.js": {
      "imports": [
        "./orchestratorHandlers.js",
        "./roundManager.js",
        "./battleEvents.js",
        "./eventBus.js",
        "./stateTransitionListeners.js",
        "./battleDebug.js",
        "./debugHooks.js",
        "./stateCatalog.js",
        "./eventDispatcher.js",
        "./debugLogger.js",
        "../TimerController.js",
        "./stateManager.js",
        "./uiService.js",
        "./timerService.js",
        "./debugLog.js",
        "../BattleEngine.js",
        "./stateTable.js",
        "./roundModificationOverlay.js"
      ],
      "functions": {
        "attachEngineEventBridge": {
          "calls": ["has", "add", "isArray", "slice", "call", "emitBattleEvent", "Number", "max"],
          "patterns": []
        },
        "registerBridgeOnEngineCreated": {
          "calls": ["onEngineCreated", "attachEngineEventBridge"],
          "patterns": []
        },
        "isBattleStore": {
          "calls": ["call"],
          "patterns": []
        },
        "normalizeContextOverrides": {
          "calls": ["isBattleStore"],
          "patterns": []
        },
        "normalizeDependencies": {
          "calls": [],
          "patterns": []
        },
        "normalizeHooks": {
          "calls": [],
          "patterns": []
        },
        "applyResetGame": {
          "calls": ["resetGame", "resetGameLocal"],
          "patterns": []
        },
        "selectStartRoundDependency": {
          "calls": [],
          "patterns": []
        },
        "applyStartRound": {
          "calls": ["selectStartRoundDependency", "startRoundDep", "startRoundLocal"],
          "patterns": []
        },
        "resolveMachineContext": {
          "calls": ["debugLog", "applyResetGame", "applyStartRound"],
          "patterns": []
        },
        "createTransitionHook": {
          "calls": [
            "emitBattleEvent",
            "onStateChange",
            "emitDiagnostics",
            "emitReadiness",
            "emitStateChange",
            "mirrorTimerState",
            "emitResolution"
          ],
          "patterns": ["factory"]
        },
        "initClassicBattleOrchestrator": {
          "calls": [
            "debugLog",
            "registerBridgeOnEngineCreated",
            "slice",
            "split",
            "join",
            "normalizeContextOverrides",
            "normalizeDependencies",
            "normalizeHooks",
            "resolveMachineContext",
            "isRoundModificationOverlayEnabled",
            "buildClassicBattleStateTable",
            "some",
            "buildStateCatalog",
            "createOnEnterMap",
            "createTransitionHook",
            "createStateManager",
            "attachListeners",
            "getState",
            "setBattleStateGetter",
            "preloadDependencies"
          ],
          "patterns": []
        },
        "exposeTimerStateForDebugging": {
          "calls": ["__classicBattleDebugExpose", "exposeDebugState"],
          "patterns": []
        },
        "emitDiagnostics": {
          "calls": ["emitBattleEvent", "getStateSnapshot"],
          "patterns": []
        },
        "emitReadiness": {
          "calls": ["emitBattleEvent"],
          "patterns": []
        },
        "emitStateChange": {
          "calls": [
            "Number",
            "getRoundsPlayed",
            "getScores",
            "getSeed",
            "getTimerState",
            "logStateTransition",
            "exposeTimerStateForDebugging",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "mirrorTimerState": {
          "calls": ["getTimerState", "exposeTimerStateForDebugging"],
          "patterns": []
        },
        "emitResolution": {
          "calls": ["emitBattleEvent"],
          "patterns": []
        },
        "preloadDependencies": {
          "calls": [
            "preloadTimerUtils",
            "bindScoreboardEventHandlersOnce",
            "bindCountdownEventHandlersOnce"
          ],
          "patterns": []
        },
        "createOnEnterMap": {
          "calls": [],
          "patterns": ["factory"]
        },
        "setupReadyForCooldownListener": {
          "calls": [],
          "patterns": []
        },
        "setupStateChangeListeners": {
          "calls": [
            "registerStateTransitionListeners",
            "getState",
            "domStateListener",
            "getStateSnapshot",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "exposeDebugGetters": {
          "calls": ["exposeDebugState", "debugLog", "__classicBattleDebugExpose", "now"],
          "patterns": []
        },
        "setupVisibilityHandler": {
          "calls": ["handleTabInactive", "handleTabActive", "addEventListener"],
          "patterns": []
        },
        "setupTimerEventHandlers": {
          "calls": ["emitBattleEvent", "handleTimerDrift", "on"],
          "patterns": []
        },
        "setupEngineDebugFeatures": {
          "calls": [
            "getTimerState",
            "exposeTimerStateForDebugging",
            "injectError",
            "emitBattleEvent",
            "dispatch"
          ],
          "patterns": []
        },
        "setupSnapshotGetter": {
          "calls": ["getStateSnapshot"],
          "patterns": []
        },
        "attachListeners": {
          "calls": [
            "setupReadyForCooldownListener",
            "setupStateChangeListeners",
            "exposeDebugGetters",
            "setupVisibilityHandler",
            "setupTimerEventHandlers",
            "setupEngineDebugFeatures",
            "setupSnapshotGetter"
          ],
          "patterns": []
        },
        "disposeClassicBattleOrchestrator": {
          "calls": [
            "stateTransitionListenersCleanup",
            "offBattleEvent",
            "removeEventListener",
            "off"
          ],
          "patterns": []
        },
        "getBattleStateMachine": {
          "calls": ["debugLog"],
          "patterns": []
        },
        "resetOrchestratorForTest": {
          "calls": ["resetEventBus"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/opponentPromptWaiter.js": {
      "imports": [
        "./battleEvents.js",
        "./snackbar.js",
        "./opponentPromptTracker.js",
        "./pollingThrottle.js"
      ],
      "functions": {
        "safeNow": {
          "calls": ["now"],
          "patterns": []
        },
        "resolvePromptReadyRegistrar": {
          "calls": [
            "onEvent",
            "offEvent",
            "addEventListener",
            "removeEventListener",
            "onBattleEvent",
            "offBattleEvent"
          ],
          "patterns": []
        },
        "createPromptReadySubscription": {
          "calls": ["resolvePromptReadyRegistrar", "cleanup", "resolve", "register"],
          "patterns": ["factory"]
        },
        "cleanup": {
          "calls": [],
          "patterns": []
        },
        "handler": {
          "calls": ["cleanup", "resolve"],
          "patterns": []
        },
        "resolveWaitResult": {
          "calls": ["race", "then"],
          "patterns": []
        },
        "runPromptWaitLoop": {
          "calls": ["hasPromptTimestamp", "safeNow", "min", "wait", "resolveWaitResult"],
          "patterns": []
        },
        "computeOpponentPromptWaitBudget": {
          "calls": [
            "Number",
            "isFinite",
            "getOpponentDelay",
            "getOpponentPromptMinDuration",
            "max"
          ],
          "patterns": []
        },
        "hasPromptTimestamp": {
          "calls": ["Number", "getOpponentPromptTimestamp", "isFinite"],
          "patterns": []
        },
        "waitForDelayedOpponentPromptDisplay": {
          "calls": [
            "Number",
            "isFinite",
            "hasPromptTimestamp",
            "createPollingThrottle",
            "createPromptReadySubscription",
            "isResolved",
            "safeNow",
            "runPromptWaitLoop",
            "cleanup"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/opponentPromptTracker.js": {
      "imports": ["./battleEvents.js", "../utils/positiveNumbers.js"],
      "functions": {
        "now": {
          "calls": ["now", "clampToPositiveTimestamp"],
          "patterns": []
        },
        "recordOpponentPromptTimestamp": {
          "calls": ["Number", "isFinite", "clampToPositiveTimestamp", "notifyPromptReady"],
          "patterns": []
        },
        "notifyPromptReady": {
          "calls": ["emitBattleEvent", "warn"],
          "patterns": []
        },
        "getOpponentPromptTimestamp": {
          "calls": [],
          "patterns": []
        },
        "isOpponentPromptReady": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "resetOpponentPromptTimestamp": {
          "calls": [],
          "patterns": []
        },
        "markOpponentPromptNow": {
          "calls": ["recordOpponentPromptTimestamp", "customNow", "now"],
          "patterns": []
        },
        "readMinOverride": {
          "calls": [],
          "patterns": []
        },
        "getOpponentPromptMinDuration": {
          "calls": ["readMinOverride", "isFinite", "Number"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/opponentPlaceholder.js": {
      "imports": [],
      "functions": {
        "resolveDocument": {
          "calls": [],
          "patterns": []
        },
        "createOpponentCardPlaceholder": {
          "calls": [
            "resolveDocument",
            "createElement",
            "setAttribute",
            "createElementNS",
            "add",
            "appendChild"
          ],
          "patterns": ["factory"]
        },
        "applyOpponentCardPlaceholder": {
          "calls": [
            "resolveDocument",
            "createOpponentCardPlaceholder",
            "querySelector",
            "appendChild",
            "getElementById",
            "contains",
            "remove",
            "warn",
            "add",
            "setAttribute"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/opponentController.js": {
      "imports": ["./cardSelection.js", "../settingsStorage.js", "../featureFlags.js"],
      "functions": {
        "getOpponentCardData": {
          "calls": [
            "getOpponentJudoka",
            "getGokyoLookup",
            "getOrLoadGokyoLookup",
            "loadSettings",
            "isEnabled",
            "clearOpponentJudoka"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/modalPositioning.js": {
      "imports": ["../../utils/rafUtils.js", "../../config/roundSelectConstants.js"],
      "functions": {}
    },
    "src/helpers/classicBattle/matchSummaryModal.js": {
      "imports": ["../../components/Modal.js", "../../components/Button.js", "../navUtils.js"],
      "functions": {
        "normalizeMatchSummary": {
          "calls": ["isFinite"],
          "patterns": []
        },
        "showMatchSummaryModal": {
          "calls": [
            "normalizeMatchSummary",
            "createElement",
            "createButton",
            "append",
            "createDocumentFragment",
            "createModal",
            "addEventListener",
            "close",
            "destroy",
            "navigateToHome",
            "onNext",
            "appendChild",
            "open"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/matchDeckManager.js": {
      "imports": ["../testModeUtils.js"],
      "functions": {
        "normalizeDeckPool": {
          "calls": ["isArray", "has", "add", "push"],
          "patterns": []
        },
        "shuffleJudokaWithSeed": {
          "calls": ["slice", "floor", "seededRandom"],
          "patterns": []
        },
        "createMatchDeckFromPool": {
          "calls": ["normalizeDeckPool", "shuffleJudokaWithSeed", "isFinite", "slice"],
          "patterns": ["factory"]
        },
        "ensureMatchDeckInitialized": {
          "calls": [
            "isFinite",
            "floor",
            "isArray",
            "normalizeDeckPool",
            "filter",
            "has",
            "clear",
            "createMatchDeckFromPool"
          ],
          "patterns": []
        },
        "getNextDeckCandidate": {
          "calls": ["ensureMatchDeckInitialized", "shift"],
          "patterns": []
        },
        "acceptDeckCandidate": {
          "calls": ["add"],
          "patterns": []
        },
        "rejectDeckCandidate": {
          "calls": ["isArray", "push"],
          "patterns": []
        },
        "resetMatchDeckState": {
          "calls": ["clear"],
          "patterns": []
        },
        "createMatchDeckHooks": {
          "calls": ["getNextDeckCandidate", "acceptDeckCandidate", "rejectDeckCandidate"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/matchConcludedCompatibilityAdapter.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "bindMatchConcludedCompatibilityAdapter": {
          "calls": ["onPayload", "onBattleEvent", "offBattleEvent"],
          "patterns": []
        },
        "handleMatchConcluded": {
          "calls": ["onPayload"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/judokaTelemetry.js": {
      "imports": [],
      "functions": {
        "createTelemetryState": {
          "calls": [],
          "patterns": ["factory"]
        },
        "shouldSampleJudokaFailureTelemetry": {
          "calls": ["random"],
          "patterns": []
        },
        "emitJudokaLoadFailureTelemetry": {
          "calls": ["startSpan", "setAttribute", "warn"],
          "patterns": []
        },
        "recordJudokaLoadFailureTelemetry": {
          "calls": [
            "now",
            "createTelemetryState",
            "shouldSampleJudokaFailureTelemetry",
            "emitJudokaLoadFailureTelemetry"
          ],
          "patterns": []
        },
        "getTelemetryState": {
          "calls": [],
          "patterns": []
        },
        "resetTelemetryState": {
          "calls": ["createTelemetryState"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/isStateTransition.js": {
      "imports": [],
      "functions": {
        "isStateTransition": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/interruptHandlers.js": {
      "imports": [
        "../BattleEngine.js",
        "./eventDispatcher.js",
        "../setupScoreboard.js",
        "../../utils/scheduler.js",
        "./skipHandler.js",
        "../../components/Modal.js",
        "../../components/Button.js"
      ],
      "functions": {
        "removeInterruptHandlers": {
          "calls": ["removeEventListener"],
          "patterns": []
        },
        "initInterruptHandlers": {
          "calls": [
            "clearTimeout",
            "cancelFrame",
            "resetSkipState",
            "clearTimer",
            "stopScheduler",
            "cleanup",
            "interruptMatch",
            "showMessage",
            "dispatchBattleEvent",
            "showErrorDialog",
            "addEventListener"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["clearTimeout", "cancelFrame", "resetSkipState", "clearTimer", "stopScheduler"],
          "patterns": []
        },
        "handleNavigation": {
          "calls": ["cleanup", "interruptMatch", "showMessage", "dispatchBattleEvent"],
          "patterns": []
        },
        "handleError": {
          "calls": ["cleanup", "interruptMatch", "showErrorDialog", "dispatchBattleEvent"],
          "patterns": []
        },
        "showErrorDialog": {
          "calls": [
            "showMessage",
            "createElement",
            "createButton",
            "addEventListener",
            "reload",
            "appendChild",
            "createDocumentFragment",
            "append",
            "createModal",
            "querySelector",
            "open"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/idleCallback.js": {
      "imports": [],
      "functions": {
        "runWhenIdle": {
          "calls": [
            "fn",
            "requestIdleCallback",
            "setTimeout",
            "cancelIdleCallback",
            "wrappedFn",
            "queueMicrotask"
          ],
          "patterns": []
        },
        "wrappedFn": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/handleRoundError.js": {
      "imports": ["./battleEvents.js", "./guard.js"],
      "functions": {
        "handleRoundError": {
          "calls": [
            "guard",
            "emitBattleEvent",
            "getState",
            "getAvailableTransitions",
            "some",
            "canDispatchEvent",
            "guardAsync",
            "dispatch",
            "has",
            "dispatchIfAvailable"
          ],
          "patterns": []
        },
        "canDispatchEvent": {
          "calls": ["getAvailableTransitions", "some"],
          "patterns": []
        },
        "dispatchIfAvailable": {
          "calls": ["canDispatchEvent", "guardAsync", "dispatch"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/guard.js": {
      "imports": [],
      "functions": {
        "guard": {
          "calls": ["fn"],
          "patterns": []
        },
        "guardAsync": {
          "calls": ["fn"],
          "patterns": []
        },
        "scheduleGuard": {
          "calls": ["setTimeout", "clearTimeout"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/globalState.js": {
      "imports": [],
      "functions": {
        "getBattleClassicGlobalState": {
          "calls": [],
          "patterns": []
        },
        "getBattleState": {
          "calls": ["getBattleClassicGlobalState", "split"],
          "patterns": []
        },
        "setBattleState": {
          "calls": ["getBattleClassicGlobalState", "split", "pop"],
          "patterns": []
        },
        "getInitCalled": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setInitCalled": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getInitComplete": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setInitComplete": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getStopSelectionTimer": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setStopSelectionTimer": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getHighestDisplayedRound": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setHighestDisplayedRound": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getLastRoundCycleTrigger": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setLastRoundCycleTrigger": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getLastManualRoundStartTimestamp": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setLastManualRoundStartTimestamp": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getOpponentPromptFallbackTimerId": {
          "calls": ["getBattleState", "Number", "isFinite"],
          "patterns": []
        },
        "setOpponentPromptFallbackTimerId": {
          "calls": ["setBattleState"],
          "patterns": []
        },
        "getJudokaFailureTelemetryState": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "getDebugFlag": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "setDebugFlag": {
          "calls": ["getBattleClassicGlobalState"],
          "patterns": []
        },
        "resetBattleClassicGlobalState": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/frameScheduler.js": {
      "imports": [],
      "functions": {
        "createFallbackTimer": {
          "calls": ["setTimeout", "onTimeout", "clearTimeout"],
          "patterns": ["factory"]
        },
        "createPendingFrameState": {
          "calls": ["max", "onIdle"],
          "patterns": ["factory"]
        },
        "completeFrame": {
          "calls": ["max", "onIdle"],
          "patterns": []
        },
        "isFrameIdValid": {
          "calls": [],
          "patterns": []
        },
        "createRafSupport": {
          "calls": [
            "raf",
            "cb",
            "isFrameIdValid",
            "delete",
            "onComplete",
            "add",
            "has",
            "cancelRaf"
          ],
          "patterns": ["factory"]
        },
        "schedule": {
          "calls": ["beginFrame", "schedule", "runFrameImmediately", "completeFrame"],
          "patterns": []
        },
        "cancel": {
          "calls": ["cancel"],
          "patterns": []
        },
        "runFrameImmediately": {
          "calls": ["cb", "onComplete"],
          "patterns": []
        },
        "createFrameTracker": {
          "calls": [
            "createPendingFrameState",
            "createRafSupport",
            "beginFrame",
            "schedule",
            "runFrameImmediately",
            "completeFrame",
            "cancel"
          ],
          "patterns": ["factory"]
        },
        "createPostResetScheduler": {
          "calls": [
            "bind",
            "lockFn",
            "createFallbackTimer",
            "createFrameTracker",
            "cancel",
            "runPostResetLock",
            "schedule",
            "isScheduled"
          ],
          "patterns": ["factory"]
        },
        "runPostResetLock": {
          "calls": ["lockFn"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/eventValidators.js": {
      "imports": [],
      "functions": {
        "validateRoundStartedEvent": {
          "calls": [],
          "patterns": []
        },
        "validateStatSelectedEvent": {
          "calls": [],
          "patterns": []
        },
        "validateRoundEvaluatedEvent": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/eventDispatcher.js": {
      "imports": ["./battleEvents.js", "./debugHooks.js", "../debug.js"],
      "functions": {
        "writeDedupeLog": {
          "calls": ["debugLog"],
          "patterns": []
        },
        "getTimestamp": {
          "calls": ["bigint", "Number", "now"],
          "patterns": []
        },
        "getMachineId": {
          "calls": ["has", "set", "get"],
          "patterns": []
        },
        "getDispatchKey": {
          "calls": ["getMachineId"],
          "patterns": []
        },
        "safeExposeDebugState": {
          "calls": ["exposeDebugState"],
          "patterns": []
        },
        "registerDispatch": {
          "calls": [
            "getDispatchKey",
            "getTimestamp",
            "get",
            "safeExposeDebugState",
            "writeDedupeLog",
            "set",
            "setTimeout",
            "delete"
          ],
          "patterns": []
        },
        "resetDispatchHistory": {
          "calls": ["writeDedupeLog", "clear", "from", "keys", "startsWith", "delete"],
          "patterns": []
        },
        "resetDispatchKey": {
          "calls": ["get", "delete"],
          "patterns": []
        },
        "getMachineState": {
          "calls": ["getState"],
          "patterns": []
        },
        "dispatchBattleEvent": {
          "calls": [
            "getMachineFromDebugState",
            "safeExposeDebugState",
            "debugLog",
            "registerDispatch",
            "writeDedupeLog",
            "getMachineState",
            "emitBattleEvent",
            "dispatch",
            "resetDispatchKey",
            "error"
          ],
          "patterns": []
        },
        "getMachineFromDebugState": {
          "calls": [
            "__classicBattleDebugRead",
            "readDebugState",
            "safeExposeDebugState",
            "machineSource"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/eventBusUtils.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "createEventBus": {
          "calls": [],
          "patterns": ["factory"]
        },
        "fallbackEmit": {
          "calls": [],
          "patterns": []
        },
        "fallbackOn": {
          "calls": [],
          "patterns": []
        },
        "fallbackOff": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/eventBus.js": {
      "imports": [],
      "functions": {
        "dispatcher": {
          "calls": [],
          "patterns": []
        },
        "stateGetter": {
          "calls": [],
          "patterns": []
        },
        "setBattleDispatcher": {
          "calls": [],
          "patterns": []
        },
        "setBattleStateGetter": {
          "calls": ["log"],
          "patterns": []
        },
        "setBattleStateSnapshot": {
          "calls": [],
          "patterns": []
        },
        "dispatchBattleEvent": {
          "calls": ["dispatcher", "error"],
          "patterns": []
        },
        "getBattleState": {
          "calls": ["stateGetter", "log", "error"],
          "patterns": []
        },
        "resetEventBus": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/eventAliases.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "shouldWarnDeprecated": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "emitBattleEventWithAliases": {
          "calls": ["getBattleEventTarget", "shouldWarnDeprecated", "warn", "emitEventWithAliases"],
          "patterns": []
        },
        "emitEventWithAliases": {
          "calls": ["dispatchEvent", "warn"],
          "patterns": []
        },
        "getMigrationInfo": {
          "calls": [],
          "patterns": []
        },
        "disableAliases": {
          "calls": ["filter"],
          "patterns": []
        },
        "isDeprecatedEventName": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/enhancedCleanup.js": {
      "imports": [],
      "functions": {
        "createResourceRegistry": {
          "calls": [],
          "patterns": ["factory"]
        },
        "createEnhancedCleanup": {
          "calls": ["pop", "dispose", "warn", "isDisposed", "cleanupAll"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/endModal.js": {
      "imports": [
        "../../components/Modal.js",
        "../../components/Button.js",
        "./roundManager.js",
        "./quitModal.js",
        "../api/battleUI.js",
        "../battle/battleUI.js"
      ],
      "functions": {
        "showEndModal": {
          "calls": [
            "getElementById",
            "disableStatButtons",
            "captureException",
            "setAttribute",
            "Number",
            "info",
            "createElement",
            "getOutcomeMessage",
            "createButton",
            "append",
            "createDocumentFragment",
            "createModal",
            "addEventListener",
            "handleReplay",
            "close",
            "destroy",
            "quitMatch",
            "appendChild",
            "open",
            "querySelectorAll",
            "forEach"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/domHelpers.js": {
      "imports": ["./opponentPlaceholder.js"],
      "functions": {
        "getOpponentCardContainer": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "hasRealOpponentCard": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "hasOpponentPlaceholder": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "hideOpponentCardIfRealVisible": {
          "calls": ["hasRealOpponentCard", "add", "remove"],
          "patterns": []
        },
        "ensureOpponentPlaceholderVisibility": {
          "calls": ["hasOpponentPlaceholder", "hasRealOpponentCard", "remove"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/diagnosticPanel.js": {
      "imports": ["../environment.js"],
      "functions": {
        "formatDiagnostics": {
          "calls": ["push", "stringify", "join"],
          "patterns": []
        },
        "updatePanel": {
          "calls": ["getDebugInfo", "toLocaleTimeString", "formatDiagnostics"],
          "patterns": []
        },
        "createPanel": {
          "calls": ["createElement"],
          "patterns": ["factory"]
        },
        "injectStyles": {
          "calls": ["getElementById", "createElement", "appendChild"],
          "patterns": []
        },
        "togglePanel": {
          "calls": [
            "createPanel",
            "injectStyles",
            "appendChild",
            "updatePanel",
            "setInterval",
            "clearInterval"
          ],
          "patterns": []
        },
        "handleKeyboardShortcut": {
          "calls": ["preventDefault", "togglePanel"],
          "patterns": []
        },
        "initDiagnosticPanel": {
          "calls": ["isDevelopmentEnvironment", "addEventListener", "info"],
          "patterns": []
        },
        "cleanupDiagnosticPanel": {
          "calls": ["removeEventListener", "clearInterval", "removeChild"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/debugPanel.js": {
      "imports": [
        "../BattleEngine.js",
        "../testModeUtils.js",
        "../featureFlags.js",
        "../detailsToggle.js",
        "../../components/Button.js",
        "./safeCall.js",
        "./battleDebug.js",
        "./debugHooks.js"
      ],
      "functions": {
        "hasDocument": {
          "calls": [],
          "patterns": []
        },
        "getDebugOutputEl": {
          "calls": ["hasDocument", "getElementById"],
          "patterns": []
        },
        "ensureDebugCopyButton": {
          "calls": [
            "querySelector",
            "createButton",
            "addEventListener",
            "preventDefault",
            "stopPropagation",
            "getDebugOutputEl",
            "safeCall",
            "writeText",
            "appendChild"
          ],
          "patterns": []
        },
        "ensureDebugPanelStructure": {
          "calls": [
            "hasDocument",
            "createElement",
            "replaceWith",
            "querySelector",
            "prepend",
            "append",
            "insertBefore",
            "setAttribute",
            "ensureDebugCopyButton"
          ],
          "patterns": []
        },
        "persistDebugPanelState": {
          "calls": [
            "safeCall",
            "getItem",
            "setDetailsOpen",
            "has",
            "setItem",
            "String",
            "addEventListener",
            "set"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["safeCall", "setItem", "String"],
          "patterns": []
        },
        "mountDebugPanel": {
          "calls": ["before", "remove"],
          "patterns": []
        },
        "getMachineDebugState": {
          "calls": [
            "safeCall",
            "getStateSnapshot",
            "isArray",
            "slice",
            "readDebugState",
            "addMachineDiagnostics"
          ],
          "patterns": []
        },
        "getStoreSnapshot": {
          "calls": ["safeCall"],
          "patterns": []
        },
        "getBuildInfo": {
          "calls": ["safeCall", "readDebugState", "isArray", "slice", "getElementById"],
          "patterns": []
        },
        "collectDebugState": {
          "calls": [
            "getScores",
            "getTimerState",
            "isMatchEnded",
            "isTestModeEnabled",
            "getCurrentSeed",
            "getMachineDebugState",
            "getStoreSnapshot",
            "getBuildInfo"
          ],
          "patterns": []
        },
        "addMachineDiagnostics": {
          "calls": [
            "safeCall",
            "readDebugState",
            "getMachine",
            "getState",
            "get",
            "isArray",
            "map"
          ],
          "patterns": []
        },
        "renderDebugState": {
          "calls": ["stringify"],
          "patterns": []
        },
        "updateDebugPanel": {
          "calls": ["getDebugOutputEl", "collectDebugState", "renderDebugState"],
          "patterns": []
        },
        "initDebugPanel": {
          "calls": [
            "hasDocument",
            "getElementById",
            "isEnabled",
            "ensureDebugPanelStructure",
            "persistDebugPanelState",
            "mountDebugPanel",
            "remove"
          ],
          "patterns": []
        },
        "setDebugPanelEnabled": {
          "calls": [
            "hasDocument",
            "getElementById",
            "ensureDebugPanelStructure",
            "persistDebugPanelState",
            "mountDebugPanel",
            "add",
            "remove"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/debugLogger.js": {
      "imports": [],
      "functions": {
        "logStateTransition": {
          "calls": ["log"],
          "patterns": []
        },
        "logEventEmit": {
          "calls": ["log"],
          "patterns": []
        },
        "logTimerOperation": {
          "calls": ["log"],
          "patterns": []
        },
        "logError": {
          "calls": ["log"],
          "patterns": []
        },
        "logPerformance": {
          "calls": ["log"],
          "patterns": []
        },
        "logStateHandlerEnter": {
          "calls": ["log", "now"],
          "patterns": []
        },
        "logStateHandlerExit": {
          "calls": ["log", "now"],
          "patterns": []
        },
        "logUIInteraction": {
          "calls": ["log", "now"],
          "patterns": []
        },
        "logBattleError": {
          "calls": ["log"],
          "patterns": []
        },
        "createComponentLogger": {
          "calls": ["log", "logTimerOperation", "logEventEmit", "logUIInteraction"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/debugLog.js": {
      "imports": ["../logger.js"],
      "functions": {
        "hasFlag": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "hasAnyDebugFlag": {
          "calls": ["some", "hasFlag"],
          "patterns": []
        },
        "isDebugFlagEnabled": {
          "calls": ["Boolean", "hasAnyDebugFlag"],
          "patterns": []
        },
        "isPlaywrightRuntime": {
          "calls": ["Boolean"],
          "patterns": []
        },
        "shouldSuppressDebugOutput": {
          "calls": ["isPlaywrightRuntime", "isDebugFlagEnabled"],
          "patterns": []
        },
        "shouldEmitDebugLogs": {
          "calls": ["isDebugFlagEnabled"],
          "patterns": []
        },
        "debugLog": {
          "calls": ["shouldEmitDebugLogs", "shouldSuppressDebugOutput", "baseDebug"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/debugHooks.js": {
      "imports": [],
      "functions": {
        "exposeDebugState": {
          "calls": ["set"],
          "patterns": []
        },
        "readDebugState": {
          "calls": ["get"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/countdownCoordinator.js": {
      "imports": ["./battleEvents.js"],
      "functions": {
        "clampRemaining": {
          "calls": ["Number", "isFinite", "max"],
          "patterns": []
        },
        "emitCountdownTick": {
          "calls": ["clampRemaining", "emitEvent"],
          "patterns": []
        },
        "emitCountdownFinished": {
          "calls": ["emitEvent"],
          "patterns": []
        },
        "attachCountdownCoordinator": {
          "calls": [
            "emitCountdownTick",
            "emitCountdownFinished",
            "onFinished",
            "renderer",
            "on",
            "off",
            "detachRenderer",
            "start",
            "stop"
          ],
          "patterns": []
        },
        "emitTick": {
          "calls": ["emitCountdownTick"],
          "patterns": []
        },
        "handleExpired": {
          "calls": ["emitCountdownFinished", "onFinished"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/cooldowns.js": {
      "imports": [
        "../timerUtils.js",
        "./setupFallbackTimer.js",
        "../testModeUtils.js",
        "./battleEvents.js",
        "./guard.js",
        "./skipHandler.js",
        "../timers/computeNextRoundCooldown.js",
        "../timers/createRoundTimer.js",
        "../BattleEngine.js",
        "./roundReadyState.js"
      ],
      "functions": {
        "initStartCooldown": {
          "calls": [
            "getDefaultTimer",
            "max",
            "Number",
            "guard",
            "offBattleEvent",
            "clearTimeout",
            "emitBattleEvent",
            "guardAsync",
            "dispatch",
            "onBattleEvent",
            "isTestModeEnabled",
            "queueMicrotask",
            "setTimeout",
            "schedule"
          ],
          "patterns": []
        },
        "finish": {
          "calls": [
            "clearFallback",
            "onCleanup",
            "guard",
            "stop",
            "setSkipHandler",
            "getNextButton",
            "markNextButtonReady",
            "hasReadyBeenDispatchedForCurrentCooldown",
            "shouldDispatchReady",
            "setReadyDispatchedForCurrentCooldown",
            "emitBattleEvent",
            "guardAsync",
            "dispatch",
            "String"
          ],
          "patterns": []
        },
        "resolveInterRoundCooldownDuration": {
          "calls": ["Number", "compute", "isFinite"],
          "patterns": []
        },
        "getNextButton": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "markNextButtonReady": {
          "calls": ["setAttribute"],
          "patterns": []
        },
        "prepareNextButtonForCooldown": {
          "calls": [
            "getNextButton",
            "guard",
            "markNextButtonReady",
            "getState",
            "schedule",
            "reapply",
            "setTimeout",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "reapply": {
          "calls": ["getNextButton", "getState", "guard", "markNextButtonReady"],
          "patterns": []
        },
        "setupInterRoundTimer": {
          "calls": ["guard", "on", "setSkipHandler", "start"],
          "patterns": []
        },
        "createCooldownCompletion": {
          "calls": [
            "clearTimeout",
            "clearFallback",
            "onCleanup",
            "guard",
            "stop",
            "setSkipHandler",
            "getNextButton",
            "markNextButtonReady",
            "hasReadyBeenDispatchedForCurrentCooldown",
            "shouldDispatchReady",
            "setReadyDispatchedForCurrentCooldown",
            "emitBattleEvent",
            "guardAsync",
            "dispatch",
            "String"
          ],
          "patterns": ["factory"]
        },
        "clearFallback": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "shouldDispatchReady": {
          "calls": ["hasReadyBeenDispatchedForCurrentCooldown"],
          "patterns": []
        },
        "scheduleCooldownFallback": {
          "calls": ["max", "Number", "setupFallbackTimer"],
          "patterns": []
        },
        "attachVisibilityPauseControls": {
          "calls": ["pause", "resume", "addEventListener", "handler", "removeEventListener"],
          "patterns": []
        },
        "handler": {
          "calls": ["pause", "resume"],
          "patterns": []
        },
        "initInterRoundCooldown": {
          "calls": [
            "resetReadyDispatchState",
            "resolveInterRoundCooldownDuration",
            "guard",
            "emitBattleEvent",
            "prepareNextButtonForCooldown",
            "createRoundTimer",
            "createCooldownCompletion",
            "attachVisibilityPauseControls",
            "setupInterRoundTimer",
            "max",
            "Number",
            "scheduleCooldownFallback",
            "trackFallback"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/cooldownResolver.js": {
      "imports": ["../timers/createRoundTimer.js", "../CooldownRenderer.js"],
      "functions": {
        "selectTimerFactory": {
          "calls": [],
          "patterns": ["factory"]
        },
        "selectRendererFactory": {
          "calls": [],
          "patterns": ["factory"]
        },
        "instantiateTimer": {
          "calls": ["factory"],
          "patterns": []
        },
        "normalizeRendererOptions": {
          "calls": [],
          "patterns": []
        },
        "resolveOpponentPromptBuffer": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "parseSecondsFromResult": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/cooldownOrchestrator.js": {
      "imports": [
        "./utils/errorHandling.js",
        "./debugHooks.js",
        "./battleEvents.js",
        "./eventBusUtils.js",
        "./eventDispatcher.js",
        "./skipHandler.js",
        "../showSnackbar.js",
        "../setupScoreboard.js",
        "../scheduler.js",
        "../CooldownRenderer.js",
        "./countdownCoordinator.js",
        "../timers/createRoundTimer.js",
        "./setupFallbackTimer.js",
        "./enhancedCleanup.js",
        "./battleDebug.js",
        "./debugPanel.js",
        "../BattleEngine.js",
        "./opponentPromptWaiter.js",
        "./opponentPromptTracker.js"
      ],
      "functions": {
        "isNil": {
          "calls": [],
          "patterns": []
        },
        "createErrorContext": {
          "calls": [],
          "patterns": ["factory"]
        },
        "assignFallbackHandle": {
          "calls": ["isArray", "cancel", "clear", "isNil", "clearTimeout"],
          "patterns": []
        },
        "clearFallbackTimer": {
          "calls": ["safeRound", "fallbackCancel", "clearTimeout"],
          "patterns": []
        },
        "clearFallback": {
          "calls": ["clearTimeout"],
          "patterns": []
        },
        "safeRound": {
          "calls": ["safeInvoke", "createErrorContext"],
          "patterns": []
        },
        "resetReadyTrace": {
          "calls": ["safeRound", "exposeDebugState"],
          "patterns": []
        },
        "appendReadyTrace": {
          "calls": ["safeRound", "now", "readDebugState", "isArray", "exposeDebugState"],
          "patterns": []
        },
        "logStartCooldown": {
          "calls": ["safeRound", "getStateSnapshot", "readDebugState", "exposeDebugState", "warn"],
          "patterns": []
        },
        "initializeCooldownTelemetry": {
          "calls": ["resetReadyTrace", "appendReadyTrace", "logStartCooldown"],
          "patterns": []
        },
        "resolveActiveScheduler": {
          "calls": [],
          "patterns": []
        },
        "detectOrchestratorContext": {
          "calls": [
            "safeRound",
            "Boolean",
            "isOrchestrated",
            "readDebugState",
            "getter",
            "appendReadyTrace"
          ],
          "patterns": []
        },
        "createCooldownControls": {
          "calls": ["appendReadyTrace", "safeRound", "notify", "resolve"],
          "patterns": ["factory"]
        },
        "markNextReady": {
          "calls": [
            "safeRound",
            "setAttribute",
            "removeAttribute",
            "getAttribute",
            "querySelector",
            "debug"
          ],
          "patterns": []
        },
        "setupNonOrchestratedReady": {
          "calls": [
            "mark",
            "safeRound",
            "emit",
            "getElementById",
            "querySelector",
            "setTimeout",
            "reapply",
            "scheduleGlobal"
          ],
          "patterns": []
        },
        "reapply": {
          "calls": ["getElementById", "mark", "querySelector"],
          "patterns": []
        },
        "scheduleGlobal": {
          "calls": ["setTimeout", "reapply"],
          "patterns": []
        },
        "setupOrchestratedReady": {
          "calls": [
            "createEventBus",
            "createResourceRegistry",
            "createEnhancedCleanup",
            "cleanup",
            "markReady",
            "resolver",
            "safeRound",
            "handler",
            "on",
            "push",
            "off",
            "registerListener",
            "finally",
            "addListener",
            "finalize",
            "getMachineState",
            "machineOutOfCooldown",
            "log",
            "isOrchestratorReadyState",
            "readBattleStateDataset",
            "isNextButtonReady",
            "error",
            "checkImmediate",
            "queueMicrotask",
            "setTimeout",
            "scheduleCheck"
          ],
          "patterns": []
        },
        "finalize": {
          "calls": ["cleanup", "markReady", "resolver"],
          "patterns": []
        },
        "addListener": {
          "calls": ["safeRound", "handler", "on", "push", "off", "registerListener"],
          "patterns": []
        },
        "wrapped": {
          "calls": ["safeRound", "handler"],
          "patterns": []
        },
        "machineOutOfCooldown": {
          "calls": ["getMachineState"],
          "patterns": []
        },
        "checkImmediate": {
          "calls": [
            "log",
            "isOrchestratorReadyState",
            "readBattleStateDataset",
            "machineOutOfCooldown",
            "isNextButtonReady",
            "error",
            "finalize"
          ],
          "patterns": []
        },
        "scheduleCheck": {
          "calls": ["checkImmediate", "queueMicrotask", "setTimeout"],
          "patterns": []
        },
        "run": {
          "calls": ["checkImmediate"],
          "patterns": []
        },
        "isOrchestratorReadyState": {
          "calls": [],
          "patterns": []
        },
        "readBattleStateDataset": {
          "calls": ["safeRound"],
          "patterns": []
        },
        "getMachineState": {
          "calls": ["safeRound", "getState", "normalizeMachineState"],
          "patterns": []
        },
        "normalizeMachineState": {
          "calls": [],
          "patterns": []
        },
        "isNextButtonReady": {
          "calls": ["safeRound", "getElementById", "error"],
          "patterns": []
        },
        "resolveReadinessTarget": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "instantiateCooldownTimer": {
          "calls": [
            "createEventBus",
            "engineProvider",
            "startCooldown",
            "call",
            "engineStarter",
            "callEngineStart",
            "assign",
            "stop",
            "timerFactory",
            "isOpponentPromptReady",
            "computeOpponentPromptWaitBudget",
            "isFinite",
            "attachCountdownCoordinator",
            "on",
            "safeRound",
            "max",
            "Number",
            "emit",
            "getElementById",
            "snackbarApi",
            "showSnackbar",
            "showMessage"
          ],
          "patterns": ["observer"]
        },
        "callEngineStart": {
          "calls": ["startCooldown", "call"],
          "patterns": []
        },
        "startEngineCooldownWithScheduler": {
          "calls": ["engineStarter", "callEngineStart", "assign", "stop"],
          "patterns": []
        },
        "createExpirationDispatcher": {
          "calls": [
            "getReadyDispatched",
            "catch",
            "then",
            "handleExpiration",
            "clearFallbackTimer",
            "safeRound",
            "clearTimeout",
            "finalizeExpiration",
            "apply",
            "exposeDebugState",
            "emit",
            "on"
          ],
          "patterns": ["factory", "observer"]
        },
        "finalizeExpiration": {
          "calls": ["catch", "then", "handleExpiration"],
          "patterns": []
        },
        "onExpired": {
          "calls": ["safeRound", "exposeDebugState", "finalizeExpiration", "emit"],
          "patterns": []
        },
        "registerSkipHandlerForTimer": {
          "calls": [
            "registerSkipHandler",
            "safeRound",
            "warn",
            "clearFallbackTimer",
            "clearTimeout",
            "stop",
            "emit",
            "handleExpiration"
          ],
          "patterns": []
        },
        "scheduleCooldownFallbacks": {
          "calls": [
            "safeRound",
            "Number",
            "isFinite",
            "max",
            "debug",
            "fallbackScheduler",
            "clearTimeout",
            "onExpired",
            "assignFallbackHandle",
            "setTimeout",
            "clearFallbackTimer",
            "isNil",
            "scheduleFallbackTimer"
          ],
          "patterns": []
        },
        "scheduleFallbackTimer": {
          "calls": [
            "debug",
            "fallbackScheduler",
            "safeRound",
            "clearTimeout",
            "onExpired",
            "assignFallbackHandle"
          ],
          "patterns": []
        },
        "startTimerWithDiagnostics": {
          "calls": ["safeRound", "start", "error"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/controller.js": {
      "imports": [
        "./roundManager.js",
        "./selectionHandler.js",
        "./orchestrator.js",
        "./roundUI.js",
        "../featureFlags.js",
        "../testModeUtils.js",
        "../BattleEngine.js",
        "./battleEvents.js"
      ],
      "functions": {
        "handleFeatureFlagsChange": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/cardStatUtils.js": {
      "imports": ["../battle/index.js"],
      "functions": {
        "getCardStatValue": {
          "calls": ["getStatValue"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/cardSelection.js": {
      "imports": [
        "../randomCard.js",
        "../cardUtils.js",
        "../settingsStorage.js",
        "../featureFlags.js",
        "../dataUtils.js",
        "../utils.js",
        "../constants.js",
        "../setupScoreboard.js",
        "../../components/Modal.js",
        "../../components/Button.js",
        "../../components/JudokaCard.js",
        "../judokaUtils.js",
        "../lazyPortrait.js",
        "../signatureMove.js",
        "./opponentPlaceholder.js"
      ],
      "functions": {
        "defaultCardFactory": {
          "calls": ["render"],
          "patterns": ["factory"]
        },
        "qaInfo": {
          "calls": ["isEnabled", "showTemporaryMessage", "setTimeout"],
          "patterns": []
        },
        "showLoadError": {
          "calls": [
            "includes",
            "getElementById",
            "scoreboardShowMessage",
            "debug",
            "createElement",
            "createButton",
            "setAttribute",
            "removeAttribute",
            "addEventListener",
            "setLoadingState",
            "close",
            "dispatchEvent",
            "reload",
            "append",
            "createDocumentFragment",
            "createModal",
            "appendChild",
            "querySelector",
            "open",
            "createAndShowModal"
          ],
          "patterns": []
        },
        "createAndShowModal": {
          "calls": [
            "createElement",
            "createButton",
            "setAttribute",
            "removeAttribute",
            "addEventListener",
            "setLoadingState",
            "close",
            "dispatchEvent",
            "debug",
            "reload",
            "append",
            "createDocumentFragment",
            "createModal",
            "appendChild",
            "querySelector",
            "open"
          ],
          "patterns": ["factory"]
        },
        "setLoadingState": {
          "calls": ["setAttribute", "removeAttribute"],
          "patterns": []
        },
        "loadJudokaData": {
          "calls": ["isArray", "fetcher", "onError"],
          "patterns": []
        },
        "loadGokyoLookup": {
          "calls": ["fetcher", "lookupFactory", "onError"],
          "patterns": []
        },
        "selectOpponentJudoka": {
          "calls": [
            "isArray",
            "randomJudoka",
            "pickRandom",
            "max",
            "onCandidateRejected",
            "onCandidateAccepted",
            "fallbackProvider",
            "qaLogger"
          ],
          "patterns": []
        },
        "pickRandom": {
          "calls": ["randomJudoka"],
          "patterns": []
        },
        "renderOpponentPlaceholder": {
          "calls": ["applyOpponentCardPlaceholder", "add"],
          "patterns": []
        },
        "drawCards": {
          "calls": [
            "containerProvider",
            "getElementById",
            "isEnabled",
            "judokaLoader",
            "error",
            "gokyoLoader",
            "filter",
            "loadSettingsFn",
            "inspectorFlagReader",
            "cardGenerator",
            "removeChild",
            "cardFactory",
            "appendChild",
            "querySelector",
            "markSignatureMoveReady",
            "lazyPortraitSetup",
            "setupLazyPortraits",
            "clearPlayerContainer",
            "selectOpponentJudoka",
            "placeholderRenderer"
          ],
          "patterns": []
        },
        "clearPlayerContainer": {
          "calls": ["removeChild"],
          "patterns": []
        },
        "getOpponentJudoka": {
          "calls": [],
          "patterns": []
        },
        "clearOpponentJudoka": {
          "calls": [],
          "patterns": []
        },
        "getGokyoLookup": {
          "calls": [],
          "patterns": []
        },
        "getOrLoadGokyoLookup": {
          "calls": ["loadGokyoLookup"],
          "patterns": []
        },
        "_resetForTest": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/bootstrap.js": {
      "imports": [
        "./promises.js",
        "./roundUI.js",
        "./roundCycleHistoryTracker.js",
        "../domReady.js",
        "./statButtonTestSignals.js",
        "./controller.js",
        "./view.js",
        "./setupTestHelpers.js",
        "./roundSelectModal.js",
        "../featureFlags.js",
        "../BattleEngine.js",
        "./orchestrator.js",
        "../setupScoreboard.js",
        "../testing/exposeClassicBattleTestApi.js",
        "./uiHelpers.js",
        "./roundFlowController.js",
        "../opponentCardWait.js"
      ],
      "functions": {
        "canAccessWindow": {
          "calls": [],
          "patterns": []
        },
        "setupClassicBattlePage": {
          "calls": [
            "createBattleEngine",
            "registerBridgeOnEngineCreated",
            "warn",
            "resolve",
            "reject",
            "canAccessWindow",
            "bindController",
            "init",
            "bindUIHelperEventHandlers",
            "bindRoundFlowControllerOnce",
            "bindRoundUIEventHandlersDynamic",
            "now",
            "setupScoreboardWithControls",
            "createClassicBattleDebugAPI",
            "exposeDebugAPIToWindow",
            "resolveStart",
            "rejectStart",
            "setBattleStateBadgeEnabled",
            "isEnabled",
            "setupScoreboard",
            "resolveRoundStartPolicy"
          ],
          "patterns": []
        },
        "startCallback": {
          "calls": [
            "bindController",
            "init",
            "bindUIHelperEventHandlers",
            "bindRoundFlowControllerOnce",
            "bindRoundUIEventHandlersDynamic",
            "canAccessWindow",
            "now",
            "setupScoreboardWithControls",
            "createClassicBattleDebugAPI",
            "exposeDebugAPIToWindow",
            "resolveStart",
            "rejectStart"
          ],
          "patterns": []
        },
        "setupScoreboardWithControls": {
          "calls": ["setupScoreboard", "warn"],
          "patterns": []
        },
        "exposeDebugAPIToWindow": {
          "calls": ["canAccessWindow", "warn"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/battleLogger.js": {
      "imports": [],
      "functions": {
        "createBattleLogger": {
          "calls": ["debug", "log", "warn"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/battleEvents.js": {
      "imports": [
        "../testLogGate.js",
        "./debugLogger.js",
        "../nodeEventsShim.js",
        "./eventAliases.js"
      ],
      "functions": {
        "resetBattleEventDedupeState": {
          "calls": ["clear"],
          "patterns": []
        },
        "isVitest": {
          "calls": [],
          "patterns": []
        },
        "setupTestDebugInstrumentation": {
          "calls": ["isVitest", "shouldShowTestLogs", "isConsoleMocked", "log", "apply"],
          "patterns": []
        },
        "wrappedDispatchEvent": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log", "apply"],
          "patterns": []
        },
        "__tuneMaxListenersIfNode": {
          "calls": ["isVitest", "queueMicrotask", "setMaxListenersIfNode"],
          "patterns": []
        },
        "getTarget": {
          "calls": [
            "__tuneMaxListenersIfNode",
            "now",
            "substr",
            "toString",
            "random",
            "toISOString",
            "isVitest",
            "log"
          ],
          "patterns": []
        },
        "buildSemanticDetailKey": {
          "calls": ["join", "map", "String"],
          "patterns": []
        },
        "shouldSuppressDuplicateValueEvent": {
          "calls": ["has", "buildSemanticDetailKey", "get", "set"],
          "patterns": []
        },
        "onBattleEvent": {
          "calls": ["addEventListener", "getTarget"],
          "patterns": []
        },
        "offBattleEvent": {
          "calls": ["removeEventListener", "getTarget"],
          "patterns": []
        },
        "emitBattleEvent": {
          "calls": [
            "shouldSuppressDuplicateValueEvent",
            "debug",
            "logEventEmit",
            "now",
            "dispatchEvent",
            "getTarget",
            "error"
          ],
          "patterns": []
        },
        "emitBattleEventWithAliases": {
          "calls": ["event", "emitBattleEventWithAliasesCore", "error", "emitBattleEvent"],
          "patterns": []
        },
        "__resetBattleEventTarget": {
          "calls": [
            "__tuneMaxListenersIfNode",
            "now",
            "substr",
            "toString",
            "random",
            "toISOString",
            "isVitest",
            "log",
            "resetBattleEventDedupeState"
          ],
          "patterns": []
        },
        "getBattleEventTarget": {
          "calls": ["getTarget"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/battleDebug.js": {
      "imports": [],
      "functions": {
        "logStateTransition": {
          "calls": ["push", "now", "shift"],
          "patterns": []
        },
        "getStateSnapshot": {
          "calls": ["slice"],
          "patterns": []
        },
        "__setStateSnapshot": {
          "calls": ["isArray", "slice"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/badgeManager.js": {
      "imports": ["./UIElements.js"],
      "functions": {
        "isBadgeFeatureEnabled": {
          "calls": [],
          "patterns": []
        },
        "initBattleStateBadge": {
          "calls": [
            "isBadgeFeatureEnabled",
            "getBattleStateBadge",
            "makeBadgeVisible",
            "String",
            "test",
            "debug"
          ],
          "patterns": []
        },
        "makeBadgeVisible": {
          "calls": ["removeAttribute"],
          "patterns": []
        },
        "setBadgeText": {
          "calls": ["isBadgeFeatureEnabled", "getBattleStateBadge", "makeBadgeVisible", "String"],
          "patterns": []
        },
        "initBadgeSync": {
          "calls": ["initBattleStateBadge"],
          "patterns": []
        },
        "ensureLobbyBadge": {
          "calls": ["initBattleStateBadge"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/autoSelectStat.js": {
      "imports": ["../testModeUtils.js", "../BattleEngine.js", "../setupScoreboard.js"],
      "functions": {
        "autoSelectStat": {
          "calls": [
            "entries",
            "reduce",
            "floor",
            "seededRandom",
            "querySelector",
            "String",
            "add",
            "toUpperCase",
            "charAt",
            "slice",
            "showAutoSelect",
            "setTimeout",
            "onSelect"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/autoSelectHandlers.js": {
      "imports": [
        "../featureFlags.js",
        "../i18n.js",
        "../setupScoreboard.js",
        "../showSnackbar.js",
        "./battleEvents.js",
        "./eventDispatcher.js",
        "./autoSelectStat.js",
        "../timers/computeNextRoundCooldown.js",
        "../scheduler.js"
      ],
      "functions": {
        "forceAutoSelectAndDispatch": {
          "calls": ["showMessage", "t", "isEnabled", "autoSelectStat", "dispatchBattleEvent"],
          "patterns": []
        },
        "handleStatSelectionTimeout": {
          "calls": [
            "getScheduler",
            "isFinite",
            "Number",
            "setTimeout",
            "isStaleRound",
            "t",
            "showSnackbar",
            "isEnabled",
            "showMessage",
            "warn",
            "emitBattleEvent",
            "computeNextRoundCooldown",
            "autoSelectStat",
            "error"
          ],
          "patterns": []
        },
        "isStaleRound": {
          "calls": ["isFinite", "Number"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/autoContinue.js": {
      "imports": [],
      "functions": {
        "getAutoContinue": {
          "calls": [],
          "patterns": []
        },
        "setAutoContinue": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/UIElements.js": {
      "imports": [],
      "functions": {
        "getStatButtonsContainer": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getStatButtons": {
          "calls": ["from", "querySelectorAll"],
          "patterns": []
        },
        "getNextButton": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "getScoreDisplay": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getPlayerScoreValue": {
          "calls": ["trim", "querySelector"],
          "patterns": []
        },
        "getOpponentScoreValue": {
          "calls": ["trim", "querySelector"],
          "patterns": []
        },
        "getNextRoundTimer": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getTimerParts": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "getHomeButton": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getHeaderLinks": {
          "calls": ["querySelectorAll"],
          "patterns": []
        },
        "getRoundSelectFallback": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getRoundSelectError": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "hasRoundSelectFallback": {
          "calls": ["Boolean", "getElementById"],
          "patterns": []
        },
        "getOpponentCard": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getRoundCounter": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getReplayButton": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getQuitButton": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getBattleStateBadge": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getStatDescription": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/swipe.js": {
      "imports": [],
      "functions": {
        "wireSwipe": {
          "calls": ["reset", "prev", "next", "preventDefault", "onEnd", "addEventListener", "push"],
          "patterns": []
        },
        "reset": {
          "calls": [],
          "patterns": []
        },
        "onEnd": {
          "calls": ["reset", "prev", "next"],
          "patterns": []
        },
        "onTouchStart": {
          "calls": ["preventDefault"],
          "patterns": []
        },
        "onTouchEnd": {
          "calls": ["onEnd", "preventDefault"],
          "patterns": []
        },
        "onTouchMove": {
          "calls": ["preventDefault"],
          "patterns": []
        },
        "onTouchCancel": {
          "calls": ["reset"],
          "patterns": []
        },
        "onPointerDown": {
          "calls": [],
          "patterns": []
        },
        "onPointerUp": {
          "calls": ["onEnd"],
          "patterns": []
        },
        "onPointerCancel": {
          "calls": ["reset"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/structure.js": {
      "imports": [],
      "functions": {
        "createCarouselStructure": {
          "calls": ["createElement", "setAttribute", "appendChild"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/carousel/scrollSync.js": {
      "imports": ["./metrics.js"],
      "functions": {
        "wireScrollSync": {
          "calls": [
            "getPageMetrics",
            "round",
            "max",
            "min",
            "update",
            "syncPageFromScroll",
            "addEventListener",
            "push"
          ],
          "patterns": []
        },
        "syncPageFromScroll": {
          "calls": ["getPageMetrics", "round", "max", "min", "update"],
          "patterns": []
        },
        "onScroll": {
          "calls": ["syncPageFromScroll"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/scroll.js": {
      "imports": [],
      "functions": {
        "createScrollButton": {
          "calls": [
            "createElement",
            "setAttribute",
            "addEventListener",
            "parseFloat",
            "getComputedStyle",
            "scrollBy"
          ],
          "patterns": ["factory"]
        },
        "updateScrollButtonState": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/responsive.js": {
      "imports": [],
      "functions": {
        "setupResponsiveSizing": {
          "calls": [
            "floor",
            "forEach",
            "querySelectorAll",
            "setProperty",
            "observe",
            "addEventListener",
            "setCardWidths"
          ],
          "patterns": []
        },
        "setCardWidths": {
          "calls": ["floor", "forEach", "querySelectorAll", "setProperty"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/resize.js": {
      "imports": ["./metrics.js"],
      "functions": {
        "wireResize": {
          "calls": [
            "clearTimeout",
            "setTimeout",
            "getPageMetrics",
            "remove",
            "_buildMarkers",
            "append",
            "setPage",
            "addEventListener",
            "push"
          ],
          "patterns": []
        },
        "onResize": {
          "calls": [
            "clearTimeout",
            "setTimeout",
            "getPageMetrics",
            "remove",
            "_buildMarkers",
            "append",
            "setPage"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/navigation.js": {
      "imports": ["../constants.js"],
      "functions": {
        "setupKeyboardNavigation": {
          "calls": ["addEventListener", "preventDefault", "parseFloat", "getComputedStyle"],
          "patterns": []
        },
        "setupSwipeNavigation": {
          "calls": [
            "parseFloat",
            "getComputedStyle",
            "max",
            "min",
            "scrollTo",
            "addEventListener",
            "scrollFromDelta"
          ],
          "patterns": []
        },
        "scrollFromDelta": {
          "calls": ["parseFloat", "getComputedStyle", "max", "min", "scrollTo"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/metrics.js": {
      "imports": [],
      "functions": {
        "getPageMetrics": {
          "calls": ["getComputedStyle", "parseFloat", "querySelectorAll", "max", "floor", "ceil"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/keyboard.js": {
      "imports": [],
      "functions": {
        "wireKeyboard": {
          "calls": [
            "preventDefault",
            "stopImmediatePropagation",
            "prev",
            "next",
            "addEventListener",
            "push"
          ],
          "patterns": []
        },
        "onKeydown": {
          "calls": ["preventDefault", "stopImmediatePropagation", "prev", "next"],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/index.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/carousel/focus.js": {
      "imports": [],
      "functions": {
        "setupFocusHandlers": {
          "calls": [
            "from",
            "querySelectorAll",
            "forEach",
            "remove",
            "getBoundingClientRect",
            "abs",
            "add",
            "addEventListener",
            "indexOf",
            "focus",
            "setTimeout",
            "contains",
            "updateCardFocusStyles"
          ],
          "patterns": []
        },
        "updateCardFocusStyles": {
          "calls": [
            "from",
            "querySelectorAll",
            "forEach",
            "remove",
            "getBoundingClientRect",
            "abs",
            "add"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/controller.js": {
      "imports": ["./metrics.js", "./keyboard.js", "./swipe.js", "./scrollSync.js", "./resize.js"],
      "functions": {
        "onScrollEnd": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/cards.js": {
      "imports": ["../cardBuilder.js", "../judokaUtils.js", "../judokaValidation.js"],
      "functions": {
        "appendCards": {
          "calls": [
            "hasRequiredJudokaFields",
            "error",
            "join",
            "getMissingJudokaFields",
            "getFallbackJudoka",
            "generateJudokaCard",
            "warn",
            "querySelector",
            "addEventListener",
            "contains",
            "replaceChild",
            "appendChild",
            "push",
            "setAttribute",
            "getAttribute",
            "resolve",
            "allSettled"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/carousel/accessibility.js": {
      "imports": ["./focus.js", "../lazyPortrait.js", "./controller.js"],
      "functions": {
        "ensureTouchTargetSize": {
          "calls": ["getComputedStyle", "parseInt"],
          "patterns": []
        },
        "applyAccessibilityImprovements": {
          "calls": ["querySelectorAll", "forEach", "ensureTouchTargetSize"],
          "patterns": []
        },
        "initAccessibility": {
          "calls": ["setupFocusHandlers", "applyAccessibilityImprovements", "setupLazyPortraits"],
          "patterns": []
        }
      }
    },
    "src/helpers/browse/testApi.js": {
      "imports": ["../carousel/index.js", "../utils.js", "../setupHoverZoom.js", "../testApi.js"],
      "functions": {
        "updateInitSnapshot": {
          "calls": ["isTestMode", "__updateBrowseReadySnapshot", "getTestAPI"],
          "patterns": []
        },
        "resetInitSnapshot": {
          "calls": ["isTestMode", "__resetBrowseReadySnapshot", "getTestAPI"],
          "patterns": []
        },
        "ensureBrowseTestApi": {
          "calls": ["isTestMode", "getTestAPI"],
          "patterns": []
        },
        "registerBrowseTestApi": {
          "calls": ["ensureBrowseTestApi"],
          "patterns": []
        },
        "createReadySnapshot": {
          "calls": ["querySelectorAll"],
          "patterns": ["factory"]
        },
        "resolveReadyResolvers": {
          "calls": [
            "resetInitSnapshot",
            "createReadySnapshot",
            "updateInitSnapshot",
            "from",
            "resolver",
            "delete"
          ],
          "patterns": []
        },
        "whenCarouselReady": {
          "calls": [
            "ensureBrowseTestApi",
            "isFinite",
            "clearTimeout",
            "resolve",
            "add",
            "delete",
            "resolver",
            "createReadySnapshot",
            "setTimeout"
          ],
          "patterns": []
        },
        "resolver": {
          "calls": ["clearTimeout", "resolve"],
          "patterns": []
        },
        "disableHoverAnimations": {
          "calls": ["hasAttribute", "getAttribute", "setAttribute"],
          "patterns": []
        },
        "enableHoverAnimations": {
          "calls": ["removeAttribute", "setAttribute"],
          "patterns": []
        },
        "addTestCard": {
          "calls": ["appendCards", "has", "add", "clearLegacyHoverZoomMarkers"],
          "patterns": []
        },
        "clearCarouselCards": {
          "calls": [
            "querySelectorAll",
            "replaceChildren",
            "createElement",
            "setAttribute",
            "appendChild",
            "createReadySnapshot",
            "updateInitSnapshot"
          ],
          "patterns": []
        },
        "resetState": {
          "calls": [
            "enableHoverAnimations",
            "removeChild",
            "includes",
            "clear",
            "resetInitSnapshot",
            "from",
            "resolver"
          ],
          "patterns": []
        },
        "updateBrowseTestApiContext": {
          "calls": [
            "ensureBrowseTestApi",
            "isArray",
            "createGokyoLookup",
            "clear",
            "resolveReadyResolvers",
            "resetInitSnapshot"
          ],
          "patterns": []
        },
        "resetBrowseTestApi": {
          "calls": ["resetState"],
          "patterns": []
        }
      }
    },
    "src/helpers/browse/setupCountryToggle.js": {
      "imports": ["../countrySlider.js", "../countryPanel.js", "../country/search.js"],
      "functions": {
        "createCountryToggleAdapter": {
          "calls": [
            "toggleCountryPanelImpl",
            "createCountrySliderImpl",
            "getElementById",
            "setupCountrySearch",
            "setupKeyboardNavigation"
          ],
          "patterns": ["factory"]
        },
        "createCountryToggleController": {
          "calls": ["hasFlags", "isPanelOpen", "reflectPanelState", "loadFlags", "closePanel"],
          "patterns": ["factory"]
        },
        "setupCountryToggle": {
          "calls": [
            "createCountryToggleAdapter",
            "createCountryToggleController",
            "addEventListener"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/browse/setupCountryFilter.js": {
      "imports": ["../countryPanel.js"],
      "functions": {
        "createCountryFilterAdapter": {
          "calls": [
            "querySelector",
            "toggleCountryPanelImpl",
            "remove",
            "createElement",
            "setAttribute",
            "appendChild",
            "from",
            "querySelectorAll",
            "scrollTo",
            "setPage"
          ],
          "patterns": ["factory"]
        },
        "createCountryFilterController": {
          "calls": [
            "getRadios",
            "getDefaultRadio",
            "find",
            "render",
            "resetCarouselPosition",
            "updateLiveRegion",
            "toLabel",
            "removeNoResultsMessage",
            "getCheckedRadio",
            "getButtonValue",
            "filter",
            "showNoResultsMessage",
            "closePanel"
          ],
          "patterns": ["factory"]
        },
        "toLabel": {
          "calls": [],
          "patterns": []
        },
        "getRadios": {
          "calls": ["getRadios"],
          "patterns": []
        },
        "getDefaultRadio": {
          "calls": ["getDefaultRadio", "find", "getRadios"],
          "patterns": []
        },
        "getCheckedRadio": {
          "calls": ["find", "getRadios"],
          "patterns": []
        },
        "setupCountryFilter": {
          "calls": [
            "createCountryFilterAdapter",
            "createCountryFilterController",
            "closest",
            "getAttribute",
            "querySelector",
            "addEventListener",
            "clear",
            "select",
            "resolveRadioFromTarget",
            "click"
          ],
          "patterns": []
        },
        "resolveRadioFromTarget": {
          "calls": ["closest", "getAttribute", "querySelector"],
          "patterns": []
        }
      }
    },
    "src/helpers/battle/score.js": {
      "imports": ["../BattleEngine.js"],
      "functions": {
        "recordQuerySelectorError": {
          "calls": [],
          "patterns": []
        },
        "getStatValue": {
          "calls": [
            "recordQuerySelectorError",
            "indexOf",
            "isFinite",
            "querySelector",
            "String",
            "parseInt"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/battle/index.js": {
      "imports": [],
      "functions": {}
    },
    "src/helpers/battle/engineTimer.js": {
      "imports": [],
      "functions": {
        "emitTimerEvent": {
          "calls": ["emit", "startSpan", "setAttribute", "forEach", "entries"],
          "patterns": []
        },
        "recordTimerDriftTelemetry": {
          "calls": ["now", "startSpan", "setAttribute", "warn"],
          "patterns": []
        },
        "createGuardedExpiredCallback": {
          "calls": ["onExpired"],
          "patterns": ["factory"]
        },
        "createTickCallback": {
          "calls": ["emit", "onTick"],
          "patterns": ["factory"]
        },
        "startRoundTimer": {
          "calls": [
            "emitTimerEvent",
            "createTickCallback",
            "createGuardedExpiredCallback",
            "onDrift",
            "startRound"
          ],
          "patterns": []
        },
        "startCoolDownTimer": {
          "calls": [
            "createTickCallback",
            "createGuardedExpiredCallback",
            "emitTimerEvent",
            "onDrift",
            "startCoolDown"
          ],
          "patterns": []
        },
        "pauseTimer": {
          "calls": ["emitTimerEvent", "pause"],
          "patterns": []
        },
        "resumeTimer": {
          "calls": ["emitTimerEvent", "resume"],
          "patterns": []
        },
        "stopTimer": {
          "calls": ["emitTimerEvent", "stop"],
          "patterns": []
        },
        "handleTabInactive": {
          "calls": ["emitTimerEvent", "pauseTimer"],
          "patterns": []
        },
        "handleTabActive": {
          "calls": ["emitTimerEvent", "resumeTimer"],
          "patterns": []
        },
        "handleTimerDrift": {
          "calls": ["emitTimerEvent", "recordTimerDriftTelemetry", "stopTimer"],
          "patterns": []
        }
      }
    },
    "src/helpers/battle/battleUI.js": {
      "imports": ["../../utils/scheduler.js", "../featureFlags.js"],
      "functions": {
        "detectFakeTimers": {
          "calls": ["isFakeTimers", "Boolean"],
          "patterns": []
        },
        "scheduleImmediate": {
          "calls": [
            "requestAnimationFrame",
            "callback",
            "cancelAnimationFrame",
            "queueMicrotask",
            "catch",
            "then",
            "resolve",
            "setTimeout",
            "clearTimeout"
          ],
          "patterns": []
        },
        "getStatButtons": {
          "calls": ["querySelectorAll"],
          "patterns": []
        },
        "snapshotButtons": {
          "calls": ["forEach", "getStatButtons", "push", "from"],
          "patterns": []
        },
        "trace": {
          "calls": ["now", "debug", "stringify", "snapshotButtons"],
          "patterns": []
        },
        "enableStatButtons": {
          "calls": [
            "trace",
            "forEach",
            "getStatButtons",
            "isFinite",
            "setAttribute",
            "remove",
            "removeProperty"
          ],
          "patterns": []
        },
        "disableStatButtons": {
          "calls": [
            "trace",
            "forEach",
            "getStatButtons",
            "isFinite",
            "setAttribute",
            "contains",
            "add"
          ],
          "patterns": []
        },
        "getRoundMessageEl": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "prepareButtonForReset": {
          "calls": ["remove", "removeProperty", "contains", "add"],
          "patterns": []
        },
        "enableButton": {
          "calls": ["remove", "blur"],
          "patterns": []
        },
        "createEnablePromise": {
          "calls": [
            "cancelFallback",
            "enableButton",
            "resolve",
            "isEnabled",
            "finishOnce",
            "isNaN",
            "cancel",
            "onFrame",
            "scheduleImmediate"
          ],
          "patterns": ["factory"]
        },
        "finishOnce": {
          "calls": ["cancelFallback", "enableButton", "resolve"],
          "patterns": []
        },
        "handleFrame": {
          "calls": ["isNaN", "cancel", "finishOnce"],
          "patterns": []
        },
        "resetStatButtons": {
          "calls": [
            "trace",
            "removeAttribute",
            "detectFakeTimers",
            "forEach",
            "getStatButtons",
            "prepareButtonForReset",
            "push",
            "createEnablePromise",
            "resolve",
            "all"
          ],
          "patterns": []
        },
        "showResult": {
          "calls": [
            "getRoundMessageEl",
            "cancelFade",
            "add",
            "remove",
            "removeProperty",
            "onFrame",
            "cancel",
            "setTimeout",
            "clearTimeout"
          ],
          "patterns": []
        },
        "cancelFadeFn": {
          "calls": ["cancel", "clearTimeout", "remove", "removeProperty"],
          "patterns": []
        }
      }
    },
    "src/helpers/api/countryService.js": {
      "imports": ["../dataUtils.js", "../constants.js", "../storage.js", "../debug.js"],
      "functions": {
        "loadCountryMapping": {
          "calls": ["getItem", "fetchJson", "setItem", "debugLog", "importJsonModule"],
          "patterns": []
        },
        "normalizeCode": {
          "calls": ["toLowerCase", "trim", "test"],
          "patterns": []
        },
        "getCountryName": {
          "calls": ["normalizeCode", "loadCountryMapping"],
          "patterns": []
        },
        "getFlagUrl": {
          "calls": ["normalizeCode", "loadCountryMapping"],
          "patterns": []
        }
      }
    },
    "src/helpers/api/battleUI.js": {
      "imports": ["../BattleEngine.js", "../testModeUtils.js", "../classicBattle/scoreDisplay.js"],
      "functions": {
        "chooseOpponentStat": {
          "calls": ["isArray", "floor", "seededRandom", "isNaN", "push", "filter", "reduce"],
          "patterns": []
        },
        "getOutcomeMessage": {
          "calls": [],
          "patterns": []
        },
        "evaluateRound": {
          "calls": ["handleStatSelection", "getOutcomeMessage"],
          "patterns": []
        },
        "applyRoundResultToDOM": {
          "calls": ["querySelector", "writeScoreDisplay", "Number"],
          "patterns": []
        }
      }
    },
    "tests/unit/playwright/selectors.statButton.spec.js": {
      "imports": ["vitest"],
      "functions": {
        "importSelectorsWith": {
          "calls": ["resetModules", "doMock"],
          "patterns": []
        }
      }
    },
    "tests/unit/playwright/opponentRevealTestSupport.cooldown.spec.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/unit/helpers/changeLogPage.spec.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "playwright/battle-classic/support/opponentRevealTestSupport.js": {
      "imports": [
        "@playwright/test",
        "../../helpers/selectors.js",
        "../../helpers/battleStateHelper.js"
      ],
      "functions": {
        "isMatchEndState": {
          "calls": ["includes"],
          "patterns": []
        },
        "isRoundOverState": {
          "calls": [],
          "patterns": []
        },
        "isWaitingForPlayerAction": {
          "calls": ["some"],
          "patterns": []
        },
        "executeRoundResolution": {
          "calls": [
            "catch",
            "evaluate",
            "getBattleStore",
            "getOpponentJudoka",
            "getStatValue",
            "resolveRound",
            "String"
          ],
          "patterns": []
        },
        "setOpponentResolveDelay": {
          "calls": ["evaluate", "setOpponentResolveDelay", "String", "toBe", "expect"],
          "patterns": []
        },
        "getBattleSnapshot": {
          "calls": [
            "evaluate",
            "getBattleSnapshot",
            "getBattleStore",
            "Number",
            "isFinite",
            "toLowerCase",
            "trim",
            "toNumber",
            "normalizeBoolean",
            "resolveSelection"
          ],
          "patterns": []
        },
        "toNumber": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "normalizeBoolean": {
          "calls": ["toLowerCase", "trim"],
          "patterns": []
        },
        "resolveSelection": {
          "calls": [],
          "patterns": []
        },
        "waitForBattleReadyWithFallbacks": {
          "calls": [
            "waitForBattleReady",
            "collectBattleReadinessFallbacks",
            "buildBattleFallbackFailureMessage"
          ],
          "patterns": []
        },
        "collectBattleReadinessFallbacks": {
          "calls": [
            "first",
            "locator",
            "statButton",
            "isVisible",
            "push",
            "evaluate",
            "call",
            "String",
            "getBattleSnapshot"
          ],
          "patterns": []
        },
        "buildBattleFallbackFailureMessage": {
          "calls": ["join", "map"],
          "patterns": []
        },
        "startMatch": {
          "calls": [
            "locator",
            "toBeVisible",
            "expect",
            "first",
            "statButton",
            "waitForBattleReadyWithFallbacks",
            "ensureStatSelectionVisible",
            "click",
            "catch",
            "then",
            "ensureBattleReady"
          ],
          "patterns": []
        },
        "ensureStatSelectionVisible": {
          "calls": ["toBeVisible", "expect", "first", "locator", "statButton"],
          "patterns": []
        },
        "ensureBattleReady": {
          "calls": ["waitForBattleReadyWithFallbacks", "ensureStatSelectionVisible"],
          "patterns": []
        },
        "startMatchAndAwaitStats": {
          "calls": ["startMatch"],
          "patterns": []
        },
        "safeGetBattleState": {
          "calls": ["getBattleStateWithErrorHandling"],
          "patterns": []
        },
        "attemptCliResolution": {
          "calls": ["executeRoundResolution", "safeGetBattleState"],
          "patterns": []
        },
        "manuallySyncBattleState": {
          "calls": [
            "evaluate",
            "getBattleState",
            "readState",
            "push",
            "now",
            "bind",
            "dispatch",
            "String",
            "getBattleStateMachine",
            "machineDispatch",
            "nowMs",
            "attempt",
            "isArray",
            "join",
            "map",
            "filter",
            "substring",
            "toBe",
            "poll",
            "safeGetBattleState"
          ],
          "patterns": []
        },
        "readState": {
          "calls": ["getBattleState"],
          "patterns": []
        },
        "nowMs": {
          "calls": ["now"],
          "patterns": []
        },
        "triggerRoundResolvedFallback": {
          "calls": [
            "executeRoundResolution",
            "safeGetBattleState",
            "shouldForceRoundOver",
            "manuallySyncBattleState",
            "isRoundOverState",
            "hasResolved"
          ],
          "patterns": []
        },
        "shouldForceRoundOver": {
          "calls": ["isRoundOverState"],
          "patterns": []
        },
        "clickNextButtonFallback": {
          "calls": [
            "hasResolved",
            "locator",
            "catch",
            "isEnabled",
            "isWaitingForPlayerAction",
            "safeGetBattleState",
            "isRoundOverState",
            "click"
          ],
          "patterns": []
        },
        "resolveRoundDeterministic": {
          "calls": [
            "safeGetBattleState",
            "isRoundOverState",
            "isMatchEndState",
            "readBattleStateDiagnostics",
            "isArray",
            "matchFlowAdvancedBeyondRoundOver",
            "attemptCliResolution",
            "triggerRoundResolvedFallback",
            "hasResolved",
            "clickNextButtonFallback"
          ],
          "patterns": []
        },
        "hasResolved": {
          "calls": [
            "safeGetBattleState",
            "isRoundOverState",
            "isMatchEndState",
            "readBattleStateDiagnostics",
            "isArray",
            "matchFlowAdvancedBeyondRoundOver"
          ],
          "patterns": []
        },
        "cooldownImmediatelyFollowsRoundOver": {
          "calls": ["isArray"],
          "patterns": []
        },
        "matchFlowAdvancedBeyondRoundOver": {
          "calls": ["isMatchEndState", "isArray"],
          "patterns": []
        },
        "readBattleStateDiagnostics": {
          "calls": [
            "evaluate",
            "getBattleState",
            "getStateSnapshot",
            "readState",
            "readSnapshot",
            "String"
          ],
          "patterns": []
        },
        "readSnapshot": {
          "calls": ["getStateSnapshot"],
          "patterns": []
        },
        "confirmRoundResolved": {
          "calls": [
            "toMatchObject",
            "poll",
            "readBattleStateDiagnostics",
            "isArray",
            "cooldownImmediatelyFollowsRoundOver",
            "matchFlowAdvancedBeyondRoundOver",
            "isRoundOverState"
          ],
          "patterns": []
        },
        "ensureRoundResolved": {
          "calls": ["waitForBattleState", "resolveRoundDeterministic", "confirmRoundResolved"],
          "patterns": []
        },
        "initializeBattle": {
          "calls": [
            "addInitScript",
            "goto",
            "startMatchAndAwaitStats",
            "startMatch",
            "setOpponentResolveDelay"
          ],
          "patterns": []
        },
        "waitForRoundsPlayed": {
          "calls": [
            "evaluate",
            "waitForRoundsPlayed",
            "getBattleSnapshot",
            "catch",
            "getBattleState",
            "join",
            "filter",
            "stringify",
            "toBeGreaterThanOrEqual",
            "poll",
            "String"
          ],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI/stateFlows.spec.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js", "../utils/loadBattleCLI.js"],
      "functions": {
        "setupBattleCLI": {
          "calls": [
            "loadBattleCLI",
            "init",
            "bindUIServiceEventHandlersOnce",
            "installEventBindings"
          ],
          "patterns": []
        },
        "getRoundMessageText": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "tests/pages/battleCLI/init.guard.spec.js": {
      "imports": ["vitest", "../../utils/console.js"],
      "functions": {}
    },
    "tests/pages/battleCLI/handlerLatency.spec.js": {
      "imports": [
        "vitest",
        "../utils/loadBattleCLI.js",
        "../../utils/battleCliTestUtils.js",
        "../../utils/flushMicrotasks.js"
      ],
      "functions": {
        "setupWaitingForAction": {
          "calls": ["loadBattleCLI", "renderStatList", "getElementById", "querySelector", "focus"],
          "patterns": []
        },
        "initNumericSelectionTest": {
          "calls": ["loadBattleCLI", "init"],
          "patterns": []
        },
        "createMicrotaskCapture": {
          "calls": [
            "bind",
            "mockImplementation",
            "spyOn",
            "originalResolve",
            "push",
            "then",
            "catch",
            "finally"
          ],
          "patterns": ["factory"]
        }
      }
    },
    "tests/pages/utils/loadBattleCLI.js": {
      "imports": ["vitest"],
      "functions": {
        "loadBattleCLI": {
          "calls": [
            "stubGlobal",
            "mockResolvedValue",
            "fn",
            "dispatchEvent",
            "doMock",
            "spyOn",
            "add",
            "mockReset",
            "mockImplementation",
            "ensureMock",
            "resolve",
            "addEventListener",
            "removeEventListener",
            "getElementById",
            "createElement",
            "appendChild",
            "Number",
            "String",
            "mockRejectedValue",
            "ensureCliDomForTest",
            "insertAdjacentHTML",
            "assign"
          ],
          "patterns": []
        },
        "setMockFlag": {
          "calls": [],
          "patterns": []
        },
        "ensureMock": {
          "calls": ["spyOn", "add", "mockReset", "mockImplementation"],
          "patterns": []
        },
        "cleanupBattleCLI": {
          "calls": [
            "unwireEvents",
            "resetMatch",
            "clearAllMocks",
            "forEach",
            "mockRestore",
            "clear",
            "unstubAllGlobals",
            "doUnmock",
            "resetModules",
            "__resetClassicBattleBindings",
            "__resetBattleEventTarget"
          ],
          "patterns": []
        }
      }
    },
    "tests/config/battleConfigTests/loadSettings.test.js": {
      "imports": ["vitest", "../../../utils/console.js"],
      "functions": {}
    },
    "tests/components/modalTests/Modal.dialog.test.js": {
      "imports": ["vitest", "../../src/components/Modal.js"],
      "functions": {}
    },
    "tests/helpers/timers/createRoundTimer.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/timers/createRoundTimer.js",
        "../../setup/fakeTimers.js"
      ],
      "functions": {}
    },
    "tests/helpers/timers/createRoundTimer.newFeatures.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/timers/createRoundTimer.js",
        "../../setup/fakeTimers.js"
      ],
      "functions": {
        "handler": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/settings/filterAdvancedSettings.test.js": {
      "imports": ["vitest", "../../../src/helpers/settings/filterAdvancedSettings.js"],
      "functions": {
        "createSettingsItem": {
          "calls": ["createElement", "append"],
          "patterns": ["factory"]
        },
        "getVisibleItems": {
          "calls": ["filter", "from", "querySelectorAll"],
          "patterns": []
        }
      }
    },
    "tests/helpers/scoreboardTests/scoreboard.readiness.test.js": {
      "imports": ["vitest", "./domUtils.js"],
      "functions": {
        "renderScoreboard": {
          "calls": [
            "mount",
            "createElement",
            "append",
            "appendChild",
            "fn",
            "setupScoreboard",
            "createMockScheduler",
            "querySelector"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/scoreboardTests/scoreboard.integration.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "getTimerText": {
          "calls": ["trim", "replace"],
          "patterns": []
        }
      }
    },
    "tests/helpers/scoreboardTests/scoreboard.adapter.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "./domUtils.js",
        "../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "roundCounter": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "tests/helpers/layoutEngine/validateLayoutDefinition.test.js": {
      "imports": ["vitest", "../../../src/helpers/layoutEngine/applyLayout.js"],
      "functions": {}
    },
    "tests/helpers/layoutEngine/loadLayout.test.js": {
      "imports": ["vitest"],
      "functions": {
        "createLogger": {
          "calls": ["fn"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/layoutEngine/applyLayout.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/layoutEngine/applyLayout.js",
        "../../../src/helpers/featureFlags.js",
        "../../../src/helpers/telemetry.js"
      ],
      "functions": {
        "createRoot": {
          "calls": ["querySelector"],
          "patterns": ["factory"]
        },
        "animationFrameProvider": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/components/index.js": {
      "imports": [],
      "functions": {}
    },
    "tests/helpers/components/StatsPanel.test.js": {
      "imports": ["vitest", "./StatsPanel.js"],
      "functions": {}
    },
    "tests/helpers/components/StatsPanel.js": {
      "imports": ["vitest", "../../../src/components/StatsPanel.js"],
      "functions": {
        "createStatsPanel": {
          "calls": [
            "fn",
            "bind",
            "onUpdate",
            "originalUpdate",
            "update",
            "from",
            "querySelectorAll",
            "find",
            "querySelector"
          ],
          "patterns": ["factory"]
        },
        "getStatElements": {
          "calls": ["from", "querySelectorAll"],
          "patterns": []
        },
        "getStatValue": {
          "calls": ["find", "from", "querySelectorAll", "querySelector"],
          "patterns": []
        }
      }
    },
    "tests/helpers/components/Scoreboard.test.js": {
      "imports": ["vitest", "./Scoreboard.js"],
      "functions": {}
    },
    "tests/helpers/components/Scoreboard.js": {
      "imports": [
        "../../../src/components/ScoreboardModel.js",
        "../../../src/components/ScoreboardView.js"
      ],
      "functions": {
        "createScoreboard": {
          "calls": [
            "createElement",
            "setAttribute",
            "append",
            "createTextNode",
            "showMessage",
            "updateTimer",
            "updateScore",
            "updateRoundCounter",
            "getState"
          ],
          "patterns": ["factory"]
        },
        "render": {
          "calls": ["showMessage", "updateTimer", "updateScore", "updateRoundCounter"],
          "patterns": []
        },
        "updateScore": {
          "calls": ["updateScore"],
          "patterns": []
        },
        "updateTimer": {
          "calls": ["updateTimer"],
          "patterns": []
        },
        "updateMessage": {
          "calls": ["showMessage"],
          "patterns": []
        },
        "updateRound": {
          "calls": ["updateRoundCounter"],
          "patterns": []
        },
        "getScore": {
          "calls": ["getState"],
          "patterns": []
        },
        "getTimer": {
          "calls": [],
          "patterns": []
        },
        "getMessage": {
          "calls": [],
          "patterns": []
        },
        "getRound": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/components/Modal.test.js": {
      "imports": ["vitest", "./Modal.js"],
      "functions": {}
    },
    "tests/helpers/components/Modal.js": {
      "imports": ["vitest"],
      "functions": {
        "createModal": {
          "calls": [
            "createElement",
            "setAttribute",
            "append",
            "fn",
            "focus",
            "onOpen",
            "hasAttribute",
            "removeAttribute",
            "dispatchEvent",
            "onClose",
            "close",
            "removeChild",
            "addEventListener",
            "preventDefault"
          ],
          "patterns": ["factory"]
        },
        "open": {
          "calls": ["setAttribute", "focus", "onOpen"],
          "patterns": []
        },
        "close": {
          "calls": [
            "hasAttribute",
            "removeAttribute",
            "setAttribute",
            "focus",
            "dispatchEvent",
            "onClose"
          ],
          "patterns": []
        },
        "destroy": {
          "calls": ["close", "removeChild"],
          "patterns": []
        }
      }
    },
    "tests/helpers/components/Card.test.js": {
      "imports": ["vitest", "./Card.js"],
      "functions": {}
    },
    "tests/helpers/components/Card.js": {
      "imports": ["vitest"],
      "functions": {
        "createCard": {
          "calls": [
            "createElement",
            "add",
            "setAttribute",
            "appendChild",
            "fn",
            "addEventListener"
          ],
          "patterns": ["factory"]
        },
        "updateContent": {
          "calls": ["appendChild"],
          "patterns": []
        },
        "setClassName": {
          "calls": ["add"],
          "patterns": []
        }
      }
    },
    "tests/helpers/components/Button.test.js": {
      "imports": ["vitest", "./Button.js"],
      "functions": {}
    },
    "tests/helpers/components/Button.js": {
      "imports": ["vitest"],
      "functions": {
        "createButton": {
          "calls": [
            "createElement",
            "parseFromString",
            "querySelector",
            "setAttribute",
            "appendChild",
            "fn",
            "addEventListener",
            "click"
          ],
          "patterns": ["factory"]
        },
        "click": {
          "calls": ["click"],
          "patterns": []
        },
        "setText": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "setDisabled": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/winTargetSync.test.js": {
      "imports": ["vitest"],
      "functions": {
        "renderCliDom": {
          "calls": ["createElement", "forEach", "String", "append", "replaceChildren"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/waitingForPlayerAction.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/view.initHelpers.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "../../../src/helpers/classicBattle/setupTestHelpers.js",
        "../../../src/helpers/classicBattle/setupScheduler.js",
        "../../../src/helpers/classicBattle/setupUIBindings.js",
        "../../../src/helpers/classicBattle/setupDebugHooks.js",
        "../../utils/componentTestUtils.js"
      ],
      "functions": {
        "makeView": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/utils.js": {
      "imports": [
        "../../../src/helpers/testLogGate.js",
        "vitest",
        "../rafMock.js",
        "../../utils/testUtils.js",
        "../../../src/helpers/classicBattle/orchestrator.js"
      ],
      "functions": {
        "renderStatsMarkup": {
          "calls": [],
          "patterns": []
        },
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        },
        "setupClassicBattleDom": {
          "calls": [
            "disposeClassicBattleOrchestrator",
            "useFakeTimers",
            "installRAFMock",
            "fn",
            "includes",
            "String",
            "renderStatsMarkup",
            "cb",
            "createElement",
            "querySelector",
            "createBattleHeader",
            "appendChild",
            "getElementById",
            "createBattleCardContainers",
            "before",
            "append",
            "setAttribute"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/uiHelpers.missingElements.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/battleEvents.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/uiHelpers.featureFlags.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/uiHelpers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/uiEventHandlers.revealCleanup.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/uiEventHandlers.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/opponentPlaceholder.js",
        "../../utils/testUtils.js"
      ],
      "functions": {
        "handler": {
          "calls": ["offBattleEvent", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/uiEventHandlers.pendingOpponentCardData.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/timerStateExposure.test.js": {
      "imports": ["vitest", "../../../src/helpers/events/SimpleEmitter.js"],
      "functions": {
        "createEngineMock": {
          "calls": ["bind"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/timerService.nextRound.test.js": {
      "imports": ["vitest", "./domUtils.js", "../mockScheduler.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/timerService.drift.test.js": {
      "imports": [
        "vitest",
        "../integrationHarness.js",
        "./domUtils.js",
        "../mockScheduler.js",
        "./driftStarter.js",
        "./timerModuleCleanup.js"
      ],
      "functions": {
        "triggerDrift": {
          "calls": ["handler"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/timerModuleCleanup.js": {
      "imports": ["vitest"],
      "functions": {
        "cleanupRoundTimerMocks": {
          "calls": ["doUnmock"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/timeoutInterrupt.timer.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {
        "resetCountdownState": {
          "calls": ["clear"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/timeoutInterrupt.minimal.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "./domUtils.js",
        "./setupTestEnv.js"
      ],
      "functions": {
        "recordTransition": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/timeoutInterrupt.cooldown.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "./domUtils.js",
        "./setupTestEnv.js"
      ],
      "functions": {
        "recordTransition": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/stateTransitions.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateTable.js",
        "../../../src/helpers/classicBattle/stateManager.js",
        "../../../src/helpers/featureFlags.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/stateTransitionListeners.js"
      ],
      "functions": {
        "createMachineForTransition": {
          "calls": [
            "find",
            "push",
            "mockImplementation",
            "spyOn",
            "mockReturnValue",
            "createStateManager"
          ],
          "patterns": ["factory"]
        },
        "onTransition": {
          "calls": ["emitBattleEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/stateManager.integrity.test.js": {
      "imports": ["vitest", "./commonMocks.js", "./setupTestEnv.js", "../../utils/console.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/stateManager.guards.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateManager.js",
        "../../../src/helpers/classicBattle/stateTable.js",
        "./commonMocks.js"
      ],
      "functions": {
        "onTransition": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/stateManager.getState.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateManager.js",
        "../../../src/helpers/classicBattle/stateTable.js"
      ],
      "functions": {
        "onTransition": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/statSelectionTiming.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./setupTestEnv.js",
        "./stallRecoveryJudokaFixtures.js",
        "./utils.js"
      ],
      "functions": {
        "readScoreValues": {
          "calls": ["querySelector"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/statSelection.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "../../utils/testUtils.js",
        "./mockSetup.js",
        "./playRounds.js",
        "../../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "expectDeselected": {
          "calls": ["toBe", "expect", "contains"],
          "patterns": []
        },
        "playRounds": {
          "calls": ["playRoundsHelper"],
          "patterns": []
        },
        "readScore": {
          "calls": ["querySelector"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/statSelection.flagReset.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js", "../../utils/console.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/statSelection.failureFallback.test.js": {
      "imports": [
        "vitest",
        "../../../src/utils/scheduler.js",
        "../listenerUtils.js",
        "../../utils/console.js",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "flushMicrotasks": {
          "calls": ["resolve"],
          "patterns": []
        },
        "eventHandler": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/statHotkeys.enabled.test.js": {
      "imports": ["vitest", "./commonMocks.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/statDoubleClick.test.js": {
      "imports": ["vitest", "./utils.js", "./mockSetup.js"],
      "functions": {
        "playDoubleClickRound": {
          "calls": ["getElementById", "handleStatSelection", "runAllTimersAsync"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/statButtons.state.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/statButtons.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/statButtons.resolve.node.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/statButtons.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/stallRecoveryJudokaFixtures.js": {
      "imports": [],
      "functions": {}
    },
    "tests/helpers/classicBattle/stallRecovery.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "../../utils/testUtils.js",
        "./mockSetup.js",
        "./stallRecoveryJudokaFixtures.js",
        "./utils.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/snackbar-dismissal-events.test.js": {
      "imports": ["vitest", "../../helpers/integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/simulateOpponentStat.edge-cases.test.js": {
      "imports": ["vitest", "./commonMocks.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/setupTestEnv.js": {
      "imports": ["vitest", "./utils.js", "./mockSetup.js"],
      "functions": {
        "setupClassicBattleHooks": {
          "calls": [
            "beforeEach",
            "setupClassicBattleDom",
            "applyMockSetup",
            "afterEach",
            "clearAllTimers",
            "restoreAllMocks"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/selectionHandler.resolve.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/selectionDelayCalculator.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/selectionDelayCalculator.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/selectOpponentJudoka.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/cardSelection.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/scheduleNextRound.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./utils.js",
        "./domUtils.js",
        "./mockSetup.js",
        "../../../src/helpers/classicBattle/debugHooks.js",
        "./mocks/eventDispatcher.js"
      ],
      "functions": {
        "resetRoundManager": {
          "calls": ["_resetForTest"],
          "patterns": []
        },
        "mockBattleData": {
          "calls": ["mockImplementation", "includes", "String"],
          "patterns": []
        },
        "getReadyDispatchCalls": {
          "calls": ["filter"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/scheduleNextRound.fallback.timer.test.js": {
      "imports": [
        "vitest",
        "./domUtils.js",
        "../mockScheduler.js",
        "../integrationHarness.js",
        "/src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {
        "mockMakeTimer": {
          "calls": ["onTick", "onExpired", "setTimeout"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/scheduleNextRound.fallback.immediate.test.js": {
      "imports": [
        "vitest",
        "./domUtils.js",
        "../mockScheduler.js",
        "../integrationHarness.js",
        "/src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/scheduleNextRound.fallback.flag.test.js": {
      "imports": ["vitest", "./domUtils.js", "../mockScheduler.js", "../integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/scheduleNextRound.fallback.dispatch.test.js": {
      "imports": [
        "vitest",
        "./domUtils.js",
        "../mockScheduler.js",
        "../integrationHarness.js",
        "/src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/scheduleNextRound.fallback.bus.test.js": {
      "imports": ["vitest", "../integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundUI.handlers.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundStartError.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateManager.js",
        "../../../src/helpers/classicBattle/orchestratorHandlers.js"
      ],
      "functions": {
        "startRoundWrapper": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundSelectModal.test.js": {
      "imports": [
        "vitest",
        "../../../src/config/battleDefaults.js",
        "../../../src/helpers/storage.js",
        "../../../src/config/storageKeys.js",
        "../../../src/data/battleRounds.js",
        "../../../src/helpers/classicBattle/roundSelectModal.js"
      ],
      "functions": {
        "observeMockCall": {
          "calls": ["mockImplementation", "resolve", "projector"],
          "patterns": []
        },
        "defaultCreateModal": {
          "calls": ["createElement", "appendChild"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundSelectModal.resize.test.js": {
      "imports": ["vitest", "../../../src/utils/scheduler.js"],
      "functions": {
        "configureModalMock": {
          "calls": ["fn", "mockReturnValue"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundSelectModal.positioning.test.js": {
      "imports": ["vitest"],
      "functions": {
        "mockModalReturning": {
          "calls": ["doMock", "fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundResolverOnce.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundResolver.resolveRound.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {
        "setup": {
          "calls": ["mockResolvedValue", "spyOn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundResolved.statButton.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js", "../../utils/console.js"],
      "functions": {
        "enableButton": {
          "calls": ["remove"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundReset.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/orchestratorHandlers.js",
        "../../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundReadyState.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundManager.errorHandling.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/debugHooks.js",
        "../../../src/helpers/classicBattle/opponentPlaceholder.js"
      ],
      "functions": {
        "withErrorHandlingEnv": {
          "calls": ["resetModules", "callback"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundLifecycle.sequence.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {
        "onStarted": {
          "calls": ["push"],
          "patterns": []
        },
        "onCooldown": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/roundFlowController.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/roundDecisionGuard.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/guard.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/resolveSelectionIfPresent.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/race.statSelected.startup.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js", "../../utils/testUtils.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/quitModal.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/quitModal.js",
        "../../../src/helpers/classicBattle/roundManager.js",
        "../../../src/helpers/BattleEngine.js",
        "../../../src/helpers/battle/index.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/preloadService.test.js": {
      "imports": ["vitest", "../../../setup/classicBattlePreloadRegistry.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/playerChoiceReset.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/playRounds.js": {
      "imports": [],
      "functions": {
        "playRounds": {
          "calls": ["selectStat"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/pauseTimer.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "../../utils/testUtils.js",
        "./domUtils.js",
        "./mockSetup.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/orchestrator.init.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/orchestrator.events.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/opponentPromptWaiter.test.js": {
      "imports": ["vitest", "../../utils/manualTimingControls.js"],
      "functions": {
        "emitEvent": {
          "calls": ["from", "get", "forEach", "handler"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/opponentPlaceholder.test.js": {
      "imports": ["vitest", "jsdom", "../../../src/helpers/classicBattle/opponentPlaceholder.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/onTransition.test.js": {
      "imports": ["vitest", "../../../src/helpers/events/SimpleEmitter.js"],
      "functions": {
        "createEngineMock": {
          "calls": ["bind"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/onTransition.helpers.test.js": {
      "imports": ["vitest", "../../../src/helpers/events/SimpleEmitter.js"],
      "functions": {
        "createEngineMock": {
          "calls": ["bind"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/nextButton.manualClick.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "../../utils/realHtmlTestUtils.js",
        "./utils.js",
        "./mockSetup.js",
        "../../../src/helpers/classicBattle/battleDebug.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/nextButton.countdownFinished.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/timerService.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/nextButton.cooldown.fallback.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/battleDebug.js"],
      "functions": {
        "transitionRecorder": {
          "calls": ["push"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/mocks.js": {
      "imports": ["vitest"],
      "functions": {
        "mockScheduler": {
          "calls": ["mock", "fn"],
          "patterns": []
        },
        "mockFeatureFlags": {
          "calls": ["doMock", "mockResolvedValue", "fn"],
          "patterns": []
        },
        "mockDataUtils": {
          "calls": ["includes", "doMock", "fn"],
          "patterns": []
        },
        "defaultFetch": {
          "calls": ["includes"],
          "patterns": []
        },
        "mockStats": {
          "calls": ["doMock"],
          "patterns": []
        },
        "mockRoundManager": {
          "calls": ["doMock", "fn", "setTimeout"],
          "patterns": []
        },
        "mockSelectionHandler": {
          "calls": ["doMock", "fn"],
          "patterns": []
        },
        "mockBattleJudokaPage": {
          "calls": ["doMock", "fn"],
          "patterns": []
        },
        "mockShowSnackbar": {
          "calls": ["doMock", "fn"],
          "patterns": []
        },
        "mockTooltips": {
          "calls": ["mock", "mockResolvedValue", "fn"],
          "patterns": []
        },
        "mockTestModeUtils": {
          "calls": ["doMock", "fn"],
          "patterns": []
        },
        "mockRoundSelectModal": {
          "calls": ["doMock", "fn", "onStart"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/mockSetup.js": {
      "imports": [
        "../../../src/helpers/testLogGate.js",
        "vitest",
        "../../../src/data/settings.json"
      ],
      "functions": {
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        },
        "applyMockSetup": {
          "calls": [
            "mockReset",
            "mockImplementation",
            "setupLazyPortraitsMock",
            "markSignatureMoveReadyMock"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/matchEnd.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./utils.js",
        "../../../src/helpers/constants.js",
        "./mockSetup.js",
        "./playRounds.js"
      ],
      "functions": {
        "readScoreValues": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "playRound": {
          "calls": [
            "__setCardStatValuesForTest",
            "getCardStatValue",
            "getElementById",
            "handleStatSelection",
            "runAllTimersAsync"
          ],
          "patterns": []
        },
        "playerWinsRounds": {
          "calls": ["playRound", "playRounds"],
          "patterns": []
        },
        "select": {
          "calls": ["playRound"],
          "patterns": []
        },
        "opponentWinsRounds": {
          "calls": ["playRound", "playRounds"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/matchDeck.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/roundManager.js",
        "../../../src/helpers/classicBattle/matchDeckManager.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/keyboardNavigation.test.js": {
      "imports": ["vitest", "./commonMocks.js"],
      "functions": {
        "makeView": {
          "calls": ["fn"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/interruptStateReset.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateHandlers/interruptMatchEnter.js",
        "../../../src/helpers/classicBattle/stateHandlers/interruptRoundEnter.js"
      ],
      "functions": {
        "createMachine": {
          "calls": ["fn"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/interruptRoundEnter.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./domUtils.js",
        "./setupTestEnv.js",
        "./initClassicBattle.js",
        "../../../src/helpers/classicBattle/orchestrator.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/selectionHandler.js"
      ],
      "functions": {
        "setupInterruptHarness": {
          "calls": [
            "createTimerNodes",
            "initClassicBattleTest",
            "initClassicBattleOrchestrator",
            "getBattleStateMachine",
            "push",
            "onBattleEvent",
            "offBattleEvent"
          ],
          "patterns": []
        },
        "recordTransition": {
          "calls": ["push"],
          "patterns": []
        },
        "recordMessage": {
          "calls": ["push"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["offBattleEvent"],
          "patterns": []
        },
        "dispatchEvents": {
          "calls": ["isArray", "dispatchBattleEvent"],
          "patterns": []
        },
        "advanceToPlayerActionState": {
          "calls": ["dispatchEvents"],
          "patterns": []
        },
        "flushFallbackTimers": {
          "calls": ["runOnlyPendingTimersAsync", "advanceTimersByTime"],
          "patterns": []
        },
        "beginSelection": {
          "calls": ["handleStatSelection", "catch"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/interruptHandlers.test.js": {
      "imports": ["vitest", "./commonMocks.js"],
      "functions": {
        "createFakeTimeoutHandle": {
          "calls": ["fn"],
          "patterns": ["factory"]
        },
        "createStore": {
          "calls": ["createFakeTimeoutHandle"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/interruptFlow.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/stateManager.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/initStartCooldown.event.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/initInterRoundCooldown.event.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js"],
      "functions": {
        "createDisabledSpy": {
          "calls": ["defineProperty"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/initClassicBattle.js": {
      "imports": [],
      "functions": {
        "initClassicBattleTest": {
          "calls": ["initClassicBattleTest"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/idleCallback.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/idleCallback.js",
        "../../setup/fakeTimers.js",
        "../idleCallbackMock.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/handleStatSelection.machine.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/guardCancellation.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/stateHandlers/guardCancellation.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/eventSystemIntegration.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/battleEvents.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/eventMigrationValidation.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/eventAliases.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/eventDispatcher.dedupe.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../utils/console.js",
        "../../../src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/eventAliases.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/eventAliases.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/enhancedCleanup.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/enhancedCleanup.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/driftStarter.js": {
      "imports": ["vitest"],
      "functions": {
        "createDriftStarter": {
          "calls": ["fn", "onTick", "onDrift"],
          "patterns": ["factory"]
        }
      }
    },
    "tests/helpers/classicBattle/drawNextRound.test.js": {
      "imports": ["vitest", "./utils.js", "./mockSetup.js"],
      "functions": {
        "playRound": {
          "calls": ["getElementById", "handleStatSelection", "runAllTimersAsync"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/domUtils.js": {
      "imports": ["../../../src/helpers/testLogGate.js", "../../../src/helpers/setupScoreboard.js"],
      "functions": {
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        },
        "createSnackbarContainer": {
          "calls": ["createElement", "setAttribute", "appendChild"],
          "patterns": ["factory"]
        },
        "createRoundMessage": {
          "calls": ["createElement", "setAttribute", "appendChild"],
          "patterns": ["factory"]
        },
        "createTimerNodes": {
          "calls": ["getElementById", "remove", "createElement", "setAttribute", "append"],
          "patterns": ["factory"]
        },
        "clearRoundMessage": {
          "calls": ["clearScoreboardMessage", "getElementById"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/difficulty.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./mocks/roundResolverMocks.js",
        "../../utils/componentTestUtils.js"
      ],
      "functions": {
        "sampleChoices": {
          "calls": ["setTestMode", "simulateOpponentStat", "set", "get"],
          "patterns": []
        },
        "validateDistribution": {
          "calls": [
            "reduce",
            "values",
            "entries",
            "get",
            "toBeGreaterThanOrEqual",
            "expect",
            "toBeLessThanOrEqual"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/diagnoseDispatchIssue.test.js": {
      "imports": [
        "vitest",
        "../../utils/console.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/debugPanel.hud.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/debugPanel.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/debugLogger.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/debugLogger.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/debugIntegration.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/debugLogger.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/debug-interrupt-cooldown.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "./domUtils.js",
        "./setupTestEnv.js"
      ],
      "functions": {
        "applyEventDispatcherMock": {
          "calls": ["doMock", "importOriginal", "fn", "log", "dispatchBattleEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/createTestBattleDom.js": {
      "imports": [
        "./utils.js",
        "../../../src/helpers/classicBattle/stateTransitionListeners.js",
        "../../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "createTestBattleDom": {
          "calls": [
            "setupClassicBattleDom",
            "__resetBattleEventTarget",
            "getBattleEventTarget",
            "onBattleEvent",
            "dispatchEvent",
            "offBattleEvent"
          ],
          "patterns": ["factory"]
        },
        "dispatchBattleState": {
          "calls": ["dispatchEvent"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["offBattleEvent"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/createRoundTimer.rafFallback.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/timers/createRoundTimer.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/countdownReset.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/testModeUtils.js",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "../../utils/testUtils.js",
        "./domUtils.js"
      ],
      "functions": {
        "populateCards": {
          "calls": ["getElementById", "querySelector"],
          "patterns": []
        },
        "selectPower": {
          "calls": [
            "mockReturnValue",
            "spyOn",
            "getCardStatValue",
            "getElementById",
            "handleStatSelection",
            "advanceTimersByTimeAsync"
          ],
          "patterns": []
        },
        "flushPendingTimers": {
          "calls": ["runOnlyPendingTimersAsync"],
          "patterns": []
        },
        "recordTimerState": {
          "calls": [
            "Number",
            "replace",
            "isFinite",
            "push",
            "at",
            "getRemaining",
            "trim",
            "querySelector"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/cooldownEnter.zeroDuration.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/orchestratorHandlers.js",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/stateManager.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/cooldownEnter.autoAdvance.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../../src/helpers/classicBattle/orchestratorHandlers.js"
      ],
      "functions": {
        "triggerReady": {
          "calls": ["sendReady"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/cooldown.skipHandlerReady.test.js": {
      "imports": ["vitest", "../../setup/fakeTimers.js", "./domUtils.js", "../mockScheduler.js"],
      "functions": {
        "makeTimer": {
          "calls": ["onTick", "onExpired", "setTimeout"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/controller.startRound.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "../../utils/testUtils.js",
        "./mockSetup.js",
        "./commonMocks.js"
      ],
      "functions": {
        "mountScoreboardHeader": {
          "calls": ["createElement"],
          "patterns": []
        },
        "handler": {
          "calls": ["offBattleEvent", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/controller.init.test.js": {
      "imports": ["vitest"],
      "functions": {
        "registerFlagChangeListeners": {
          "calls": ["map", "filter", "push", "mockRestore"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/controlState.test.js": {
      "imports": [
        "vitest",
        "./commonMocks.js",
        "./domUtils.js",
        "../../../src/helpers/classicBattle/stateManager.js",
        "../../../src/helpers/classicBattle/orchestratorHandlers.js",
        "../../../src/helpers/classicBattle/view.js"
      ],
      "functions": {
        "mockQuitMatch": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/commonMocks.js": {
      "imports": ["../../../src/helpers/testLogGate.js", "vitest"],
      "functions": {
        "debugLog": {
          "calls": ["shouldShowTestLogs", "isConsoleMocked", "log"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/cardSelection.test.js": {
      "imports": [
        "vitest",
        "../../setup/fakeTimers.js",
        "./commonMocks.js",
        "../../utils/testUtils.js",
        "./mockSetup.js"
      ],
      "functions": {
        "handler": {
          "calls": ["removeEventListener", "drawCards", "resolve"],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/bootstrap.waitForOpponentCard.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/bootstrap-event-handlers.test.js": {
      "imports": ["vitest", "../../helpers/integrationHarness.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/battleEvents.valueDedupe.test.js": {
      "imports": ["vitest", "../../../src/helpers/classicBattle/battleEvents.js"],
      "functions": {}
    },
    "tests/helpers/classicBattle/battleEvents.instrumentation.test.js": {
      "imports": ["vitest"],
      "functions": {
        "restoreDispatchEvent": {
          "calls": ["defineProperty"],
          "patterns": []
        },
        "clearInstrumentationState": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/battleEvents.aliases.test.js": {
      "imports": [
        "vitest",
        "../../../src/helpers/classicBattle/battleEvents.js",
        "../../../src/helpers/classicBattle/eventAliases.js",
        "../../utils/console.js"
      ],
      "functions": {}
    },
    "tests/helpers/classicBattle/applyBattleFeatureFlags.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/battleEngine/pauseResumeTimer.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/battleEngine/outcome.test.js": {
      "imports": ["vitest", "../../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "tests/helpers/battleEngine/multipleInstances.test.js": {
      "imports": ["vitest", "../../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "tests/helpers/battleEngine/interrupts.test.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/battleEngine/events.test.js": {
      "imports": ["vitest", "../../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "tests/helpers/battleEngine/config.test.js": {
      "imports": ["vitest", "node:fs", "node:path", "../../../src/helpers/BattleEngine.js"],
      "functions": {}
    },
    "src/helpers/classicBattle/utils/errorHandling.js": {
      "imports": ["../../logger.js", "../debugHooks.js"],
      "functions": {
        "isPromiseLike": {
          "calls": [],
          "patterns": []
        },
        "normalizeContext": {
          "calls": ["isArray"],
          "patterns": []
        },
        "formatLabel": {
          "calls": ["push", "join"],
          "patterns": []
        },
        "pushDebugEntry": {
          "calls": [
            "readDebugState",
            "isArray",
            "slice",
            "concat",
            "exposeDebugState",
            "logToConsole",
            "error"
          ],
          "patterns": []
        },
        "createEntry": {
          "calls": ["now"],
          "patterns": ["factory"]
        },
        "routeToLogger": {
          "calls": ["formatLabel", "logToConsole", "error"],
          "patterns": []
        },
        "logError": {
          "calls": ["normalizeContext", "createEntry", "routeToLogger", "pushDebugEntry"],
          "patterns": []
        },
        "handleFallbackFailure": {
          "calls": ["logError", "reject"],
          "patterns": []
        },
        "processError": {
          "calls": [
            "logError",
            "fallback",
            "isPromiseLike",
            "catch",
            "handleFallbackFailure",
            "reject"
          ],
          "patterns": []
        },
        "safeInvoke": {
          "calls": ["normalizeContext", "fn", "isPromiseLike", "catch", "processError"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/nextRound/session.js": {
      "imports": [],
      "functions": {
        "createNextRoundSession": {
          "calls": ["Boolean"],
          "patterns": ["factory"]
        }
      }
    },
    "src/helpers/classicBattle/nextRound/expirationHandlers.js": {
      "imports": ["../eventDispatcher.js", "../debugHooks.js"],
      "functions": {
        "hasMockIndicators": {
          "calls": [],
          "patterns": []
        },
        "getStored": {
          "calls": [],
          "patterns": []
        },
        "setStored": {
          "calls": [],
          "patterns": []
        },
        "getGlobalDispatch": {
          "calls": ["debug", "logTestDebug", "hasMockIndicators", "get", "set", "consider"],
          "patterns": []
        },
        "logTestDebug": {
          "calls": ["debug"],
          "patterns": []
        },
        "consider": {
          "calls": ["logTestDebug", "hasMockIndicators", "get", "set"],
          "patterns": []
        },
        "createExpirationTelemetryEmitter": {
          "calls": ["debug", "exposeDebugState", "logDebug", "getDebugBag", "debugExpose"],
          "patterns": ["factory"]
        },
        "logDebug": {
          "calls": ["debug"],
          "patterns": []
        },
        "emit": {
          "calls": ["exposeDebugState", "logDebug", "getDebugBag", "debugExpose"],
          "patterns": []
        },
        "safeGetDebugBag": {
          "calls": ["getDebugBag"],
          "patterns": []
        },
        "createMachineReader": {
          "calls": [
            "getClassicBattleMachine",
            "emitTelemetry",
            "readDebug",
            "globalReader",
            "getter"
          ],
          "patterns": ["factory"]
        },
        "createMachineStateInspector": {
          "calls": [
            "getMachineState",
            "machineReader",
            "emitTelemetry",
            "getSnapshot",
            "safeGetState",
            "safeGetSnapshot",
            "isCooldownState",
            "shouldResolve",
            "emitPostWaitStates",
            "resolve",
            "off",
            "cleanup",
            "on"
          ],
          "patterns": ["factory"]
        },
        "safeGetState": {
          "calls": ["getMachineState", "machineReader", "emitTelemetry"],
          "patterns": []
        },
        "safeGetSnapshot": {
          "calls": ["getSnapshot"],
          "patterns": []
        },
        "shouldResolve": {
          "calls": ["safeGetState", "isCooldownState", "safeGetSnapshot"],
          "patterns": []
        },
        "emitPostWaitStates": {
          "calls": ["safeGetState", "safeGetSnapshot", "emitTelemetry"],
          "patterns": []
        },
        "waitForCooldown": {
          "calls": ["shouldResolve", "emitPostWaitStates", "resolve", "off", "cleanup", "on"],
          "patterns": []
        },
        "cleanup": {
          "calls": ["off", "resolve"],
          "patterns": []
        },
        "handler": {
          "calls": ["shouldResolve", "cleanup"],
          "patterns": []
        },
        "dispatchReadyViaBus": {
          "calls": ["push", "getGlobalDispatch", "debug", "dispatcher", "resolve"],
          "patterns": []
        },
        "dispatchReadyWithOptions": {
          "calls": [
            "toString",
            "emitTelemetry",
            "getDebugBag",
            "Boolean",
            "dispatchBattleEvent",
            "resolve",
            "String"
          ],
          "patterns": []
        },
        "dispatchReadyDirectly": {
          "calls": [
            "machineReader",
            "emitTelemetry",
            "dispatch",
            "resolve",
            "debug",
            "getState",
            "logMachineStateError",
            "customDispatcher",
            "shouldInvokeMachineAfterShared",
            "recordSuccess",
            "readMachineState",
            "dispatchViaMachine",
            "String",
            "getGlobalDispatch",
            "hasMockIndicators",
            "current",
            "push",
            "join"
          ],
          "patterns": []
        },
        "recordSuccess": {
          "calls": ["emitTelemetry"],
          "patterns": []
        },
        "dispatchViaMachine": {
          "calls": ["dispatch", "resolve"],
          "patterns": []
        },
        "logMachineStateError": {
          "calls": ["debug"],
          "patterns": []
        },
        "readMachineState": {
          "calls": ["getState", "logMachineStateError"],
          "patterns": []
        },
        "shouldInvokeMachineAfterShared": {
          "calls": [],
          "patterns": []
        },
        "runReadyDispatchStrategies": {
          "calls": [
            "emitTelemetry",
            "emitResult",
            "finalizeResult",
            "isArray",
            "resolve",
            "strategy",
            "interpretResult",
            "dispatcher",
            "String",
            "has",
            "includes",
            "readFallbackSignature",
            "push",
            "add",
            "addFallbackCandidate",
            "getGlobalDispatch",
            "invokeFallbackDispatcher",
            "registerFallbackOutcome"
          ],
          "patterns": []
        },
        "emitResult": {
          "calls": ["emitTelemetry"],
          "patterns": []
        },
        "finalizeResult": {
          "calls": [],
          "patterns": []
        },
        "interpretResult": {
          "calls": ["isArray"],
          "patterns": []
        },
        "invokeFallbackDispatcher": {
          "calls": ["resolve", "dispatcher"],
          "patterns": []
        },
        "registerFallbackOutcome": {
          "calls": [],
          "patterns": []
        },
        "readFallbackSignature": {
          "calls": ["String"],
          "patterns": []
        },
        "addFallbackCandidate": {
          "calls": ["has", "includes", "readFallbackSignature", "push", "add"],
          "patterns": []
        },
        "updateExpirationUi": {
          "calls": ["isOrchestrated", "getElementById", "markReady", "updateDebugPanel"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/waitingForMatchStartEnter.js": {
      "imports": [
        "../battleEvents.js",
        "../isStateTransition.js",
        "../../setupScoreboard.js",
        "../debugPanel.js"
      ],
      "functions": {
        "waitingForMatchStartEnter": {
          "calls": [
            "isStateTransition",
            "doResetGame",
            "emitBattleEvent",
            "clearMessage",
            "updateDebugPanel"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/sentryReporter.js": {
      "imports": [],
      "functions": {
        "getGlobalScope": {
          "calls": [],
          "patterns": []
        },
        "getConfiguredSentry": {
          "calls": ["getGlobalScope"],
          "patterns": []
        },
        "normalizeSentryModule": {
          "calls": [],
          "patterns": []
        },
        "initSentryIfNeeded": {
          "calls": [
            "getCurrentHub",
            "Boolean",
            "getClient",
            "isInitialized",
            "getGlobalScope",
            "isNaN",
            "Number",
            "init"
          ],
          "patterns": []
        },
        "loadSentry": {
          "calls": [
            "getConfiguredSentry",
            "resolve",
            "catch",
            "then",
            "initSentryIfNeeded",
            "normalizeSentryModule"
          ],
          "patterns": []
        },
        "captureWithSentry": {
          "calls": ["captureException"],
          "patterns": []
        },
        "reportSentryError": {
          "calls": ["getConfiguredSentry", "captureWithSentry", "catch", "then", "loadSentry"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundWaitEnter.js": {
      "imports": [
        "../roundManager.js",
        "../cooldowns.js",
        "../debugHooks.js",
        "../debugLog.js",
        "../roundState.js",
        "../statButtons.js",
        "../guard.js",
        "../stateGuards.js"
      ],
      "functions": {
        "markDebugRoundWaitEntered": {
          "calls": [],
          "patterns": []
        },
        "setupDebugState": {
          "calls": ["debugLog", "markDebugRoundWaitEntered", "exposeDebugState"],
          "patterns": []
        },
        "computeNextRoundNumber": {
          "calls": ["isFinite", "debugLog"],
          "patterns": []
        },
        "disableStatButtonsDuringCooldown": {
          "calls": [
            "guard",
            "getElementById",
            "debugLog",
            "from",
            "querySelectorAll",
            "disableStatButtons"
          ],
          "patterns": []
        },
        "updateRoundStateAtomically": {
          "calls": ["computeNextRoundNumber", "debugLog", "setRoundState", "setRoundNumber"],
          "patterns": []
        },
        "roundWaitEnter": {
          "calls": [
            "debugLog",
            "setupDebugState",
            "disableStatButtonsDuringCooldown",
            "initStartCooldown",
            "startCooldown",
            "withStateGuard",
            "guard",
            "updateRoundStateAtomically",
            "getCurrentRound"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundSelectExit.js": {
      "imports": ["../battleEvents.js"],
      "functions": {
        "roundSelectExit": {
          "calls": ["debug", "emitBattleEvent"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundSelectEnter.js": {
      "imports": [
        "../battleEvents.js",
        "../timerService.js",
        "../selectionHandler.js",
        "../cardStatUtils.js",
        "../cardSelection.js",
        "../debugLogger.js",
        "../selectionState.js",
        "../stateGuards.js"
      ],
      "functions": {
        "queryCardByRole": {
          "calls": ["querySelector"],
          "patterns": []
        },
        "roundSelectEnter": {
          "calls": [
            "debug",
            "shouldClearSelectionForNextRound",
            "resetSelectionFinalized",
            "logSelectionMutation",
            "warn",
            "logStateHandlerEnter",
            "getElementById",
            "emitBattleEvent",
            "info",
            "startTimer",
            "queryCardByRole",
            "getCardStatValue",
            "getOpponentJudoka",
            "Number",
            "isFinite",
            "handleStatSelection",
            "withStateGuard",
            "logStateHandlerExit"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundResolveHelpers.js": {
      "imports": [
        "../../debug.js",
        "../cardSelection.js",
        "../../battle/index.js",
        "../battleEvents.js",
        "../roundResolver.js",
        "../guard.js",
        "../debugHooks.js",
        "../autoContinue.js",
        "../isStateTransition.js",
        "../debugLogger.js"
      ],
      "functions": {
        "getElementIfDocument": {
          "calls": ["getElementById"],
          "patterns": []
        },
        "getOpponentStatValue": {
          "calls": ["getOpponentJudoka", "Number", "isFinite", "getStatValue", "debugLog"],
          "patterns": []
        },
        "computeAndDispatchOutcome": {
          "calls": [
            "debugLog",
            "isStateTransition",
            "readDebugState",
            "dispatchFallbackOutcome",
            "determineOutcomeEvent",
            "exposeDebugState",
            "now",
            "dispatchOutcome",
            "emitBattleEvent"
          ],
          "patterns": []
        },
        "determineOutcomeEvent": {
          "calls": [
            "getElementIfDocument",
            "getStatValue",
            "debugLog",
            "getOpponentStatValue",
            "isFinite"
          ],
          "patterns": []
        },
        "dispatchOutcomeEvent": {
          "calls": ["dispatch", "getAutoContinue", "debugLog"],
          "patterns": []
        },
        "dispatchOutcome": {
          "calls": [
            "dispatchOutcomeEvent",
            "resolve",
            "reject",
            "queueMicrotask",
            "setTimeout",
            "debugLog",
            "dispatchFallbackOutcome"
          ],
          "patterns": []
        },
        "run": {
          "calls": ["dispatchOutcomeEvent", "resolve", "reject"],
          "patterns": []
        },
        "recordEntry": {
          "calls": ["debugLog", "exposeDebugState", "now", "emitBattleEvent"],
          "patterns": []
        },
        "resolveSelectionIfPresent": {
          "calls": [
            "debug",
            "getElementIfDocument",
            "Number",
            "isFinite",
            "getStatValue",
            "getOpponentStatValue",
            "debugLog",
            "resolveRound"
          ],
          "patterns": []
        },
        "waitForPlayerChoice": {
          "calls": [
            "resolve",
            "offBattleEvent",
            "clearInterval",
            "clearTimeout",
            "cleanup",
            "onBattleEvent",
            "setInterval",
            "setTimeout",
            "reject",
            "race"
          ],
          "patterns": []
        },
        "cleanup": {
          "calls": ["offBattleEvent", "clearInterval", "clearTimeout"],
          "patterns": []
        },
        "awaitPlayerChoice": {
          "calls": ["waitForPlayerChoice"],
          "patterns": []
        },
        "guardSelectionResolution": {
          "calls": [
            "scheduleGuard",
            "computeAndDispatchOutcome",
            "exposeDebugState",
            "setupCancel",
            "guard",
            "cancelFn"
          ],
          "patterns": []
        },
        "setupCancel": {
          "calls": ["scheduleGuard", "computeAndDispatchOutcome", "exposeDebugState"],
          "patterns": []
        },
        "schedulePostResolveWatchdog": {
          "calls": [
            "setTimeout",
            "guardAsync",
            "readDebugState",
            "getState",
            "dispatchFallbackOutcome",
            "clearTimeout"
          ],
          "patterns": []
        },
        "dispatchFallbackOutcome": {
          "calls": ["dispatch", "debugLog"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundResolveExit.js": {
      "imports": ["./guardCancellation.js"],
      "functions": {
        "roundResolveExit": {
          "calls": ["cancelRoundResolveGuard"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundResolveEnter.js": {
      "imports": [
        "./roundResolveHelpers.js",
        "../battleEvents.js",
        "../guard.js",
        "../handleRoundError.js",
        "../debugLog.js",
        "./sentryReporter.js",
        "../debugLogger.js",
        "../debugHooks.js"
      ],
      "functions": {
        "roundResolveEnter": {
          "calls": [
            "debugLog",
            "warn",
            "debug",
            "recordEntry",
            "emitBattleEvent",
            "now",
            "guardSelectionResolution",
            "random",
            "cancel",
            "cancelWatchdog",
            "resolveSelectionIfPresent",
            "cancelGuardOnce",
            "awaitPlayerChoice",
            "guard",
            "guardAsync",
            "dispatch",
            "exposeDebugState",
            "schedulePostResolveWatchdog",
            "cancelWatchdogOnce",
            "reportSentryError",
            "handleRoundError"
          ],
          "patterns": []
        },
        "cancelGuardOnce": {
          "calls": ["cancel"],
          "patterns": []
        },
        "cancelWatchdogOnce": {
          "calls": ["cancelWatchdog"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundPromptEnter.js": {
      "imports": [
        "../setupFallbackTimer.js",
        "../../testModeUtils.js",
        "../guard.js",
        "../handleRoundError.js",
        "../debugLog.js"
      ],
      "functions": {
        "installRoundPromptFallback": {
          "calls": [
            "isTestModeEnabled",
            "setupFallbackTimer",
            "guardAsync",
            "getState",
            "dispatch"
          ],
          "patterns": []
        },
        "invokeRoundPrompt": {
          "calls": ["startRoundWrapper", "doStartRound", "resolve"],
          "patterns": []
        },
        "roundPromptEnter": {
          "calls": [
            "debugLog",
            "installRoundPromptFallback",
            "invokeRoundPrompt",
            "clearTimeout",
            "getState",
            "dispatch",
            "handleRoundError"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundModificationEnter.js": {
      "imports": ["../battleEvents.js"],
      "functions": {
        "roundModificationEnter": {
          "calls": ["emitBattleEvent", "dispatch"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/roundDisplayEnter.js": {
      "imports": [
        "../battleEvents.js",
        "../autoContinue.js",
        "../uiHelpers.js",
        "../stateGuards.js"
      ],
      "functions": {
        "roundDisplayEnter": {
          "calls": [
            "getAutoContinue",
            "enableNextRoundButton",
            "offBattleEvent",
            "resolve",
            "onBattleEvent",
            "withStateGuard"
          ],
          "patterns": []
        },
        "handler": {
          "calls": ["offBattleEvent", "resolve"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/matchStartEnter.js": {
      "imports": ["../battleEvents.js", "../debugLog.js", "./sentryReporter.js"],
      "functions": {
        "matchStartEnter": {
          "calls": ["debugLog", "emitBattleEvent", "now", "dispatch", "reportSentryError"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/matchOverEnter.js": {
      "imports": ["../battleEvents.js", "./sentryReporter.js"],
      "functions": {
        "matchOverEnter": {
          "calls": ["emitBattleEvent", "now", "reportSentryError"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/matchEvaluateEnter.js": {
      "imports": [],
      "functions": {
        "matchEvaluateEnter": {
          "calls": ["dispatch", "error"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/matchDecisionEnter.js": {
      "imports": ["../battleEvents.js", "../endModal.js"],
      "functions": {
        "coerceScore": {
          "calls": ["Number", "isFinite"],
          "patterns": []
        },
        "getWinner": {
          "calls": [],
          "patterns": []
        },
        "readScores": {
          "calls": ["getScores", "coerceScore"],
          "patterns": []
        },
        "isMatchComplete": {
          "calls": ["Boolean", "isMatchEnded"],
          "patterns": []
        },
        "resolveOutcome": {
          "calls": [],
          "patterns": []
        },
        "matchDecisionEnter": {
          "calls": [
            "readScores",
            "isMatchComplete",
            "emitBattleEvent",
            "error",
            "resolveOutcome",
            "getWinner",
            "showEndModal"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/interruptStateCleanup.js": {
      "imports": ["../selectionHandler.js", "../debugLog.js", "../selectionState.js"],
      "functions": {
        "cleanupInterruptState": {
          "calls": ["cleanupTimers", "debugLog", "logSelectionMutation", "resetSelectionFinalized"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/interruptRoundEnter.js": {
      "imports": [
        "../battleEvents.js",
        "../debugHooks.js",
        "./interruptStateCleanup.js",
        "./guardCancellation.js",
        "../debugLog.js",
        "../roundModificationOverlay.js"
      ],
      "functions": {
        "interruptRoundEnter": {
          "calls": [
            "debugLog",
            "cleanupInterruptState",
            "cancelRoundResolveGuard",
            "emitBattleEvent",
            "exposeDebugState",
            "some",
            "getAvailableTransitions",
            "isRoundModificationOverlayEnabled",
            "dispatch"
          ],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/interruptMatchEnter.js": {
      "imports": ["../battleEvents.js", "./interruptStateCleanup.js", "../debugLog.js"],
      "functions": {
        "interruptMatchEnter": {
          "calls": ["debugLog", "cleanupInterruptState", "emitBattleEvent", "dispatch"],
          "patterns": []
        }
      }
    },
    "src/helpers/classicBattle/stateHandlers/guardCancellation.js": {
      "imports": ["../debugHooks.js", "../debugLog.js"],
      "functions": {
        "cancelRoundResolveGuard": {
          "calls": [
            "readDebugState",
            "guardFn",
            "watchdogCancelFn",
            "exposeDebugState",
            "debugLog"
          ],
          "patterns": []
        }
      }
    },
    "tests/helpers/classicBattle/mocks/roundResolverMocks.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/mocks/eventDispatcher.js": {
      "imports": ["vitest"],
      "functions": {}
    },
    "tests/helpers/classicBattle/nextRound/expirationHandlers.test.js": {
      "imports": [
        "vitest",
        "../../../../src/helpers/classicBattle/nextRound/expirationHandlers.js",
        "../../../../src/helpers/classicBattle/eventDispatcher.js"
      ],
      "functions": {
        "getMockedDispatch": {
          "calls": [],
          "patterns": []
        },
        "machineReader": {
          "calls": [],
          "patterns": []
        }
      }
    },
    "tests/battles-regressions/shared/scoreboard/scoreboard.readiness.test.js": {
      "imports": ["vitest", "./domUtils.js"],
      "functions": {
        "renderScoreboard": {
          "calls": [
            "mount",
            "createElement",
            "append",
            "appendChild",
            "fn",
            "setupScoreboard",
            "createMockScheduler",
            "querySelector"
          ],
          "patterns": []
        }
      }
    },
    "tests/battles-regressions/shared/scoreboard/scoreboard.integration.test.js": {
      "imports": ["vitest", "../setup/fakeTimers.js"],
      "functions": {
        "getTimerText": {
          "calls": ["trim", "replace"],
          "patterns": []
        }
      }
    },
    "tests/battles-regressions/shared/scoreboard/scoreboard.adapter.test.js": {
      "imports": [
        "vitest",
        "../setup/fakeTimers.js",
        "./domUtils.js",
        "../../src/helpers/classicBattle/battleEvents.js"
      ],
      "functions": {
        "roundCounter": {
          "calls": ["getElementById"],
          "patterns": []
        }
      }
    },
    "tests/battles-regressions/shared/configuration/loadSettings.test.js": {
      "imports": ["vitest", "../../../utils/console.js"],
      "functions": {}
    },
    "tests/battles-regressions/shared/modal/Modal.dialog.test.js": {
      "imports": ["vitest", "../../src/components/Modal.js"],
      "functions": {}
    }
  }
}
