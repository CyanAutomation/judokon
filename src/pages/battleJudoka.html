<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="judo, card game, web game, judoka" />
    <meta name="author" content="Marc Scheimann" />
    <meta
      name="description"
      content="JU-DO-KON! A web-based judo-themed card battle game featuring elite judoka."
    />
    <meta property="og:title" content="JU-DO-KON!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cyanautomation.github.io/judokon/" />
    <meta
      property="og:description"
      content="JU-DO-KON! A web-based judo-themed card battle game featuring elite judoka."
    />
    <meta name="theme-color" content="#ffffff" />
    <title>Ju-Do-Kon!</title>
    <link rel="stylesheet" href="../styles/fonts.css" />
    <link rel="stylesheet" href="../styles/base.css" />
    <link rel="stylesheet" href="../styles/layout.css" />
    <link rel="stylesheet" href="../styles/components.css" />
    <link rel="stylesheet" href="../styles/utilities.css" />
    <link rel="icon" type="image/png" href="../assets/images/favicon.ico" />
  </head>

  <body>
    <header class="header">
      <div class="character-slot left"></div>
      <div class="logo-container">
        <a href="/judokon/index.html" data-testid="home-link">
          <img src="../assets/images/judokonLogoSmall.png" alt="JU-DO-KON! Logo" class="logo" />
        </a>
      </div>
      <div class="character-slot right"></div>
    </header>

    <main class="container" role="main">
      <section id="battle-area">
        <div id="player-card" class="card-slot"></div>
        <div id="computer-card" class="card-slot"></div>

        <div id="controls">
          <p id="timer">Time: <span id="round-timer"></span></p>
          <p id="score-display">You: 0 Computer: 0</p>

          <div id="stat-buttons">
            <button data-stat="power" type="button">Power</button>
            <button data-stat="speed" type="button">Speed</button>
            <button data-stat="technique" type="button">Technique</button>
            <button data-stat="kumikata" type="button">Kumi-kata</button>
            <button data-stat="newaza" type="button">Ne-waza</button>
          </div>

          <p id="round-result" aria-live="polite"></p>
          <button id="quit-btn" type="button">Quit Match</button>
        </div>
      </section>
    </main>

    <footer>
      <nav class="bottom-navbar" data-testid="bottom-nav"></nav>
    </footer>
    <script type="module" src="../helpers/setupBottomNavbar.js"></script>
    <script type="module" src="../helpers/setupDisplaySettings.js"></script>

    <noscript>
      <p class="noscript-warning">
        JU-DO-KON! requires JavaScript to run. Please enable JavaScript to play.
      </p>
    </noscript>

    <script nomodule>
      alert(
        "Your browser does not support modern JavaScript. Please update your browser to play JU-DO-KON!"
      );
    </script>
    <script type="module" src="../helpers/setupSvgFallback.js"></script>
    <script type="module">
      import { startRound, handleStatSelection, quitMatch } from "../helpers/classicBattle.js";

      document.addEventListener("DOMContentLoaded", () => {
        document
          .querySelectorAll("#stat-buttons button")
          .forEach((btn) =>
            btn.addEventListener("click", () => handleStatSelection(btn.dataset.stat))
          );
        document.getElementById("quit-btn").addEventListener("click", quitMatch);
        startRound();
      });
    </script>
  </body>
</html>
