<!doctype html>
<html lang="en">
  <head>
    <script
      src="https://js-de.sentry-cdn.com/d5c65640106080845226e89b9a1f589c.min.js"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="judo, card game, web game, settings" />
    <meta name="author" content="Marc Scheimann" />
    <meta
      name="description"
      content="JU-DO-KON! A web-based judo-themed card battle game featuring elite judoka."
    />
    <meta property="og:title" content="JU-DO-KON!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cyanautomation.github.io/judokon/" />
    <meta
      property="og:description"
      content="JU-DO-KON! A web-based judo-themed card battle game featuring elite judoka."
    />
    <meta name="theme-color" content="#ffffff" />
    <title>Ju-Do-Kon! Settings</title>
    <link rel="stylesheet" href="../styles/fonts.css" />
    <link rel="stylesheet" href="../styles/base.css" />
    <link rel="stylesheet" href="../styles/layout.css" />
    <link rel="stylesheet" href="../styles/components.css" />
    <link rel="stylesheet" href="../styles/utilities.css" />
    <link rel="stylesheet" href="../styles/modern.css" />
    <link rel="icon" type="image/png" href="../assets/images/favicon.ico" />
  </head>

  <body class="theme-modern">
    <div class="home-screen">
      <header class="header modern-header" role="banner">
        <div class="modern-header__inner">
          <div class="modern-header__branding">
            <a href="../../index.html" data-testid="home-link" class="modern-header__logo-link">
              <img src="../assets/images/judokonLogoSmall.png" alt="JU-DO-KON! Logo" class="logo" />
            </a>
            <span class="modern-header__product">JU-DO-KON!</span>
          </div>
          <nav class="modern-header__breadcrumb" aria-label="Breadcrumb">
            <ol>
              <li><a href="../../index.html">Home</a></li>
              <li aria-current="page">Settings</li>
            </ol>
          </nav>
          <div class="modern-header__actions">
            <div
              class="modern-header__theme-toggle"
              role="group"
              aria-label="Quick Theme Toggle"
              aria-describedby="header-theme-toggle-help"
            >
              <span class="modern-header__theme-label" id="header-theme-toggle-label"
                >Quick Theme Toggle</span
              >
              <div
                class="modern-header__theme-controls"
                aria-labelledby="header-theme-toggle-label"
              >
                <label class="modern-header__theme-pill" for="header-display-mode-light">
                  <input
                    type="radio"
                    class="modern-header__theme-input visually-hidden"
                    name="header-display-mode"
                    value="light"
                    id="header-display-mode-light"
                  />
                  Light
                </label>
                <label class="modern-header__theme-pill" for="header-display-mode-dark">
                  <input
                    type="radio"
                    class="modern-header__theme-input visually-hidden"
                    name="header-display-mode"
                    value="dark"
                    id="header-display-mode-dark"
                  />
                  Dark
                </label>
              </div>
              <a class="modern-header__anchor" href="#display-settings-container"
                >Display preferences</a
              >
              <p id="header-theme-toggle-help" class="settings-description">
                Fast switch for Light/Dark mode. The Display Preferences section below stays in
                sync.
              </p>
            </div>
          </div>
        </div>
      </header>

      <main class="container settings-main" role="main">
        <section class="modern-hero" aria-labelledby="settings-page-title">
          <div class="modern-hero__layout">
            <div class="modern-hero__content">
              <p class="modern-hero__eyebrow">Personalize your dojo</p>
              <h1 id="settings-page-title" class="settings-header">Settings</h1>
              <p class="modern-hero__description">
                Tailor JU-DO-KON! to your play style with theme, accessibility, and feature
                controls.
              </p>
              <div class="modern-hero__control-cluster" aria-label="Quick display controls">
                <div class="modern-hero__actions">
                  <a class="primary-button modern-hero__cta" href="#display-settings-container"
                    >Open display preferences</a
                  >
                </div>
                <fieldset
                  id="display-settings-container"
                  class="modern-hero__display-mode game-mode-toggle-container settings-form"
                  aria-describedby="display-settings-help modern-hero-preview-description"
                >
                  <legend class="modern-hero__display-mode-legend">Display Preferences</legend>
                  <div
                    class="settings-item display-mode-group"
                    role="radiogroup"
                    aria-label="Display Preferences"
                  >
                    <div class="display-mode-flex">
                      <label class="display-mode-option" data-mode="light">
                        <input
                          type="radio"
                          id="display-mode-light"
                          name="display-mode"
                          value="light"
                          tabindex="0"
                          form="settings-form"
                        />
                        <span class="display-mode-option__pill">
                          <span class="display-mode-option__icon" aria-hidden="true">
                            <svg
                              class="display-mode-option__icon-svg"
                              viewBox="0 0 24 24"
                              focusable="false"
                              aria-hidden="true"
                            >
                              <circle cx="12" cy="12" r="4.5" fill="currentColor"></circle>
                              <g
                                fill="none"
                                stroke="currentColor"
                                stroke-width="1.6"
                                stroke-linecap="round"
                              >
                                <line x1="12" y1="2.2" x2="12" y2="5"></line>
                                <line x1="12" y1="19" x2="12" y2="21.8"></line>
                                <line x1="4.22" y1="4.22" x2="6.2" y2="6.2"></line>
                                <line x1="17.8" y1="17.8" x2="19.78" y2="19.78"></line>
                                <line x1="2.2" y1="12" x2="5" y2="12"></line>
                                <line x1="19" y1="12" x2="21.8" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="6.2" y2="17.8"></line>
                                <line x1="17.8" y1="6.2" x2="19.78" y2="4.22"></line>
                              </g>
                            </svg>
                          </span>
                          <span class="display-mode-option__label">Light</span>
                        </span>
                      </label>
                      <label class="display-mode-option" data-mode="dark">
                        <input
                          type="radio"
                          id="display-mode-dark"
                          name="display-mode"
                          value="dark"
                          tabindex="-1"
                          form="settings-form"
                        />
                        <span class="display-mode-option__pill">
                          <span class="display-mode-option__icon" aria-hidden="true">
                            <svg
                              class="display-mode-option__icon-svg"
                              viewBox="0 0 24 24"
                              focusable="false"
                              aria-hidden="true"
                            >
                              <path
                                d="M15.5 3.5a8 8 0 1 0 5 13.86A8.5 8.5 0 0 1 15.5 3.5Z"
                                fill="currentColor"
                              ></path>
                            </svg>
                          </span>
                          <span class="display-mode-option__label">Dark</span>
                        </span>
                      </label>
                    </div>
                  </div>
                  <p id="display-settings-help" class="settings-description">
                    Primary theme controls with full context. Changes made here immediately update
                    the header quick toggle.
                  </p>
                </fieldset>
              </div>
            </div>
            <p id="modern-hero-preview-description" class="visually-hidden">
              Visual preview of the available display mode themes: light and dark.
            </p>
            <div
              class="modern-hero__visual"
              aria-hidden="true"
              title="Visual preview of the available display mode themes"
            >
              <div class="modern-hero-preview">
                <div class="modern-hero-preview__card">
                  <div class="modern-hero-preview__header">
                    <span class="modern-hero-preview__dot modern-hero-preview__dot--primary"></span>
                    <span class="modern-hero-preview__title">Display mode preview</span>
                    <span class="modern-hero-preview__dot modern-hero-preview__dot--accent"></span>
                  </div>
                  <div class="modern-hero-preview__chips">
                    <!-- Theme chip labels must stay in sync with the display mode radio options below. -->
                    <span class="modern-hero-preview-chip">Light</span>
                    <span class="modern-hero-preview-chip modern-hero-preview-chip--dark"
                      >Dark</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <output
          id="settings-save-status"
          class="settings-save-status"
          role="status"
          aria-live="polite"
          aria-atomic="true"
        ></output>
        <form id="settings-form" class="settings-form">
          <div class="settings-primary-columns">
            <div class="modern-card">
              <details class="settings-section" data-section-id="general" open>
                <summary>General Settings</summary>
                <fieldset
                  id="general-settings-container"
                  class="game-mode-toggle-container settings-form"
                >
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="sound-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="sound-toggle"
                          name="sound"
                          aria-label="Sound"
                          aria-describedby="sound-desc"
                          data-tooltip-id="settings.sound"
                          checked
                        />
                        <div class="slider round"></div>
                        <span>Sound</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="sound-desc" class="settings-description">Enable or mute game audio.</p>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="motion-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="motion-toggle"
                          name="motion"
                          aria-label="Motion Effects"
                          aria-describedby="motion-desc"
                          data-tooltip-id="settings.motionEffects"
                          checked
                        />
                        <div class="slider round"></div>
                        <span>Motion Effects</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="motion-desc" class="settings-description">
                        Disable animations for a calmer interface.
                      </p>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="typewriter-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="typewriter-toggle"
                          name="typewriter"
                          aria-label="Typewriter Effect"
                          aria-describedby="typewriter-desc"
                          data-tooltip-id="settings.typewriterEffect"
                        />
                        <div class="slider round"></div>
                        <span>Typewriter Effect</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="typewriter-desc" class="settings-description">
                        Toggle the quote typing animation.
                      </p>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="tooltips-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="tooltips-toggle"
                          name="tooltips"
                          aria-label="Tooltips"
                          aria-describedby="tooltips-desc"
                          data-tooltip-id="settings.tooltips"
                          checked
                        />
                        <div class="slider round"></div>
                        <span>Tooltips</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="tooltips-desc" class="settings-description">
                        Show or hide helpful tooltips.
                      </p>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="card-of-the-day-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="card-of-the-day-toggle"
                          name="cardOfTheDay"
                          aria-label="Card of the Day"
                          aria-describedby="card-of-the-day-desc"
                          data-tooltip-id="settings.showCardOfTheDay"
                        />
                        <div class="slider round"></div>
                        <span>Card of the Day</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="card-of-the-day-desc" class="settings-description">
                        Display a rotating featured card on the landing screen.
                      </p>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-item__control-row">
                      <label for="full-navigation-map-toggle" class="switch">
                        <input
                          type="checkbox"
                          id="full-navigation-map-toggle"
                          name="fullNavigationMap"
                          aria-label="Full Navigation Map"
                          aria-describedby="full-navigation-map-desc"
                          data-tooltip-id="settings.fullNavigationMap"
                        />
                        <div class="slider round"></div>
                        <span>Full Navigation Map</span>
                      </label>
                    </div>
                    <div class="settings-item__description-row">
                      <p id="full-navigation-map-desc" class="settings-description">
                        Display an overlay map linking to every page.
                      </p>
                    </div>
                  </div>
                </fieldset>
              </details>
            </div>

            <div class="modern-card">
              <details class="settings-section" data-section-id="gameModes">
                <summary>Game Modes</summary>
                <fieldset
                  id="game-mode-toggle-container"
                  class="game-mode-toggle-container settings-form"
                  aria-label="Game Mode Selector"
                ></fieldset>
              </details>
            </div>
          </div>
          <div class="modern-card">
            <details class="settings-section" data-section-id="advanced">
              <summary>Developer Settings</summary>
              <div class="advanced-settings-search">
                <label for="advanced-settings-search" class="visually-hidden"
                  >Search developer settings</label
                >
                <input
                  type="search"
                  id="advanced-settings-search"
                  placeholder="Search developer settings"
                  autocomplete="off"
                  aria-describedby="advanced-settings-search-status"
                />
                <p id="advanced-settings-no-results" class="settings-description" hidden>
                  No developer settings match your search.
                </p>
                <span
                  id="advanced-settings-search-status"
                  class="visually-hidden"
                  role="status"
                  aria-live="polite"
                ></span>
              </div>
              <fieldset
                id="feature-flags-container"
                class="game-mode-toggle-container settings-form"
              >
                <!-- Feature flag toggles are inserted here dynamically from the canonical registry -->
              </fieldset>
            </details>
          </div>
          <div class="modern-card">
            <details class="settings-section" data-section-id="links">
              <summary>Links</summary>
              <fieldset id="links-container" class="settings-form">
                <ul class="settings-links-list settings-links-grid">
                  <li class="settings-item">
                    <a href="../pages/changeLog.html" id="changelog-link" tabindex="99"
                      >View Change Log</a
                    >
                  </li>
                  <li class="settings-item">
                    <a href="../pages/prdViewer.html" id="prdviewer-link" tabindex="100"
                      >View PRD Documents</a
                    >
                  </li>
                  <li class="settings-item">
                    <a href="../pages/mockupViewer.html" id="mockupviewer-link" tabindex="101"
                      >View Design Mockups</a
                    >
                  </li>
                  <li class="settings-item">
                    <a href="../pages/tooltipViewer.html" id="tooltipviewer-link" tabindex="103"
                      >View Tooltip Descriptions</a
                    >
                  </li>
                </ul>
                <div class="settings-item">
                  <div class="centered-button-container u-flex u-justify-center">
                    <button type="button" id="reset-settings-button" tabindex="103">
                      Restore Defaults
                    </button>
                  </div>
                </div>
              </fieldset>
            </details>
          </div>
          <button type="submit" class="visually-hidden">Apply Settings</button>
        </form>
        <dialog
          id="settings-error-popup"
          class="settings-error-popup"
          role="alertdialog"
          aria-live="assertive"
        ></dialog>
      </main>

      <script type="module" src="../helpers/setupDisplaySettings.js"></script>

      <noscript>
        <p class="noscript-warning">
          JU-DO-KON! requires JavaScript to run. Please enable JavaScript to play.
        </p>
      </noscript>

      <script type="module" src="../helpers/settingsPage.js"></script>
      <script nomodule>
        alert(
          "Your browser does not support modern JavaScript. Please update your browser to play JU-DO-KON!"
        );
      </script>
      <script type="module" src="../helpers/setupSvgFallback.js"></script>
    </div>
    <div id="snackbar-container" role="status" aria-live="polite"></div>
  </body>
</html>
